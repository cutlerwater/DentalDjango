function uncode_progress_bar(){jQuery.each(jQuery(".vc_progress_bar"),function(index,val){if(!UNCODE.isMobile)new Waypoint({element:val,handler:function(){var element=jQuery(this.element);element.find(".vc_single_bar").each(function(index){var $this=jQuery(this),bar=$this.find(".vc_bar"),val=bar.data("percentage-value");setTimeout(function(){bar.css({width:val+"%"})},index*200)})},offset:"80%"});else{var element=jQuery(val);element.find(".vc_single_bar").each(function(index){var $this=jQuery(this),bar=$this.find(".vc_bar"),val=bar.data("percentage-value");setTimeout(function(){bar.css({width:val+"%"})},index*200)})}})}(function(window,$){"use strict";function testLineDimensions($line,maxWidth,property,size,interval,units,previousWidth){var width;previousWidth=typeof previousWidth=="number"?previousWidth:0,$line.css(property,size+units),width=$line.width();if(width>=maxWidth){$line.css(property,"");if(width===maxWidth)return{match:"exact",size:parseFloat((parseFloat(size)-.1).toFixed(3))};var under=maxWidth-previousWidth,over=width-maxWidth;return{match:"estimate",size:parseFloat((parseFloat(size)-(property==="word-spacing"&&previousWidth&&over<under?0:interval)).toFixed(3))}}return width}function calculateSizes($t,$children,maxWidth,maxFontSize,minFontSize){var $c=$t.clone(!0).addClass("bigtext-cloned").css({fontFamily:$t.css("font-family"),textTransform:$t.css("text-transform"),wordSpacing:$t.css("word-spacing"),letterSpacing:$t.css("letter-spacing"),position:"absolute",left:BigText.DEBUG_MODE?0:-9999,top:BigText.DEBUG_MODE?0:-9999}).appendTo(document.body),fontSizes=[],wordSpacings=[],minFontSizes=[],ratios=[];return $children.css("float","left").each(function(){var $line=$(this),intervals=BigText.supports.wholeNumberFontSizeOnly?[8,4,1]:[8,4,1,.1],lineMax,newFontSize;if($line.hasClass(BigText.EXEMPT_CLASS)){fontSizes.push(null),ratios.push(null),minFontSizes.push(!1);return}var autoGuessSubtraction=32,currentFontSize=parseFloat($line.css("font-size")),ratio=($line.width()/currentFontSize).toFixed(6);newFontSize=parseInt(maxWidth/ratio,10)-autoGuessSubtraction;e:for(var m=0,n=intervals.length;m<n;m++)t:for(var j=1,k=10;j<=k;j++){if(newFontSize+j*intervals[m]>maxFontSize){newFontSize=maxFontSize;break e}lineMax=testLineDimensions($line,maxWidth,"font-size",newFontSize+j*intervals[m],intervals[m],"px",lineMax);if(typeof lineMax!="number"){newFontSize=lineMax.size;if(lineMax.match==="exact")break e;break t}}ratios.push(maxWidth/newFontSize),newFontSize>maxFontSize?(fontSizes.push(maxFontSize),minFontSizes.push(!1)):!!minFontSize&&newFontSize<minFontSize?(fontSizes.push(minFontSize),minFontSizes.push(!0)):(fontSizes.push(newFontSize),minFontSizes.push(!1))}).each(function(lineNumber){var $line=$(this),wordSpacing=0,interval=1,maxWordSpacing;if($line.hasClass(BigText.EXEMPT_CLASS)){wordSpacings.push(null);return}$line.css("font-size",fontSizes[lineNumber]+"px");for(var m=1,n=3;m<n;m+=interval){maxWordSpacing=testLineDimensions($line,maxWidth,"word-spacing",m,interval,"px",maxWordSpacing);if(typeof maxWordSpacing!="number"){wordSpacing=maxWordSpacing.size;break}}$line.css("font-size",""),wordSpacings.push(wordSpacing)}).removeAttr("style"),BigText.DEBUG_MODE?$c.css({"background-color":"rgba(255,255,255,.4)"}):$c.remove(),{fontSizes:fontSizes,wordSpacings:wordSpacings,ratios:ratios,minFontSizes:minFontSizes}}var counter=0,$headCache=$("head"),oldBigText=window.BigText,oldjQueryMethod=$.fn.bigtext,BigText={DEBUG_MODE:!1,DEFAULT_MIN_FONT_SIZE_PX:null,DEFAULT_MAX_FONT_SIZE_PX:528,GLOBAL_STYLE_ID:"bigtext-style",STYLE_ID:"bigtext-id",LINE_CLASS_PREFIX:"bigtext-line",EXEMPT_CLASS:"bigtext-exempt",noConflict:function(restore){return restore&&($.fn.bigtext=oldjQueryMethod,window.BigText=oldBigText),BigText},supports:{wholeNumberFontSizeOnly:function(){if("getComputedStyle"in window){var test=$("<div/>").css({position:"absolute","font-size":"14.1px"}).insertBefore($("script").eq(0)),computedStyle=window.getComputedStyle(test[0],null),ret=computedStyle&&computedStyle.getPropertyValue("font-size")==="14px";return test.remove(),ret}return!0}()},init:function(){$("#"+BigText.GLOBAL_STYLE_ID).length||$headCache.append(BigText.generateStyleTag(BigText.GLOBAL_STYLE_ID,[".bigtext * { white-space: nowrap; } .bigtext > * { display: block; }",".bigtext ."+BigText.EXEMPT_CLASS+", .bigtext ."+BigText.EXEMPT_CLASS+" * { white-space: normal; }"]))},bindResize:function(eventName,resizeFunction){var timeoutId;$(window).unbind(eventName).bind(eventName,function(){timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout(resizeFunction,300)})},getStyleId:function(id){return BigText.STYLE_ID+"-"+id},generateStyleTag:function(id,css){return $("<style>"+css.join("\n")+"</style>").attr("id",id)},clearCss:function(id){var styleId=BigText.getStyleId(id);$("#"+styleId).remove()},generateCss:function(id,linesFontSizes,lineWordSpacings,minFontSizes){var css=[];BigText.clearCss(id);for(var j=0,k=linesFontSizes.length;j<k;j++)css.push("#"+id+" ."+BigText.LINE_CLASS_PREFIX+j+" {"+(minFontSizes[j]?" white-space: normal;":"")+(linesFontSizes[j]?" font-size: "+linesFontSizes[j]+"px;":"")+(lineWordSpacings[j]?" word-spacing: "+lineWordSpacings[j]+"px;":"")+"}");return BigText.generateStyleTag(BigText.getStyleId(id),css)},jQueryMethod:function(options){return BigText.init(),options=$.extend({minfontsize:BigText.DEFAULT_MIN_FONT_SIZE_PX,maxfontsize:BigText.DEFAULT_MAX_FONT_SIZE_PX,childSelector:"",resize:!0},options||{}),this.each(function(){var $t=$(this).addClass("bigtext"),maxWidth=$t.width(),id=$t.attr("id"),$children=options.childSelector?$t.find(options.childSelector):$t.children();id||(id="bigtext-id"+counter++,$t.attr("id",id)),options.resize&&BigText.bindResize("resize.bigtext-event-"+id,function(){BigText.jQueryMethod.call($("#"+id),options)}),BigText.clearCss(id),$children.addClass(function(lineNumber,className){return[className.replace(new RegExp("\\b"+BigText.LINE_CLASS_PREFIX+"\\d+\\b"),""),BigText.LINE_CLASS_PREFIX+lineNumber].join(" ")});var sizes=calculateSizes($t,$children,maxWidth,options.maxfontsize,options.minfontsize);$headCache.append(BigText.generateCss(id,sizes.fontSizes,sizes.wordSpacings,sizes.minFontSizes))}),this.trigger("bigtext:complete")}};$.fn.bigtext=BigText.jQueryMethod,window.BigText=BigText})(this,jQuery),function(window){function noop(){}function defineBridget($){function addOptionMethod(PluginClass){if(PluginClass.prototype.option)return;PluginClass.prototype.option=function(opts){if(!$.isPlainObject(opts))return;this.options=$.extend(!0,this.options,opts)}}function bridge(namespace,PluginClass){$.fn[namespace]=function(options){if(typeof options=="string"){var args=slice.call(arguments,1);for(var i=0,len=this.length;i<len;i++){var elem=this[i],instance=$.data(elem,namespace);if(!instance){logError("cannot call methods on "+namespace+" prior to initialization; "+"attempted to call '"+options+"'");continue}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){logError("no such method '"+options+"' for "+namespace+" instance");continue}var returnValue=instance[options].apply(instance,args);if(returnValue!==undefined)return returnValue}return this}return this.each(function(){var instance=$.data(this,namespace);instance?(instance.option(options),instance._init()):(instance=new PluginClass(this,options),$.data(this,namespace,instance))})}}if(!$)return;var logError=typeof console=="undefined"?noop:function(message){console.error(message)};return $.bridget=function(namespace,PluginClass){addOptionMethod(PluginClass),bridge(namespace,PluginClass)},$.bridget}var slice=Array.prototype.slice;typeof define=="function"&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],defineBridget):typeof exports=="object"?defineBridget(require("jquery")):defineBridget(window.jQuery)}(window),function(window){function getIEEvent(obj){var event=window.event;return event.target=event.target||event.srcElement||obj,event}var docElem=document.documentElement,bind=function(){};docElem.addEventListener?bind=function(obj,type,fn){obj.addEventListener(type,fn,!1)}:docElem.attachEvent&&(bind=function(obj,type,fn){obj[type+fn]=fn.handleEvent?function(){var event=getIEEvent(obj);fn.handleEvent.call(fn,event)}:function(){var event=getIEEvent(obj);fn.call(obj,event)},obj.attachEvent("on"+type,obj[type+fn])});var unbind=function(){};docElem.removeEventListener?unbind=function(obj,type,fn){obj.removeEventListener(type,fn,!1)}:docElem.detachEvent&&(unbind=function(obj,type,fn){obj.detachEvent("on"+type,obj[type+fn]);try{delete obj[type+fn]}catch(err){obj[type+fn]=undefined}});var eventie={bind:bind,unbind:unbind};typeof define=="function"&&define.amd?define("eventie/eventie",eventie):typeof exports=="object"?module.exports=eventie:window.eventie=eventie}(window),function(){"use strict";function EventEmitter(){}function indexOfListener(listeners,listener){var i=listeners.length;while(i--)if(listeners[i].listener===listener)return i;return-1}function alias(name){return function aliasClosure(){return this[name].apply(this,arguments)}}var proto=EventEmitter.prototype,exports=this,originalGlobalValue=exports.EventEmitter;proto.getListeners=function getListeners(evt){var events=this._getEvents(),response,key;if(evt instanceof RegExp){response={};for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&(response[key]=events[key])}else response=events[evt]||(events[evt]=[]);return response},proto.flattenListeners=function flattenListeners(listeners){var flatListeners=[],i;for(i=0;i<listeners.length;i+=1)flatListeners.push(listeners[i].listener);return flatListeners},proto.getListenersAsObject=function getListenersAsObject(evt){var listeners=this.getListeners(evt),response;return listeners instanceof Array&&(response={},response[evt]=listeners),response||listeners},proto.addListener=function addListener(evt,listener){var listeners=this.getListenersAsObject(evt),listenerIsWrapped=typeof listener=="object",key;for(key in listeners)listeners.hasOwnProperty(key)&&indexOfListener(listeners[key],listener)===-1&&listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:!1});return this},proto.on=alias("addListener"),proto.addOnceListener=function addOnceListener(evt,listener){return this.addListener(evt,{listener:listener,once:!0})},proto.once=alias("addOnceListener"),proto.defineEvent=function defineEvent(evt){return this.getListeners(evt),this},proto.defineEvents=function defineEvents(evts){for(var i=0;i<evts.length;i+=1)this.defineEvent(evts[i]);return this},proto.removeListener=function removeListener(evt,listener){var listeners=this.getListenersAsObject(evt),index,key;for(key in listeners)listeners.hasOwnProperty(key)&&(index=indexOfListener(listeners[key],listener),index!==-1&&listeners[key].splice(index,1));return this},proto.off=alias("removeListener"),proto.addListeners=function addListeners(evt,listeners){return this.manipulateListeners(!1,evt,listeners)},proto.removeListeners=function removeListeners(evt,listeners){return this.manipulateListeners(!0,evt,listeners)},proto.manipulateListeners=function manipulateListeners(remove,evt,listeners){var i,value,single=remove?this.removeListener:this.addListener,multiple=remove?this.removeListeners:this.addListeners;if(typeof evt!="object"||evt instanceof RegExp){i=listeners.length;while(i--)single.call(this,evt,listeners[i])}else for(i in evt)evt.hasOwnProperty(i)&&(value=evt[i])&&(typeof value=="function"?single.call(this,i,value):multiple.call(this,i,value));return this},proto.removeEvent=function removeEvent(evt){var type=typeof evt,events=this._getEvents(),key;if(type==="string")delete events[evt];else if(evt instanceof RegExp)for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&delete events[key];else delete this._events;return this},proto.removeAllListeners=alias("removeEvent"),proto.emitEvent=function emitEvent(evt,args){var listeners=this.getListenersAsObject(evt),listener,i,key,response;for(key in listeners)if(listeners.hasOwnProperty(key)){i=listeners[key].length;while(i--)listener=listeners[key][i],listener.once===!0&&this.removeListener(evt,listener.listener),response=listener.listener.apply(this,args||[]),response===this._getOnceReturnValue()&&this.removeListener(evt,listener.listener)}return this},proto.trigger=alias("emitEvent"),proto.emit=function emit(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)},proto.setOnceReturnValue=function setOnceReturnValue(value){return this._onceReturnValue=value,this},proto._getOnceReturnValue=function _getOnceReturnValue(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},proto._getEvents=function _getEvents(){return this._events||(this._events={})},EventEmitter.noConflict=function noConflict(){return exports.EventEmitter=originalGlobalValue,EventEmitter},typeof define=="function"&&define.amd?define("eventEmitter/EventEmitter",[],function(){return EventEmitter}):typeof module=="object"&&module.exports?module.exports=EventEmitter:exports.EventEmitter=EventEmitter}.call(this),function(window){function getStyleProperty(propName){if(!propName)return;if(typeof docElemStyle[propName]=="string")return propName;propName=propName.charAt(0).toUpperCase()+propName.slice(1);var prefixed;for(var i=0,len=prefixes.length;i<len;i++){prefixed=prefixes[i]+propName;if(typeof docElemStyle[prefixed]=="string")return prefixed}}var prefixes="Webkit Moz ms Ms O".split(" "),docElemStyle=document.documentElement.style;typeof define=="function"&&define.amd?define("get-style-property/get-style-property",[],function(){return getStyleProperty}):typeof exports=="object"?module.exports=getStyleProperty:window.getStyleProperty=getStyleProperty}(window),function(window,undefined){function getStyleSize(value){var num=parseFloat(value),isValid=value.indexOf("%")===-1&&!isNaN(num);return isValid&&num}function noop(){}function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0,len=measurements.length;i<len;i++){var measurement=measurements[i];size[measurement]=0}return size}function defineGetSize(getStyleProperty){function setup(){if(isSetup)return;isSetup=!0;var getComputedStyle=window.getComputedStyle;getStyle=function(){var getStyleFn=getComputedStyle?function(elem){return getComputedStyle(elem,null)}:function(elem){return elem.currentStyle};return function getStyle(elem){var style=getStyleFn(elem);return style||logError("Style returned "+style+". Are you running this code in a hidden iframe on Firefox? "+"See http://bit.ly/getsizebug1"),style}}(),boxSizingProp=getStyleProperty("boxSizing");if(boxSizingProp){var div=document.createElement("div");div.style.width="200px",div.style.padding="1px 2px 3px 4px",div.style.borderStyle="solid",div.style.borderWidth="1px 2px 3px 4px",div.style[boxSizingProp]="border-box";var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);isBoxSizeOuter=getStyleSize(style.width)===200,body.removeChild(div)}}function getSize(elem){setup(),typeof elem=="string"&&(elem=document.querySelector(elem));if(!elem||typeof elem!="object"||!elem.nodeType)return;var style=getStyle(elem);if(style.display==="none")return getZeroSize();var size={};size.width=elem.offsetWidth,size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=!!boxSizingProp&&!!style[boxSizingProp]&&style[boxSizingProp]==="border-box";for(var i=0,len=measurements.length;i<len;i++){var measurement=measurements[i],value=style[measurement];value=mungeNonPixel(elem,value);var num=parseFloat(value);size[measurement]=isNaN(num)?0:num}var paddingWidth=size.paddingLeft+size.paddingRight,paddingHeight=size.paddingTop+size.paddingBottom,marginWidth=size.marginLeft+size.marginRight,marginHeight=size.marginTop+size.marginBottom,borderWidth=size.borderLeftWidth+size.borderRightWidth,borderHeight=size.borderTopWidth+size.borderBottomWidth,isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter,styleWidth=getStyleSize(style.width);styleWidth!==!1&&(size.width=styleWidth+(isBorderBoxSizeOuter?0:paddingWidth+borderWidth));var styleHeight=getStyleSize(style.height);return styleHeight!==!1&&(size.height=styleHeight+(isBorderBoxSizeOuter?0:paddingHeight+borderHeight)),size.innerWidth=size.width-(paddingWidth+borderWidth),size.innerHeight=size.height-(paddingHeight+borderHeight),size.outerWidth=size.width+marginWidth,size.outerHeight=size.height+marginHeight,size}function mungeNonPixel(elem,value){if(window.getComputedStyle||value.indexOf("%")===-1)return value;var style=elem.style,left=style.left,rs=elem.runtimeStyle,rsLeft=rs&&rs.left;return rsLeft&&(rs.left=elem.currentStyle.left),style.left=value,value=style.pixelLeft,style.left=left,rsLeft&&(rs.left=rsLeft),value}var isSetup=!1,getStyle,boxSizingProp,isBoxSizeOuter;return getSize}var logError=typeof console=="undefined"?noop:function(message){console.error(message)},measurements=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];typeof define=="function"&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],defineGetSize):typeof exports=="object"?module.exports=defineGetSize(require("desandro-get-style-property")):window.getSize=defineGetSize(window.getStyleProperty)}(window),function(window){function docReady(fn){if(typeof fn!="function")return;docReady.isReady?fn():queue.push(fn)}function onReady(event){var isIE8NotReady=event.type==="readystatechange"&&document.readyState!=="complete";if(docReady.isReady||isIE8NotReady)return;trigger()}function trigger(){docReady.isReady=!0;for(var i=0,len=queue.length;i<len;i++){var fn=queue[i];fn()}}function defineDocReady(eventie){return document.readyState==="complete"?trigger():(eventie.bind(document,"DOMContentLoaded",onReady),eventie.bind(document,"readystatechange",onReady),eventie.bind(window,"load",onReady)),docReady}var document=window.document,queue=[];docReady.isReady=!1,typeof define=="function"&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],defineDocReady):typeof exports=="object"?module.exports=defineDocReady(require("eventie")):window.docReady=defineDocReady(window.eventie)}(window),function(ElemProto){"use strict";function match(elem,selector){return elem[matchesMethod](selector)}function checkParent(elem){if(elem.parentNode)return;var fragment=document.createDocumentFragment();fragment.appendChild(elem)}function query(elem,selector){checkParent(elem);var elems=elem.parentNode.querySelectorAll(selector);for(var i=0,len=elems.length;i<len;i++)if(elems[i]===elem)return!0;return!1}function matchChild(elem,selector){return checkParent(elem),match(elem,selector)}var matchesMethod=function(){if(ElemProto.matches)return"matches";if(ElemProto.matchesSelector)return"matchesSelector";var prefixes=["webkit","moz","ms","o"];for(var i=0,len=prefixes.length;i<len;i++){var prefix=prefixes[i],method=prefix+"MatchesSelector";if(ElemProto[method])return method}}(),matchesSelector;if(matchesMethod){var div=document.createElement("div"),supportsOrphans=match(div,"div");matchesSelector=supportsOrphans?match:matchChild}else matchesSelector=query;typeof define=="function"&&define.amd?define("matches-selector/matches-selector",[],function(){return matchesSelector}):typeof exports=="object"?module.exports=matchesSelector:window.matchesSelector=matchesSelector}(Element.prototype),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(docReady,matchesSelector){return factory(window,docReady,matchesSelector)}):typeof exports=="object"?module.exports=factory(window,require("doc-ready"),require("desandro-matches-selector")):window.fizzyUIUtils=factory(window,window.docReady,window.matchesSelector)}(window,function factory(window,docReady,matchesSelector){var utils={};utils.extend=function(a,b){for(var prop in b)a[prop]=b[prop];return a},utils.modulo=function(num,div){return(num%div+div)%div};var objToString=Object.prototype.toString;utils.isArray=function(obj){return objToString.call(obj)=="[object Array]"},utils.makeArray=function(obj){var ary=[];if(utils.isArray(obj))ary=obj;else if(obj&&typeof obj.length=="number")for(var i=0,len=obj.length;i<len;i++)ary.push(obj[i]);else ary.push(obj);return ary},utils.indexOf=Array.prototype.indexOf?function(ary,obj){return ary.indexOf(obj)}:function(ary,obj){for(var i=0,len=ary.length;i<len;i++)if(ary[i]===obj)return i;return-1},utils.removeFrom=function(ary,obj){var index=utils.indexOf(ary,obj);index!=-1&&ary.splice(index,1)},utils.isElement=typeof HTMLElement=="function"||typeof HTMLElement=="object"?function isElementDOM2(obj){return obj instanceof HTMLElement}:function isElementQuirky(obj){return obj&&typeof obj=="object"&&obj.nodeType==1&&typeof obj.nodeName=="string"},utils.setText=function(){function setText(elem,text){setTextProperty=setTextProperty||(document.documentElement.textContent!==undefined?"textContent":"innerText"),elem[setTextProperty]=text}var setTextProperty;return setText}(),utils.getParent=function(elem,selector){while(elem!=document.body){elem=elem.parentNode;if(matchesSelector(elem,selector))return elem}},utils.getQueryElement=function(elem){return typeof elem=="string"?document.querySelector(elem):elem},utils.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},utils.filterFindElements=function(elems,selector){elems=utils.makeArray(elems);var ffElems=[];for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];if(!utils.isElement(elem)&&!SiteParameters.is_frontend_editor)continue;if(selector){matchesSelector(elem,selector)&&ffElems.push(elem);var childElems=elem.querySelectorAll(selector);for(var j=0,jLen=childElems.length;j<jLen;j++)ffElems.push(childElems[j])}else ffElems.push(elem)}return ffElems},utils.debounceMethod=function(_class,methodName,threshold){var method=_class.prototype[methodName],timeoutName=methodName+"Timeout";_class.prototype[methodName]=function(){var timeout=this[timeoutName];timeout&&clearTimeout(timeout);var args=arguments,_this=this;this[timeoutName]=setTimeout(function(){method.apply(_this,args),delete _this[timeoutName]},threshold||100)}},utils.toDashed=function(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+"-"+$2}).toLowerCase()};var console=window.console;return utils.htmlInit=function(WidgetClass,namespace){docReady(function(){var dashedNamespace=utils.toDashed(namespace),elems=document.querySelectorAll(".js-"+dashedNamespace),dataAttr="data-"+dashedNamespace+"-options";for(var i=0,len=elems.length;i<len;i++){var elem=elems[i],attr=elem.getAttribute(dataAttr),options;try{options=attr&&JSON.parse(attr)}catch(error){console&&console.error("Error parsing "+dataAttr+" on "+elem.nodeName.toLowerCase()+(elem.id?"#"+elem.id:"")+": "+error);continue}var instance=new WidgetClass(elem,options),jQuery=window.jQuery;jQuery&&jQuery.data(elem,namespace,instance)}})},utils}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(EventEmitter,getSize,getStyleProperty,utils){return factory(window,EventEmitter,getSize,getStyleProperty,utils)}):typeof exports=="object"?module.exports=factory(window,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(window.Outlayer={},window.Outlayer.Item=factory(window,window.EventEmitter,window.getSize,window.getStyleProperty,window.fizzyUIUtils))}(window,function factory(window,EventEmitter,getSize,getStyleProperty,utils){"use strict";function isEmptyObj(obj){for(var prop in obj)return!1;return prop=null,!0}function Item(element,layout){if(!element)return;this.element=element,this.layout=layout,this.position={x:0,y:0},this._create()}function toDashedAll(str){return str.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}var getComputedStyle=window.getComputedStyle,getStyle=getComputedStyle?function(elem){return getComputedStyle(elem,null)}:function(elem){return elem.currentStyle},transitionProperty=getStyleProperty("transition"),transformProperty=getStyleProperty("transform"),supportsCSS3=transitionProperty&&transformProperty,is3d=!!getStyleProperty("perspective"),transitionEndEvent={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[transitionProperty],prefixableProperties=["transform","transition","transitionDuration","transitionProperty"],vendorProperties=function(){var cache={};for(var i=0,len=prefixableProperties.length;i<len;i++){var prop=prefixableProperties[i],supportedProp=getStyleProperty(prop);supportedProp&&supportedProp!==prop&&(cache[prop]=supportedProp)}return cache}();utils.extend(Item.prototype,EventEmitter.prototype),Item.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},Item.prototype.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},Item.prototype.getSize=function(){this.size=getSize(this.element)},Item.prototype.css=function(style){var elemStyle=this.element.style;for(var prop in style){var supportedProp=vendorProperties[prop]||prop;elemStyle[supportedProp]=style[prop]}},Item.prototype.getPosition=function(){var style=getStyle(this.element),layoutOptions=this.layout.options,isOriginLeft=layoutOptions.isOriginLeft,isOriginTop=layoutOptions.isOriginTop,xValue=style[isOriginLeft?"left":"right"],yValue=style[isOriginTop?"top":"bottom"],layoutSize=this.layout.size,x=xValue.indexOf("%")!=-1?parseFloat(xValue)/100*layoutSize.width:parseInt(xValue,10),y=yValue.indexOf("%")!=-1?parseFloat(yValue)/100*layoutSize.height:parseInt(yValue,10);x=isNaN(x)?0:x,y=isNaN(y)?0:y,x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight,y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom,this.position.x=x,this.position.y=y},Item.prototype.layoutPosition=function(){var layoutSize=this.layout.size,layoutOptions=this.layout.options,style={},xPadding=layoutOptions.isOriginLeft?"paddingLeft":"paddingRight",xProperty=layoutOptions.isOriginLeft?"left":"right",xResetProperty=layoutOptions.isOriginLeft?"right":"left",x=this.position.x+layoutSize[xPadding];style[xProperty]=this.getXValue(x),style[xResetProperty]="";var yPadding=layoutOptions.isOriginTop?"paddingTop":"paddingBottom",yProperty=layoutOptions.isOriginTop?"top":"bottom",yResetProperty=layoutOptions.isOriginTop?"bottom":"top",y=this.position.y+layoutSize[yPadding];style[yProperty]=this.getYValue(y),style[yResetProperty]="",this.css(style),this.emitEvent("layout",[this])},Item.prototype.getXValue=function(x){var layoutOptions=this.layout.options;return layoutOptions.percentPosition&&!layoutOptions.isHorizontal?x/this.layout.size.width*100+"%":x+"px"},Item.prototype.getYValue=function(y){var layoutOptions=this.layout.options;return layoutOptions.percentPosition&&layoutOptions.isHorizontal?y/this.layout.size.height*100+"%":y+"px"},Item.prototype._transitionTo=function(x,y){this.getPosition();var curX=this.position.x,curY=this.position.y,compareX=parseInt(x,10),compareY=parseInt(y,10),didNotMove=compareX===this.position.x&&compareY===this.position.y;this.setPosition(x,y);if(didNotMove&&!this.isTransitioning){this.layoutPosition();return}var transX=x-curX,transY=y-curY,transitionStyle={};transitionStyle.transform=this.getTranslate(transX,transY),this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},Item.prototype.getTranslate=function(x,y){var layoutOptions=this.layout.options;return x=layoutOptions.isOriginLeft?x:-x,y=layoutOptions.isOriginTop?y:-y,is3d?"translate3d("+x+"px, "+y+"px, 0)":"translate("+x+"px, "+y+"px)"},Item.prototype.goTo=function(x,y){this.setPosition(x,y),this.layoutPosition()},Item.prototype.moveTo=supportsCSS3?Item.prototype._transitionTo:Item.prototype.goTo,Item.prototype.setPosition=function(x,y){this.position.x=parseInt(x,10),this.position.y=parseInt(y,10)},Item.prototype._nonTransition=function(args){this.css(args.to),args.isCleaning&&this._removeStyles(args.to);for(var prop in args.onTransitionEnd)args.onTransitionEnd[prop].call(this)},Item.prototype._transition=function(args){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(args);return}var _transition=this._transn;for(var prop in args.onTransitionEnd)_transition.onEnd[prop]=args.onTransitionEnd[prop];for(prop in args.to)_transition.ingProperties[prop]=!0,args.isCleaning&&(_transition.clean[prop]=!0);if(args.from){this.css(args.from);var h=this.element.offsetHeight;h=null}this.enableTransition(args.to),this.css(args.to),this.isTransitioning=!0};var transitionProps="opacity,"+toDashedAll(vendorProperties.transform||"transform");Item.prototype.enableTransition=function(){if(this.isTransitioning)return;this.css({transitionProperty:transitionProps,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(transitionEndEvent,this,!1)},Item.prototype.transition=Item.prototype[transitionProperty?"_transition":"_nonTransition"],Item.prototype.onwebkitTransitionEnd=function(event){this.ontransitionend(event)},Item.prototype.onotransitionend=function(event){this.ontransitionend(event)};var dashedVendorProperties={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};Item.prototype.ontransitionend=function(event){if(event.target!==this.element)return;var _transition=this._transn,propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;delete _transition.ingProperties[propertyName],isEmptyObj(_transition.ingProperties)&&this.disableTransition(),propertyName in _transition.clean&&(this.element.style[event.propertyName]="",delete _transition.clean[propertyName]);if(propertyName in _transition.onEnd){var onTransitionEnd=_transition.onEnd[propertyName];onTransitionEnd.call(this),delete _transition.onEnd[propertyName]}this.emitEvent("transitionEnd",[this])},Item.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(transitionEndEvent,this,!1),this.isTransitioning=!1},Item.prototype._removeStyles=function(style){var cleanStyle={};for(var prop in style)cleanStyle[prop]="";this.css(cleanStyle)};var cleanTransitionStyle={transitionProperty:"",transitionDuration:""};return Item.prototype.removeTransitionStyles=function(){this.css(cleanTransitionStyle)},Item.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},Item.prototype.remove=function(){if(!transitionProperty||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var _this=this;this.once("transitionEnd",function(){_this.removeElem()}),this.hide()},Item.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var options=this.layout.options,onTransitionEnd={},transitionEndProperty=this.getHideRevealTransitionEndProperty("visibleStyle");onTransitionEnd[transitionEndProperty]=this.onRevealTransitionEnd,this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:!0,onTransitionEnd:onTransitionEnd})},Item.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},Item.prototype.getHideRevealTransitionEndProperty=function(styleProperty){var optionStyle=this.layout.options[styleProperty];if(optionStyle.opacity)return"opacity";for(var prop in optionStyle)return prop},Item.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var options=this.layout.options,onTransitionEnd={},transitionEndProperty=this.getHideRevealTransitionEndProperty("hiddenStyle");onTransitionEnd[transitionEndProperty]=this.onHideTransitionEnd,this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:!0,onTransitionEnd:onTransitionEnd})},Item.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},Item.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},Item}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(eventie,EventEmitter,getSize,utils,Item){return factory(window,eventie,EventEmitter,getSize,utils,Item)}):typeof exports=="object"?module.exports=factory(window,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):window.Outlayer=factory(window,window.eventie,window.EventEmitter,window.getSize,window.fizzyUIUtils,window.Outlayer.Item)}(window,function factory(window,eventie,EventEmitter,getSize,utils,Item){"use strict";function Outlayer(element,options){var queryElement=utils.getQueryElement(element);if(!queryElement){console&&console.error("Bad element for "+this.constructor.namespace+": "+(queryElement||element));return}this.element=queryElement,jQuery&&(this.$element=jQuery(this.element)),this.options=utils.extend({},this.constructor.defaults),this.option(options);var id=++GUID;this.element.outlayerGUID=id,instances[id]=this,this._create(),this.options.isInitLayout&&this.layout()}var console=window.console,jQuery=window.jQuery,noop=function(){},GUID=0,instances={};return Outlayer.namespace="outlayer",Outlayer.Item=Item,Outlayer.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},utils.extend(Outlayer.prototype,EventEmitter.prototype),Outlayer.prototype.option=function(opts){utils.extend(this.options,opts)},Outlayer.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),utils.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},Outlayer.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},Outlayer.prototype._itemize=function(elems){var itemElems=this._filterFindItemElements(elems),Item=this.constructor.Item,items=[];for(var i=0,len=itemElems.length;i<len;i++){var elem=itemElems[i],item=new Item(elem,this);items.push(item)}return items},Outlayer.prototype._filterFindItemElements=function(elems){return utils.filterFindElements(elems,this.options.itemSelector)},Outlayer.prototype.getItemElements=function(){var elems=[];for(var i=0,len=this.items.length;i<len;i++)elems.push(this.items[i].element);return elems},Outlayer.prototype.layout=function(){this._resetLayout(),this._manageStamps();var isInstant=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant),this._isLayoutInited=!0},Outlayer.prototype._init=Outlayer.prototype.layout,Outlayer.prototype._resetLayout=function(){this.getSize()},Outlayer.prototype.getSize=function(){this.size=getSize(this.element)},Outlayer.prototype._getMeasurement=function(measurement,size){var option=this.options[measurement],elem;option?(typeof option=="string"?elem=this.element.querySelector(option):utils.isElement(option)&&(elem=option),this[measurement]=elem?getSize(elem)[size]:option):this[measurement]=0},Outlayer.prototype.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items),this._layoutItems(items,isInstant),this._postLayout()},Outlayer.prototype._getItemsForLayout=function(items){var layoutItems=[];for(var i=0,len=items.length;i<len;i++){var item=items[i];item.isIgnored||layoutItems.push(item)}return layoutItems},Outlayer.prototype._layoutItems=function(items,isInstant){this._emitCompleteOnItems("layout",items);if(!items||!items.length)return;var queue=[];for(var i=0,len=items.length;i<len;i++){var item=items[i],position=this._getItemLayoutPosition(item);position.item=item,position.isInstant=isInstant||item.isLayoutInstant,queue.push(position)}this._processLayoutQueue(queue)},Outlayer.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},Outlayer.prototype._processLayoutQueue=function(queue){for(var i=0,len=queue.length;i<len;i++){var obj=queue[i];this._positionItem(obj.item,obj.x,obj.y,obj.isInstant)}},Outlayer.prototype._positionItem=function(item,x,y,isInstant){isInstant?item.goTo(x,y):item.moveTo(x,y)},Outlayer.prototype._postLayout=function(){this.resizeContainer()},Outlayer.prototype.resizeContainer=function(){if(!this.options.isResizingContainer)return;var size=this._getContainerSize();size&&(this._setContainerMeasure(size.width,!0),this._setContainerMeasure(size.height,!1))},Outlayer.prototype._getContainerSize=noop,Outlayer.prototype._setContainerMeasure=function(measure,isWidth){if(measure===undefined)return;var elemSize=this.size;elemSize.isBorderBox&&(measure+=isWidth?elemSize.paddingLeft+elemSize.paddingRight+elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+elemSize.borderTopWidth+elemSize.borderBottomWidth),measure=Math.max(measure,0),this.element.style[isWidth?"width":"height"]=measure+"px"},Outlayer.prototype._emitCompleteOnItems=function(eventName,items){function onComplete(){_this.dispatchEvent(eventName+"Complete",null,[items])}function tick(){doneCount++,doneCount===count&&onComplete()}var _this=this,count=items.length;if(!items||!count){onComplete();return}var doneCount=0;for(var i=0,len=items.length;i<len;i++){var item=items[i];item.once(eventName,tick)}},Outlayer.prototype.dispatchEvent=function(type,event,args){var emitArgs=event?[event].concat(args):args;this.emitEvent(type,emitArgs);if(jQuery){this.$element=this.$element||jQuery(this.element);if(event){var $event=jQuery.Event(event);$event.type=type,this.$element.trigger($event,args)}else this.$element.trigger(type,args)}},Outlayer.prototype.ignore=function(elem){var item=this.getItem(elem);item&&(item.isIgnored=!0)},Outlayer.prototype.unignore=function(elem){var item=this.getItem(elem);item&&delete item.isIgnored},Outlayer.prototype.stamp=function(elems){elems=this._find(elems);if(!elems)return;this.stamps=this.stamps.concat(elems);for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];this.ignore(elem)}},Outlayer.prototype.unstamp=function(elems){elems=this._find(elems);if(!elems)return;for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];utils.removeFrom(this.stamps,elem),this.unignore(elem)}},Outlayer.prototype._find=function(elems){if(!elems)return;return typeof elems=="string"&&(elems=this.element.querySelectorAll(elems)),elems=utils.makeArray(elems),elems},Outlayer.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length)return;this._getBoundingRect();for(var i=0,len=this.stamps.length;i<len;i++){var stamp=this.stamps[i];this._manageStamp(stamp)}},Outlayer.prototype._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect(),size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+size.borderBottomWidth)}},Outlayer.prototype._manageStamp=noop,Outlayer.prototype._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect(),thisRect=this._boundingRect,size=getSize(elem),offset={left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom};return offset},Outlayer.prototype.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},Outlayer.prototype.bindResize=function(){if(this.isResizeBound)return;eventie.bind(window,"resize",this),this.isResizeBound=!0},Outlayer.prototype.unbindResize=function(){this.isResizeBound&&eventie.unbind(window,"resize",this),this.isResizeBound=!1},Outlayer.prototype.onresize=function(){function delayed(){_this.resize(),delete _this.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var _this=this;this.resizeTimeout=setTimeout(delayed,100)},Outlayer.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout())return;this.layout()},Outlayer.prototype.needsResizeLayout=function(){var size=getSize(this.element),hasSizes=this.size&&size;return hasSizes&&size.innerWidth!==this.size.innerWidth},Outlayer.prototype.addItems=function(elems){var items=this._itemize(elems);return items.length&&(this.items=this.items.concat(items)),items},Outlayer.prototype.appended=function(elems){var items=this.addItems(elems);if(!items.length)return;this.layoutItems(items,!0),this.reveal(items)},Outlayer.prototype.prepended=function(elems){var items=this._itemize(elems);if(!items.length)return;var previousItems=this.items.slice(0);this.items=items.concat(previousItems),this._resetLayout(),this._manageStamps(),this.layoutItems(items,!0),this.reveal(items),this.layoutItems(previousItems)},Outlayer.prototype.reveal=function(items){this._emitCompleteOnItems("reveal",items);var len=items&&items.length;for(var i=0;len&&i<len;i++){var item=items[i];item.reveal()}},Outlayer.prototype.hide=function(items){this._emitCompleteOnItems("hide",items);var len=items&&items.length;for(var i=0;len&&i<len;i++){var item=items[i];item.hide()}},Outlayer.prototype.revealItemElements=function(elems){var items=this.getItems(elems);this.reveal(items)},Outlayer.prototype.hideItemElements=function(elems){var items=this.getItems(elems);this.hide(items)},Outlayer.prototype.getItem=function(elem){for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];if(item.element===elem)return item}},Outlayer.prototype.getItems=function(elems){elems=utils.makeArray(elems);var items=[];for(var i=0,len=elems.length;i<len;i++){var elem=elems[i],item=this.getItem(elem);item&&items.push(item)}return items},Outlayer.prototype.remove=function(elems){var removeItems=this.getItems(elems);this._emitCompleteOnItems("remove",removeItems);if(!removeItems||!removeItems.length)return;for(var i=0,len=removeItems.length;i<len;i++){var item=removeItems[i];item.remove(),utils.removeFrom(this.items,item)}},Outlayer.prototype.destroy=function(){var style=this.element.style;style.height="",style.position="",style.width="";for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];item.destroy()}this.unbindResize();var id=this.element.outlayerGUID;delete instances[id],delete this.element.outlayerGUID,jQuery&&jQuery.removeData(this.element,this.constructor.namespace)},Outlayer.data=function(elem){elem=utils.getQueryElement(elem);var id=elem&&elem.outlayerGUID;return id&&instances[id]},Outlayer.create=function(namespace,options){function Layout(){Outlayer.apply(this,arguments)}return Object.create?Layout.prototype=Object.create(Outlayer.prototype):utils.extend(Layout.prototype,Outlayer.prototype),Layout.prototype.constructor=Layout,Layout.defaults=utils.extend({},Outlayer.defaults),utils.extend(Layout.defaults,options),Layout.prototype.settings={},Layout.namespace=namespace,Layout.data=Outlayer.data,Layout.Item=function LayoutItem(){Item.apply(this,arguments)},Layout.Item.prototype=new Item,utils.htmlInit(Layout,namespace),jQuery&&jQuery.bridget&&jQuery.bridget(namespace,Layout),Layout},Outlayer.Item=Item,Outlayer}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("isotope/js/item",["outlayer/outlayer"],factory):typeof exports=="object"?module.exports=factory(require("outlayer")):(window.Isotope=window.Isotope||{},window.Isotope.Item=factory(window.Outlayer))}(window,function factory(Outlayer){"use strict";function Item(){Outlayer.Item.apply(this,arguments)}Item.prototype=new Outlayer.Item,Item.prototype._create=function(){this.id=this.layout.itemGUID++,Outlayer.Item.prototype._create.call(this),this.sortData={}},Item.prototype.updateSortData=function(){if(this.isIgnored)return;this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var getSortData=this.layout.options.getSortData,sorters=this.layout._sorters;for(var key in getSortData){var sorter=sorters[key];this.sortData[key]=sorter(this.element,this)}};var _destroy=Item.prototype.destroy;return Item.prototype.destroy=function(){_destroy.apply(this,arguments),this.css({display:""})},Item}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],factory):typeof exports=="object"?module.exports=factory(require("get-size"),require("outlayer")):(window.Isotope=window.Isotope||{},window.Isotope.LayoutMode=factory(window.getSize,window.Outlayer))}(window,function factory(getSize,Outlayer){"use strict";function LayoutMode(isotope){this.isotope=isotope,isotope&&(this.options=isotope.options[this.namespace],this.element=isotope.element,this.items=isotope.filteredItems,this.size=isotope.size)}return function(){function getOutlayerMethod(methodName){return function(){return Outlayer.prototype[methodName].apply(this.isotope,arguments)}}var facadeMethods=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"];for(var i=0,len=facadeMethods.length;i<len;i++){var methodName=facadeMethods[i];LayoutMode.prototype[methodName]=getOutlayerMethod(methodName)}}(),LayoutMode.prototype.needsVerticalResizeLayout=function(){var size=getSize(this.isotope.element),hasSizes=this.isotope.size&&size;return hasSizes&&size.innerHeight!=this.isotope.size.innerHeight},LayoutMode.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},LayoutMode.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},LayoutMode.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},LayoutMode.prototype.getSegmentSize=function(segment,size){var segmentName=segment+size,outerSize="outer"+size;this._getMeasurement(segmentName,outerSize);if(this[segmentName])return;var firstItemSize=this.getFirstItemSize();this[segmentName]=firstItemSize&&firstItemSize[outerSize]||this.isotope.size["inner"+size]},LayoutMode.prototype.getFirstItemSize=function(){var firstItem=this.isotope.filteredItems[0];return firstItem&&firstItem.element&&getSize(firstItem.element)},LayoutMode.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},LayoutMode.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},LayoutMode.modes={},LayoutMode.create=function(namespace,options){function Mode(){LayoutMode.apply(this,arguments)}return Mode.prototype=new LayoutMode,options&&(Mode.options=options),Mode.prototype.namespace=namespace,LayoutMode.modes[namespace]=Mode,Mode},LayoutMode}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],factory):typeof exports=="object"?module.exports=factory(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):window.Masonry=factory(window.Outlayer,window.getSize,window.fizzyUIUtils)}(window,function factory(Outlayer,getSize,utils){var Masonry=Outlayer.create("masonry");return Masonry.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var i=this.cols;this.colYs=[];while(i--)this.colYs.push(0);this.maxY=0},Masonry.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var firstItem=this.items[0],firstItemElem=firstItem&&firstItem.element;this.columnWidth=firstItemElem&&getSize(firstItemElem).outerWidth||this.containerWidth}var columnWidth=this.columnWidth+=this.gutter,containerWidth=this.containerWidth+this.gutter,cols=containerWidth/columnWidth,excess=columnWidth-containerWidth%columnWidth,mathMethod=excess&&excess<1?"round":"floor";cols=Math[mathMethod](cols),this.cols=Math.max(cols,1)},Masonry.prototype.getContainerWidth=function(){var container=this.options.isFitWidth?this.element.parentNode:this.element,size=getSize(container);this.containerWidth=size&&size.innerWidth},Masonry.prototype._getItemLayoutPosition=function(item){item.getSize();var remainder=item.size.outerWidth%this.columnWidth,mathMethod=remainder&&remainder<1?"round":"ceil",colSpan=Math[mathMethod](item.size.outerWidth/this.columnWidth);colSpan=Math.min(colSpan,this.cols);var colGroup=this._getColGroup(colSpan),minimumY=Math.min.apply(Math,colGroup),shortColIndex=utils.indexOf(colGroup,minimumY),position={x:this.columnWidth*shortColIndex,y:minimumY},setHeight=minimumY+item.size.outerHeight,setSpan=this.cols+1-colGroup.length;for(var i=0;i<setSpan;i++)this.colYs[shortColIndex+i]=setHeight;return position},Masonry.prototype._getColGroup=function(colSpan){if(colSpan<2)return this.colYs;var colGroup=[],groupCount=this.cols+1-colSpan;for(var i=0;i<groupCount;i++){var groupColYs=this.colYs.slice(i,i+colSpan);colGroup[i]=Math.max.apply(Math,groupColYs)}return colGroup},Masonry.prototype._manageStamp=function(stamp){var stampSize=getSize(stamp),offset=this._getElementOffset(stamp),firstX=this.options.isOriginLeft?offset.left:offset.right,lastX=firstX+stampSize.outerWidth,firstCol=Math.floor(firstX/this.columnWidth);firstCol=Math.max(0,firstCol);var lastCol=Math.floor(lastX/this.columnWidth);lastCol-=lastX%this.columnWidth?0:1,lastCol=Math.min(this.cols-1,lastCol);var stampMaxY=(this.options.isOriginTop?offset.top:offset.bottom)+stampSize.outerHeight;for(var i=firstCol;i<=lastCol;i++)this.colYs[i]=Math.max(stampMaxY,this.colYs[i])},Masonry.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var size={height:this.maxY};return this.options.isFitWidth&&(size.width=this._getContainerFitWidth()),size},Masonry.prototype._getContainerFitWidth=function(){var unusedCols=0,i=this.cols;while(--i){if(this.colYs[i]!==0)break;unusedCols++}return(this.cols-unusedCols)*this.columnWidth-this.gutter},Masonry.prototype.needsResizeLayout=function(){var previousWidth=this.containerWidth;return this.getContainerWidth(),previousWidth!==this.containerWidth},Masonry}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],factory):typeof exports=="object"?module.exports=factory(require("../layout-mode"),require("masonry-layout")):factory(window.Isotope.LayoutMode,window.Masonry)}(window,function factory(LayoutMode,Masonry){"use strict";function extend(a,b){for(var prop in b)a[prop]=b[prop];return a}var MasonryMode=LayoutMode.create("masonry"),_getElementOffset=MasonryMode.prototype._getElementOffset,layout=MasonryMode.prototype.layout,_getMeasurement=MasonryMode.prototype._getMeasurement;extend(MasonryMode.prototype,Masonry.prototype),MasonryMode.prototype._getElementOffset=_getElementOffset,MasonryMode.prototype.layout=layout,MasonryMode.prototype._getMeasurement=_getMeasurement;var measureColumns=MasonryMode.prototype.measureColumns;MasonryMode.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,measureColumns.call(this)};var _manageStamp=MasonryMode.prototype._manageStamp;return MasonryMode.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,_manageStamp.apply(this,arguments)},MasonryMode}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],factory):typeof exports=="object"?module.exports=factory(require("../layout-mode")):factory(window.Isotope.LayoutMode)}(window,function factory(LayoutMode){"use strict";var FitRows=LayoutMode.create("fitRows");return FitRows.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},FitRows.prototype._getItemLayoutPosition=function(item){item.getSize();var itemWidth=item.size.outerWidth+this.gutter,containerWidth=this.isotope.size.innerWidth+this.gutter;this.x!==0&&itemWidth+this.x>containerWidth&&(this.x=0,this.y=this.maxY);var position={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+item.size.outerHeight),this.x+=itemWidth,position},FitRows.prototype._getContainerSize=function(){return{height:this.maxY}},FitRows}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],factory):typeof exports=="object"?module.exports=factory(require("../layout-mode")):factory(window.Isotope.LayoutMode)}(window,function factory(LayoutMode){"use strict";var Vertical=LayoutMode.create("vertical",{horizontalAlignment:0});return Vertical.prototype._resetLayout=function(){this.y=0},Vertical.prototype._getItemLayoutPosition=function(item){item.getSize();var x=(this.isotope.size.innerWidth-item.size.outerWidth)*this.options.horizontalAlignment,y=this.y;return this.y+=item.size.outerHeight,{x:x,y:y}},Vertical.prototype._getContainerSize=function(){return{height:this.y}},Vertical}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(Outlayer,getSize,matchesSelector,utils,Item,LayoutMode){return factory(window,Outlayer,getSize,matchesSelector,utils,Item,LayoutMode)}):typeof exports=="object"?module.exports=factory(window,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):window.Isotope=factory(window,window.Outlayer,window.getSize,window.matchesSelector,window.fizzyUIUtils,window.Isotope.Item,window.Isotope.LayoutMode)}(window,function factory(window,Outlayer,getSize,matchesSelector,utils,Item,LayoutMode){function getItemSorter(sortBys,sortAsc){return function sorter(itemA,itemB){for(var i=0,len=sortBys.length;i<len;i++){var sortBy=sortBys[i],a=itemA.sortData[sortBy],b=itemB.sortData[sortBy];if(a>b||a<b){var isAscending=sortAsc[sortBy]!==undefined?sortAsc[sortBy]:sortAsc,direction=isAscending?1:-1;return(a>b?1:-1)*direction}}return 0}}var jQuery=window.jQuery,trim=String.prototype.trim?function(str){return str.trim()}:function(str){return str.replace(/^\s+|\s+$/g,"")},docElem=document.documentElement,getText=docElem.textContent?function(elem){return elem.textContent}:function(elem){return elem.innerText},Isotope=Outlayer.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});Isotope.Item=Item,Isotope.LayoutMode=LayoutMode,Isotope.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),Outlayer.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var name in LayoutMode.modes)this._initLayoutMode(name)},Isotope.prototype.reloadItems=function(){this.itemGUID=0,Outlayer.prototype.reloadItems.call(this)},Isotope.prototype._itemize=function(){var items=Outlayer.prototype._itemize.apply(this,arguments);for(var i=0,len=items.length;i<len;i++){var item=items[i];item.id=this.itemGUID++}return this._updateItemsSortData(items),items},Isotope.prototype._initLayoutMode=function(name){var Mode=LayoutMode.modes[name],initialOpts=this.options[name]||{};this.options[name]=Mode.options?utils.extend(Mode.options,initialOpts):initialOpts,this.modes[name]=new Mode(this)},Isotope.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()},Isotope.prototype._layout=function(){var isInstant=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,isInstant),this._isLayoutInited=!0},Isotope.prototype.arrange=function(opts){function hideReveal(){_this.reveal(filtered.needReveal),_this.hide(filtered.needHide)}this.option(opts),this._getIsInstant();var filtered=this._filter(this.items);this.filteredItems=filtered.matches;var _this=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(hideReveal):hideReveal(),this._sort(),this._layout()},Isotope.prototype._init=Isotope.prototype.arrange,Isotope.prototype._getIsInstant=function(){var isInstant=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=isInstant,isInstant},Isotope.prototype._bindArrangeComplete=function(){function arrangeParallelCallback(){isLayoutComplete&&isHideComplete&&isRevealComplete&&_this.dispatchEvent("arrangeComplete",null,[_this.filteredItems])}var isLayoutComplete,isHideComplete,isRevealComplete,_this=this;this.once("layoutComplete",function(){isLayoutComplete=!0,arrangeParallelCallback()}),this.once("hideComplete",function(){isHideComplete=!0,arrangeParallelCallback()}),this.once("revealComplete",function(){isRevealComplete=!0,arrangeParallelCallback()})},Isotope.prototype._filter=function(items){var filter=this.options.filter;filter=filter||"*";var matches=[],hiddenMatched=[],visibleUnmatched=[],test=this._getFilterTest(filter);for(var i=0,len=items.length;i<len;i++){var item=items[i];if(item.isIgnored)continue;var isMatched=test(item);isMatched&&matches.push(item),isMatched&&item.isHidden?hiddenMatched.push(item):!isMatched&&!item.isHidden&&visibleUnmatched.push(item)}return{matches:matches,needReveal:hiddenMatched,needHide:visibleUnmatched}},Isotope.prototype._getFilterTest=function(filter){return jQuery&&this.options.isJQueryFiltering?function(item){return jQuery(item.element).is(filter)}:typeof filter=="function"?function(item){return filter(item.element)}:function(item){return matchesSelector(item.element,filter)}},Isotope.prototype.updateSortData=function(elems){var items;elems?(elems=utils.makeArray(elems),items=this.getItems(elems)):items=this.items,this._getSorters(),this._updateItemsSortData(items)},Isotope.prototype._getSorters=function(){var getSortData=this.options.getSortData;for(var key in getSortData){var sorter=getSortData[key];this._sorters[key]=mungeSorter(sorter)}},Isotope.prototype._updateItemsSortData=function(items){var len=items&&items.length;for(var i=0;len&&i<len;i++){var item=items[i];item.updateSortData()}};var mungeSorter=function(){function mungeSorter(sorter){if(typeof sorter!="string")return sorter;var args=trim(sorter).split(" "),query=args[0],attrMatch=query.match(/^\[(.+)\]$/),attr=attrMatch&&attrMatch[1],getValue=getValueGetter(attr,query),parser=Isotope.sortDataParsers[args[1]];return sorter=parser?function(elem){return elem&&parser(getValue(elem))}:function(elem){return elem&&getValue(elem)},sorter}function getValueGetter(attr,query){var getValue;return attr?getValue=function(elem){return elem.getAttribute(attr)}:getValue=function(elem){var child=elem.querySelector(query);return child&&getText(child)},getValue}return mungeSorter}();Isotope.sortDataParsers={parseInt:function(val){return parseInt(val,10)},parseFloat:function(val){return parseFloat(val)}},Isotope.prototype._sort=function(){var sortByOpt=this.options.sortBy;if(!sortByOpt)return;var sortBys=[].concat.apply(sortByOpt,this.sortHistory),itemSorter=getItemSorter(sortBys,this.options.sortAscending);this.filteredItems.sort(itemSorter),sortByOpt!=this.sortHistory[0]&&this.sortHistory.unshift(sortByOpt)},Isotope.prototype._mode=function(){var layoutMode=this.options.layoutMode,mode=this.modes[layoutMode];if(!mode)throw new Error("No layout mode: "+layoutMode);return mode.options=this.options[layoutMode],mode},Isotope.prototype._resetLayout=function(){Outlayer.prototype._resetLayout.call(this),this._mode()._resetLayout()},Isotope.prototype._getItemLayoutPosition=function(item){return this._mode()._getItemLayoutPosition(item)},Isotope.prototype._manageStamp=function(stamp){this._mode()._manageStamp(stamp)},Isotope.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},Isotope.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},Isotope.prototype.appended=function(elems){var items=this.addItems(elems);if(!items.length)return;var filteredItems=this._filterRevealAdded(items);this.filteredItems=this.filteredItems.concat(filteredItems)},Isotope.prototype.prepended=function(elems){var items=this._itemize(elems);if(!items.length)return;this._resetLayout(),this._manageStamps();var filteredItems=this._filterRevealAdded(items);this.layoutItems(this.filteredItems),this.filteredItems=filteredItems.concat(this.filteredItems),this.items=items.concat(this.items)},Isotope.prototype._filterRevealAdded=function(items){var filtered=this._filter(items);return this.hide(filtered.needHide),this.reveal(filtered.matches),this.layoutItems(filtered.matches,!0),filtered.matches},Isotope.prototype.insert=function(elems){var items=this.addItems(elems);if(!items.length)return;var i,item,len=items.length;for(i=0;i<len;i++)item=items[i],this.element.appendChild(item.element);var filteredInsertItems=this._filter(items).matches;for(i=0;i<len;i++)items[i].isLayoutInstant=!0;this.arrange();for(i=0;i<len;i++)delete items[i].isLayoutInstant;this.reveal(filteredInsertItems)};var _remove=Isotope.prototype.remove;return Isotope.prototype.remove=function(elems){elems=utils.makeArray(elems);var removeItems=this.getItems(elems);_remove.call(this,elems);var len=removeItems&&removeItems.length;if(!len)return;for(var i=0;i<len;i++){var item=removeItems[i];utils.removeFrom(this.filteredItems,item)}},Isotope.prototype.shuffle=function(){for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];item.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},Isotope.prototype._noTransition=function(fn){var transitionDuration=this.options.transitionDuration;this.options.transitionDuration=0;var returnValue=fn.call(this);return this.options.transitionDuration=transitionDuration,returnValue},Isotope.prototype.getFilteredItemElements=function(){var elems=[];for(var i=0,len=this.filteredItems.length;i<len;i++)elems.push(this.filteredItems[i].element);return elems},Isotope}),function(window,factory){typeof define=="function"&&define.amd?define("packery/js/rect",factory):typeof module=="object"&&module.exports?module.exports=factory():(window.Packery=window.Packery||{},window.Packery.Rect=factory())}(window,function factory(){function Rect(props){for(var prop in Rect.defaults)this[prop]=Rect.defaults[prop];for(prop in props)this[prop]=props[prop]}Rect.defaults={x:0,y:0,width:0,height:0};var proto=Rect.prototype;return proto.contains=function(rect){var otherWidth=rect.width||0,otherHeight=rect.height||0;return this.x<=rect.x&&this.y<=rect.y&&this.x+this.width>=rect.x+otherWidth&&this.y+this.height>=rect.y+otherHeight},proto.overlaps=function(rect){var thisRight=this.x+this.width,thisBottom=this.y+this.height,rectRight=rect.x+rect.width,rectBottom=rect.y+rect.height;return this.x<rectRight&&thisRight>rect.x&&this.y<rectBottom&&thisBottom>rect.y},proto.getMaximalFreeRects=function(rect){if(!this.overlaps(rect))return!1;var freeRects=[],freeRect,thisRight=this.x+this.width,thisBottom=this.y+this.height,rectRight=rect.x+rect.width,rectBottom=rect.y+rect.height;return this.y<rect.y&&(freeRect=new Rect({x:this.x,y:this.y,width:this.width,height:rect.y-this.y}),freeRects.push(freeRect)),thisRight>rectRight&&(freeRect=new Rect({x:rectRight,y:this.y,width:thisRight-rectRight,height:this.height}),freeRects.push(freeRect)),thisBottom>rectBottom&&(freeRect=new Rect({x:this.x,y:rectBottom,width:this.width,height:thisBottom-rectBottom}),freeRects.push(freeRect)),this.x<rect.x&&(freeRect=new Rect({x:this.x,y:this.y,width:rect.x-this.x,height:this.height}),freeRects.push(freeRect)),freeRects},proto.canFit=function(rect){return this.width>=rect.width&&this.height>=rect.height},Rect}),function(window,factory){if(typeof define=="function"&&define.amd)define("packery/js/packer",["./rect"],factory);else if(typeof module=="object"&&module.exports)module.exports=factory(require("./rect"));else{var Packery=window.Packery=window.Packery||{};Packery.Packer=factory(Packery.Rect)}}(window,function factory(Rect){function Packer(width,height,sortDirection){this.width=width||0,this.height=height||0,this.sortDirection=sortDirection||"downwardLeftToRight",this.reset()}var proto=Packer.prototype;proto.reset=function(){this.spaces=[];var initialSpace=new Rect({x:0,y:0,width:this.width,height:this.height});this.spaces.push(initialSpace),this.sorter=sorters[this.sortDirection]||sorters.downwardLeftToRight},proto.pack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i];if(space.canFit(rect)){this.placeInSpace(rect,space);break}}},proto.columnPack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i],canFitInSpaceColumn=space.x<=rect.x&&space.x+space.width>=rect.x+rect.width&&space.height>=rect.height-.01;if(canFitInSpaceColumn){rect.y=space.y,this.placed(rect);break}}},proto.rowPack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i],canFitInSpaceRow=space.y<=rect.y&&space.y+space.height>=rect.y+rect.height&&space.width>=rect.width-.01;if(canFitInSpaceRow){rect.x=space.x,this.placed(rect);break}}},proto.placeInSpace=function(rect,space){rect.x=space.x,rect.y=space.y,this.placed(rect)},proto.placed=function(rect){var revisedSpaces=[];for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i],newSpaces=space.getMaximalFreeRects(rect);newSpaces?revisedSpaces.push.apply(revisedSpaces,newSpaces):revisedSpaces.push(space)}this.spaces=revisedSpaces,this.mergeSortSpaces()},proto.mergeSortSpaces=function(){Packer.mergeRects(this.spaces),this.spaces.sort(this.sorter)},proto.addSpace=function(rect){this.spaces.push(rect),this.mergeSortSpaces()},Packer.mergeRects=function(rects){var i=0,rect=rects[i];e:while(rect){var j=0,compareRect=rects[i+j];while(compareRect){if(compareRect==rect)j++;else{if(compareRect.contains(rect)){rects.splice(i,1),rect=rects[i];continue e}rect.contains(compareRect)?rects.splice(i+j,1):j++}compareRect=rects[i+j]}i++,rect=rects[i]}return rects};var sorters={downwardLeftToRight:function(a,b){return a.y-b.y||a.x-b.x},rightwardTopToBottom:function(a,b){return a.x-b.x||a.y-b.y}};return Packer}),function(window,factory){typeof define=="function"&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("outlayer"),require("./rect")):window.Packery.Item=factory(window.Outlayer,window.Packery.Rect)}(window,function factory(Outlayer,Rect){var docElemStyle=document.documentElement.style,transformProperty=typeof docElemStyle.transform=="string"?"transform":"WebkitTransform",Item=function PackeryItem(){Outlayer.Item.apply(this,arguments)},proto=Item.prototype=Object.create(Outlayer.Item.prototype),__create=proto._create;proto._create=function(){__create.call(this),this.rect=new Rect};var _moveTo=proto.moveTo;return proto.moveTo=function(x,y){var dx=Math.abs(this.position.x-x),dy=Math.abs(this.position.y-y),canHackGoTo=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&dx<1&&dy<1;if(canHackGoTo){this.goTo(x,y);return}_moveTo.apply(this,arguments)},proto.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&transformProperty&&(this.element.style[transformProperty]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},proto.disablePlacing=function(){this.isPlacing=!1},proto.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},proto.showDropPlaceholder=function(){var dropPlaceholder=this.dropPlaceholder;dropPlaceholder||(dropPlaceholder=this.dropPlaceholder=document.createElement("div"),dropPlaceholder.className="packery-drop-placeholder",dropPlaceholder.style.position="absolute"),dropPlaceholder.style.width=this.size.width+"px",dropPlaceholder.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(dropPlaceholder)},proto.positionDropPlaceholder=function(){this.dropPlaceholder.style[transformProperty]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},proto.hideDropPlaceholder=function(){this.layout.element.removeChild(this.dropPlaceholder)},Item}),function(window,factory){typeof define=="function"&&define.amd?define("packery/js/packery",["get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):window.Packery=factory(window.getSize,window.Outlayer,window.Packery.Rect,window.Packery.Packer,window.Packery.Item)}(window,function factory(getSize,Outlayer,Rect,Packer,Item){function verticalSorter(a,b){return a.position.y-b.position.y||a.position.x-b.position.x}function horizontalSorter(a,b){return a.position.x-b.position.x||a.position.y-b.position.y}function getDistance(a,b){var dx=b.x-a.x,dy=b.y-a.y;return Math.sqrt(dx*dx+dy*dy)}Rect.prototype.canFit=function(rect){return this.width>=rect.width-1&&this.height>=rect.height-1};var Packery=Outlayer.create("packery");Packery.Item=Item;var proto=Packery.prototype;proto._create=function(){Outlayer.prototype._create.call(this),this.packer=new Packer,this.shiftPacker=new Packer,this.isEnabled=!0,this.dragItemCount=0;var _this=this;this.handleDraggabilly={dragStart:function(){_this.itemDragStart(this.element)},dragMove:function(){_this.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){_this.itemDragEnd(this.element)}},this.handleUIDraggable={start:function handleUIDraggableStart(event,ui){if(!ui)return;_this.itemDragStart(event.currentTarget)},drag:function handleUIDraggableDrag(event,ui){if(!ui)return;_this.itemDragMove(event.currentTarget,ui.position.left,ui.position.top)},stop:function handleUIDraggableStop(event,ui){if(!ui)return;_this.itemDragEnd(event.currentTarget)}}},proto._resetLayout=function(){this.getSize(),this._getMeasurements();var width,height,sortDirection;this._getOption("horizontal")?(width=Infinity,height=this.size.innerHeight+this.gutter,sortDirection="rightwardTopToBottom"):(width=this.size.innerWidth+this.gutter,height=Infinity,sortDirection="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=width,this.packer.height=this.shiftPacker.height=height,this.packer.sortDirection=this.shiftPacker.sortDirection=sortDirection,this.packer.reset(),this.maxY=0,this.maxX=0},proto._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},proto._getItemLayoutPosition=function(item){this._setRectSize(item.element,item.rect);if(this.isShifting||this.dragItemCount>0){var packMethod=this._getPackMethod();this.packer[packMethod](item.rect)}else this.packer.pack(item.rect);return this._setMaxXY(item.rect),item.rect},proto.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},proto._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},proto._setMaxXY=function(rect){this.maxX=Math.max(rect.x+rect.width,this.maxX),this.maxY=Math.max(rect.y+rect.height,this.maxY)},proto._setRectSize=function(elem,rect){var size=getSize(elem),w=size.outerWidth,h=size.outerHeight;if(w||h)w=this._applyGridGutter(w,this.columnWidth),h=this._applyGridGutter(h,this.rowHeight);rect.width=Math.min(w,this.packer.width),rect.height=Math.min(h,this.packer.height)},proto._applyGridGutter=function(measurement,gridSize){if(!gridSize)return measurement+this.gutter;gridSize+=this.gutter;var remainder=measurement%gridSize,mathMethod=remainder&&remainder<1?"round":"ceil";return measurement=Math[mathMethod](measurement/gridSize)*gridSize,measurement},proto._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},proto._manageStamp=function(elem){var item=this.getItem(elem),rect;if(item&&item.isPlacing)rect=item.rect;else{var offset=this._getElementOffset(elem);rect=new Rect({x:this._getOption("originLeft")?offset.left:offset.right,y:this._getOption("originTop")?offset.top:offset.bottom})}this._setRectSize(elem,rect),this.packer.placed(rect),this._setMaxXY(rect)},proto.sortItemsByPosition=function(){var sorter=this._getOption("horizontal")?horizontalSorter:verticalSorter;this.items.sort(sorter)},proto.fit=function(elem,x,y){var item=this.getItem(elem);if(!item)return;this.stamp(item.element),item.enablePlacing(),this.updateShiftTargets(item),x=x===undefined?item.rect.x:x,y=y===undefined?item.rect.y:y,this.shift(item,x,y),this._bindFitEvents(item),item.moveTo(item.rect.x,item.rect.y),this.shiftLayout(),this.unstamp(item.element),this.sortItemsByPosition(),item.disablePlacing()},proto._bindFitEvents=function(item){function onLayout(){ticks++;if(ticks!=2)return;_this.dispatchEvent("fitComplete",null,[item])}var _this=this,ticks=0;item.once("layout",onLayout),this.once("layoutComplete",onLayout)},proto.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout())return;this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout()},proto.needsResizeLayout=function(){var size=getSize(this.element),innerSize=this._getOption("horizontal")?"innerHeight":"innerWidth";return size[innerSize]!=this.size[innerSize]},proto.resizeShiftPercentLayout=function(){var items=this._getItemsForLayout(this.items),isHorizontal=this._getOption("horizontal"),coord=isHorizontal?"y":"x",measure=isHorizontal?"height":"width",segmentName=isHorizontal?"rowHeight":"columnWidth",innerSize=isHorizontal?"innerHeight":"innerWidth",previousSegment=this[segmentName];previousSegment=previousSegment&&previousSegment+this.gutter;if(previousSegment){this._getMeasurements();var currentSegment=this[segmentName]+this.gutter;items.forEach(function(item){var seg=Math.round(item.rect[coord]/previousSegment);item.rect[coord]=seg*currentSegment})}else{var currentSize=getSize(this.element)[innerSize]+this.gutter,previousSize=this.packer[measure];items.forEach(function(item){item.rect[coord]=item.rect[coord]/previousSize*currentSize})}this.shiftLayout()},proto.itemDragStart=function(elem){if(!this.isEnabled)return;this.stamp(elem);var item=this.getItem(elem);if(!item)return;item.enablePlacing(),item.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(item)},proto.updateShiftTargets=function(dropItem){this.shiftPacker.reset(),this._getBoundingRect();var isOriginLeft=this._getOption("originLeft"),isOriginTop=this._getOption("originTop");this.stamps.forEach(function(stamp){var item=this.getItem(stamp);if(item&&item.isPlacing)return;var offset=this._getElementOffset(stamp),rect=new Rect({x:isOriginLeft?offset.left:offset.right,y:isOriginTop?offset.top:offset.bottom});this._setRectSize(stamp,rect),this.shiftPacker.placed(rect)},this);var isHorizontal=this._getOption("horizontal"),segmentName=isHorizontal?"rowHeight":"columnWidth",measure=isHorizontal?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var boundsSize,segment=this[segmentName];segment=segment&&segment+this.gutter;if(segment){var segmentSpan=Math.ceil(dropItem.rect[measure]/segment),segs=Math.floor((this.shiftPacker[measure]+this.gutter)/segment);boundsSize=(segs-segmentSpan)*segment;for(var i=0;i<segs;i++)this._addShiftTarget(i*segment,0,boundsSize)}else boundsSize=this.shiftPacker[measure]+this.gutter-dropItem.rect[measure],this._addShiftTarget(0,0,boundsSize);var items=this._getItemsForLayout(this.items),packMethod=this._getPackMethod();items.forEach(function(item){var rect=item.rect;this._setRectSize(item.element,rect),this.shiftPacker[packMethod](rect),this._addShiftTarget(rect.x,rect.y,boundsSize);var cornerX=isHorizontal?rect.x+rect.width:rect.x,cornerY=isHorizontal?rect.y:rect.y+rect.height;this._addShiftTarget(cornerX,cornerY,boundsSize);if(segment){var segSpan=Math.round(rect[measure]/segment);for(var i=1;i<segSpan;i++){var segX=isHorizontal?cornerX:rect.x+segment*i,segY=isHorizontal?rect.y+segment*i:cornerY;this._addShiftTarget(segX,segY,boundsSize)}}},this)},proto._addShiftTarget=function(x,y,boundsSize){var checkCoord=this._getOption("horizontal")?y:x;if(checkCoord!==0&&checkCoord>boundsSize)return;var key=x+","+y,hasKey=this.shiftTargetKeys.indexOf(key)!=-1;if(hasKey)return;this.shiftTargetKeys.push(key),this.shiftTargets.push({x:x,y:y})},proto.shift=function(item,x,y){var shiftPosition,minDistance=Infinity,position={x:x,y:y};this.shiftTargets.forEach(function(target){var distance=getDistance(target,position);distance<minDistance&&(shiftPosition=target,minDistance=distance)}),item.rect.x=shiftPosition.x,item.rect.y=shiftPosition.y};var DRAG_THROTTLE_TIME=120;proto.itemDragMove=function(elem,x,y){function onDrag(){_this.shift(item,x,y),item.positionDropPlaceholder(),_this.layout()}var item=this.isEnabled&&this.getItem(elem);if(!item)return;x-=this.size.paddingLeft,y-=this.size.paddingTop;var _this=this,now=new Date;this._itemDragTime&&now-this._itemDragTime<DRAG_THROTTLE_TIME?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(onDrag,DRAG_THROTTLE_TIME)):(onDrag(),this._itemDragTime=now)},proto.itemDragEnd=function(elem){function onDragEndLayoutComplete(){completeCount++;if(completeCount!=2)return;item.element.classList.remove("is-positioning-post-drag"),item.hideDropPlaceholder(),_this.dispatchEvent("dragItemPositioned",null,[item])}var item=this.isEnabled&&this.getItem(elem);if(!item)return;clearTimeout(this.dragTimeout),item.element.classList.add("is-positioning-post-drag");var completeCount=0,_this=this;item.once("layout",onDragEndLayoutComplete),this.once("layoutComplete",onDragEndLayoutComplete),item.moveTo(item.rect.x,item.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),item.disablePlacing(),this.unstamp(item.element)},proto.bindDraggabillyEvents=function(draggie){this._bindDraggabillyEvents(draggie,"on")},proto.unbindDraggabillyEvents=function(draggie){this._bindDraggabillyEvents(draggie,"off")},proto._bindDraggabillyEvents=function(draggie,method){var handlers=this.handleDraggabilly;draggie[method]("dragStart",handlers.dragStart),draggie[method]("dragMove",handlers.dragMove),draggie[method]("dragEnd",handlers.dragEnd)},proto.bindUIDraggableEvents=function($elems){this._bindUIDraggableEvents($elems,"on")},proto.unbindUIDraggableEvents=function($elems){this._bindUIDraggableEvents($elems,"off")},proto._bindUIDraggableEvents=function($elems,method){var handlers=this.handleUIDraggable;$elems[method]("dragstart",handlers.start)[method]("drag",handlers.drag)[method]("dragstop",handlers.stop)};var _destroy=proto.destroy;return proto.destroy=function(){_destroy.apply(this,arguments),this.isEnabled=!1},Packery.Rect=Rect,Packery.Packer=Packer,Packery}),function(window,factory){typeof define=="function"&&define.amd?define(["isotope-layout/js/layout-mode","packery/js/packery"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("isotope-layout/js/layout-mode"),require("packery")):factory(window.Isotope.LayoutMode,window.Packery)}(window,function factor(LayoutMode,Packery){var PackeryMode=LayoutMode.create("packery"),proto=PackeryMode.prototype,keepModeMethods={_getElementOffset:!0,_getMeasurement:!0};for(var method in Packery.prototype)keepModeMethods[method]||(proto[method]=Packery.prototype[method]);var _resetLayout=proto._resetLayout;proto._resetLayout=function(){this.packer=this.packer||new Packery.Packer,this.shiftPacker=this.shiftPacker||new Packery.Packer,_resetLayout.apply(this,arguments)};var _getItemLayoutPosition=proto._getItemLayoutPosition;proto._getItemLayoutPosition=function(item){return item.rect=item.rect||new Packery.Rect,_getItemLayoutPosition.call(this,item)};var _needsResizeLayout=proto.needsResizeLayout;proto.needsResizeLayout=function(){return this._getOption("horizontal")?this.needsVerticalResizeLayout():_needsResizeLayout.call(this)};var _getOption=proto._getOption;return proto._getOption=function(option){return option=="horizontal"?this.options.isHorizontal!==undefined?this.options.isHorizontal:this.options.horizontal:_getOption.apply(this.isotope,arguments)},PackeryMode}),function(window,factory){typeof define=="function"&&define.amd?define(["isotope/js/layout-mode"],factory):typeof exports=="object"?module.exports=factory(require("isotope-layout/js/layout-mode")):factory(window.Isotope.LayoutMode)}(window,function factory(LayoutMode){"use strict";var CellsByRow=LayoutMode.create("cellsByRow"),proto=CellsByRow.prototype;return proto._resetLayout=function(){this.itemIndex=0,this.getColumnWidth(),this.getRowHeight(),this.cols=Math.floor(this.isotope.size.innerWidth/this.columnWidth),this.cols=Math.max(this.cols,1)},proto._getItemLayoutPosition=function(item){item.getSize();var col=this.itemIndex%this.cols,row=Math.floor(this.itemIndex/this.cols),x=(col+.5)*this.columnWidth-item.size.outerWidth/2,y=(row+.5)*this.rowHeight-item.size.outerHeight/2;return this.itemIndex++,{x:x,y:y}},proto._getContainerSize=function(){return{height:Math.ceil(this.itemIndex/this.cols)*this.rowHeight}},CellsByRow}),function(factory){typeof define=="function"&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($,undefined){"use strict";$.infinitescroll=function infscr(options,callback,element){this.element=$(element),this._create(options,callback)||(this.failed=!0)},$.infinitescroll.defaults={loading:{finished:undefined,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:undefined},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:undefined,binder:$(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:undefined,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:undefined,path:undefined,prefill:!1,maxPage:undefined},$.infinitescroll.prototype={_binding:function infscr_binding(binding){var instance=this,opts=instance.options;opts.v="2.0b2.120520";if(!!opts.behavior&&this["_binding_"+opts.behavior]!==undefined){this["_binding_"+opts.behavior].call(this);return}if(binding!=="bind"&&binding!=="unbind")return this._debug("Binding value  "+binding+" not valid"),!1;binding==="unbind"?this.options.binder.unbind("smartscroll.infscr."+instance.options.infid):this.options.binder[binding]("smartscroll.infscr."+instance.options.infid,function(){instance.scroll()}),this._debug("Binding",binding)},_create:function infscr_create(options,callback){var opts=$.extend(!0,{},$.infinitescroll.defaults,options);this.options=opts;var $window=$(window),instance=this;if(!instance._validate(options))return!1;var path=$(opts.nextSelector).attr("href");if(!path)return this._debug("Navigation selector not found"),!1;opts.path=opts.path||this._determinepath(path),opts.contentSelector=opts.contentSelector||this.element,opts.loading.selector=opts.loading.selector||opts.contentSelector,opts.loading.msg=opts.loading.msg||$('<div id="infscr-loading"><img alt="Loading..." src="'+opts.loading.img+'" /><div>'+opts.loading.msgText+"</div></div>"),(new Image).src=opts.loading.img,opts.pixelsFromNavToBottom===undefined&&(opts.pixelsFromNavToBottom=$(document).height()-$(opts.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+opts.pixelsFromNavToBottom));var self=this;return opts.loading.start=opts.loading.start||function(){$(opts.navSelector).hide(),opts.loading.msg.appendTo(opts.loading.selector).show(opts.loading.speed,$.proxy(function(){this.beginAjax(opts)},self))},opts.loading.finished=opts.loading.finished||function(){opts.state.isBeyondMaxPage||opts.loading.msg.fadeOut(opts.loading.speed)},opts.callback=function(instance,data,url){!!opts.behavior&&instance["_callback_"+opts.behavior]!==undefined&&instance["_callback_"+opts.behavior].call($(opts.contentSelector)[0],data,url),callback&&callback.call($(opts.contentSelector)[0],data,opts,url),opts.prefill&&$window.bind("resize.infinite-scroll",instance._prefill)},options.debug&&Function.prototype.bind&&(typeof console=="object"||typeof console=="function")&&typeof console.log=="object"&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(method){console[method]=this.call(console[method],console)},Function.prototype.bind),this._setup(),opts.prefill&&this._prefill(),!0},_prefill:function infscr_prefill(){function needsPrefill(){return $(instance.options.contentSelector).height()<=$window.height()}var instance=this,$window=$(window);this._prefill=function(){needsPrefill()&&instance.scroll(),$window.bind("resize.infinite-scroll",function(){needsPrefill()&&($window.unbind("resize.infinite-scroll"),instance.scroll())})},this._prefill()},_debug:function infscr_debug(){if(!0!==this.options.debug)return;typeof console!="undefined"&&typeof console.log=="function"?Array.prototype.slice.call(arguments).length===1&&typeof Array.prototype.slice.call(arguments)[0]=="string"?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):!Function.prototype.bind&&typeof console!="undefined"&&typeof console.log=="object"&&Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},_determinepath:function infscr_determinepath(path){var opts=this.options;if(!opts.behavior||this["_determinepath_"+opts.behavior]===undefined){if(!opts.pathParse){if(path.match(/^(.*?)\b2\b(.*?$)/))path=path.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(path.match(/^(.*?)2(.*?$)/)){if(path.match(/^(.*?page=)2(\/.*|$)/))return path=path.match(/^(.*?page=)2(\/.*|$)/).slice(1),path;path=path.match(/^(.*?)2(.*?$)/).slice(1)}else{if(path.match(/^(.*?page=)1(\/.*|$)/))return path=path.match(/^(.*?page=)1(\/.*|$)/).slice(1),path;this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),opts.state.isInvalidPage=!0}return this._debug("determinePath",path),path}return this._debug("pathParse manual"),opts.pathParse(path,this.options.state.currPage+1)}return this["_determinepath_"+opts.behavior].call(this,path)},_error:function infscr_error(xhr){var opts=this.options;if(!!opts.behavior&&this["_error_"+opts.behavior]!==undefined){this["_error_"+opts.behavior].call(this,xhr);return}xhr!=="destroy"&&xhr!=="end"&&(xhr="unknown"),this._debug("Error",xhr),(xhr==="end"||opts.state.isBeyondMaxPage)&&this._showdonemsg(),opts.state.isDone=!0,opts.state.currPage=1,opts.state.isPaused=!1,opts.state.isBeyondMaxPage=!1,this._binding("unbind")},_loadcallback:function infscr_loadcallback(box,data,url){var opts=this.options,callback=this.options.callback,result=opts.state.isDone?"done":opts.appendCallback?"append":"no-append",frag;if(!!opts.behavior&&this["_loadcallback_"+opts.behavior]!==undefined){this["_loadcallback_"+opts.behavior].call(this,box,data);return}switch(result){case"done":return this._showdonemsg(),!1;case"no-append":opts.dataType==="html"&&(data="<div>"+data+"</div>",data=$(data).find(opts.itemSelector));if(data.length===0)return this._error("end");break;case"append":var children=box.children();if(children.length===0)return this._error("end");frag=document.createDocumentFragment();while(box[0].firstChild)frag.appendChild(box[0].firstChild);this._debug("contentSelector",$(opts.contentSelector)[0]),$(opts.contentSelector)[0].appendChild(frag),data=children.get()}opts.loading.finished.call($(opts.contentSelector)[0],opts);if(opts.animate){var scrollTo=$(window).scrollTop()+$(opts.loading.msg).height()+opts.extraScrollPx+"px";$("html,body").animate({scrollTop:scrollTo},800,function(){opts.state.isDuringAjax=!1})}opts.animate||(opts.state.isDuringAjax=!1),callback(this,data,url),opts.prefill&&this._prefill()},_nearbottom:function infscr_nearbottom(){var opts=this.options,pixelsFromWindowBottomToBottom=0+$(document).height()-opts.binder.scrollTop()-$(window).height();return!opts.behavior||this["_nearbottom_"+opts.behavior]===undefined?(this._debug("math:",pixelsFromWindowBottomToBottom,opts.pixelsFromNavToBottom),pixelsFromWindowBottomToBottom-opts.bufferPx<opts.pixelsFromNavToBottom):this["_nearbottom_"+opts.behavior].call(this)},_pausing:function infscr_pausing(pause){var opts=this.options;if(!opts.behavior||this["_pausing_"+opts.behavior]===undefined){pause!=="pause"&&pause!=="resume"&&pause!==null&&this._debug("Invalid argument. Toggling pause value instead"),pause=!pause||pause!=="pause"&&pause!=="resume"?"toggle":pause;switch(pause){case"pause":opts.state.isPaused=!0;break;case"resume":opts.state.isPaused=!1;break;case"toggle":opts.state.isPaused=!opts.state.isPaused}return this._debug("Paused",opts.state.isPaused),!1}this["_pausing_"+opts.behavior].call(this,pause);return},_setup:function infscr_setup(){var opts=this.options;if(!opts.behavior||this["_setup_"+opts.behavior]===undefined)return this._binding("bind"),!1;this["_setup_"+opts.behavior].call(this);return},_showdonemsg:function infscr_showdonemsg(){var opts=this.options;if(!!opts.behavior&&this["_showdonemsg_"+opts.behavior]!==undefined){this["_showdonemsg_"+opts.behavior].call(this);return}opts.loading.msg.find("img").hide().parent().find("div").html(opts.loading.finishedMsg).animate({opacity:1},2e3,function(){$(this).parent().fadeOut(opts.loading.speed)}),opts.errorCallback.call($(opts.contentSelector)[0],"done")},_validate:function infscr_validate(opts){for(var key in opts)if(key.indexOf&&key.indexOf("Selector")>-1&&$(opts[key]).length===0)return this._debug("Your "+key+" found no elements."),!1;return!0},bind:function infscr_bind(){this._binding("bind")},destroy:function infscr_destroy(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function infscr_pause(){this._pausing("pause")},resume:function infscr_resume(){this._pausing("resume")},beginAjax:function infscr_ajax(opts){var instance=this,path=opts.path,box,desturl,method,condition;opts.state.currPage++;if(opts.maxPage!==undefined&&opts.state.currPage>opts.maxPage){opts.state.isBeyondMaxPage=!0,this.destroy();return}box=$(opts.contentSelector).is("table, tbody")?$("<tbody/>"):$("<div/>"),desturl=typeof path=="function"?path(opts.state.currPage):path.join(opts.state.currPage),instance._debug("heading into ajax",desturl),method=opts.dataType==="html"||opts.dataType==="json"?opts.dataType:"html+callback",opts.appendCallback&&opts.dataType==="html"&&(method+="+callback");switch(method){case"html+callback":instance._debug("Using HTML via .load() method"),box.load(desturl+" "+opts.itemSelector,undefined,function infscr_ajax_callback(responseText){instance._loadcallback(box,responseText,desturl)});break;case"html":instance._debug("Using "+method.toUpperCase()+" via $.ajax() method"),$.ajax({url:desturl,dataType:opts.dataType,complete:function infscr_ajax_callback(jqXHR,textStatus){condition=typeof jqXHR.isResolved!="undefined"?jqXHR.isResolved():textStatus==="success"||textStatus==="notmodified",condition?instance._loadcallback(box,jqXHR.responseText,desturl):instance._error("end")}});break;case"json":instance._debug("Using "+method.toUpperCase()+" via $.ajax() method"),$.ajax({dataType:"json",type:"GET",url:desturl,success:function(data,textStatus,jqXHR){condition=typeof jqXHR.isResolved!="undefined"?jqXHR.isResolved():textStatus==="success"||textStatus==="notmodified";if(opts.appendCallback)if(opts.template!==undefined){var theData=opts.template(data);box.append(theData),condition?instance._loadcallback(box,theData):instance._error("end")}else instance._debug("template must be defined."),instance._error("end");else condition?instance._loadcallback(box,data,desturl):instance._error("end")},error:function(){instance._debug("JSON ajax request failed."),instance._error("end")}})}},retrieve:function infscr_retrieve(pageNum){pageNum=pageNum||null;var instance=this,opts=instance.options;if(!!opts.behavior&&this["retrieve_"+opts.behavior]!==undefined){this["retrieve_"+opts.behavior].call(this,pageNum);return}if(opts.state.isDestroyed)return this._debug("Instance is destroyed"),!1;opts.state.isDuringAjax=!0,opts.loading.start.call($(opts.contentSelector)[0],opts)},scroll:function infscr_scroll(){var opts=this.options,state=opts.state;if(!!opts.behavior&&this["scroll_"+opts.behavior]!==undefined){this["scroll_"+opts.behavior].call(this);return}if(state.isDuringAjax||state.isInvalidPage||state.isDone||state.isDestroyed||state.isPaused)return;if(!this._nearbottom())return;this.retrieve()},toggle:function infscr_toggle(){this._pausing()},unbind:function infscr_unbind(){this._binding("unbind")},update:function infscr_options(key){$.isPlainObject(key)&&(this.options=$.extend(!0,this.options,key))}},$.fn.infinitescroll=function infscr_init(options,callback){var thisCall=typeof options;switch(thisCall){case"string":var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,"infinitescroll");if(!instance)return!1;if(!$.isFunction(instance[options])||options.charAt(0)==="_")return!1;instance[options].apply(instance,args)});break;case"object":this.each(function(){var instance=$.data(this,"infinitescroll");instance?instance.update(options):(instance=new $.infinitescroll(options,callback,this),instance.failed||$.data(this,"infinitescroll",instance))})}return this};var event=$.event,scrollTimeout;event.special.smartscroll={setup:function(){$(this).bind("scroll",event.special.smartscroll.handler)},teardown:function(){$(this).unbind("scroll",event.special.smartscroll.handler)},handler:function(event,execAsap){var context=this,args=arguments;event.type="smartscroll",scrollTimeout&&clearTimeout(scrollTimeout),scrollTimeout=setTimeout(function(){$(context).trigger("smartscroll",args)},execAsap==="execAsap"?0:100)}},$.fn.smartscroll=function(fn){return fn?this.bind("smartscroll",fn):this.trigger("smartscroll",["execAsap"])}}),function(){"use strict";function Waypoint(options){if(!options)throw new Error("No options passed to Waypoint constructor");if(!options.element)throw new Error("No element option passed to Waypoint constructor");if(!options.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+keyCounter,this.options=Waypoint.Adapter.extend({},Waypoint.defaults,options),this.element=this.options.element,this.adapter=new Waypoint.Adapter(this.element),this.callback=options.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=Waypoint.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=Waypoint.Context.findOrCreateByElement(this.options.context),Waypoint.offsetAliases[this.options.offset]&&(this.options.offset=Waypoint.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),allWaypoints[this.key]=this,keyCounter+=1}var keyCounter=0,allWaypoints={};Waypoint.prototype.queueTrigger=function(direction){this.group.queueTrigger(this,direction)},Waypoint.prototype.trigger=function(args){if(!this.enabled)return;this.callback&&this.callback.apply(this,args)},Waypoint.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete allWaypoints[this.key]},Waypoint.prototype.disable=function(){return this.enabled=!1,this},Waypoint.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},Waypoint.prototype.next=function(){return this.group.next(this)},Waypoint.prototype.previous=function(){return this.group.previous(this)},Waypoint.invokeAll=function(method){var allWaypointsArray=[];for(var waypointKey in allWaypoints)allWaypointsArray.push(allWaypoints[waypointKey]);for(var i=0,end=allWaypointsArray.length;i<end;i++)allWaypointsArray[i][method]()},Waypoint.destroyAll=function(){Waypoint.invokeAll("destroy")},Waypoint.disableAll=function(){Waypoint.invokeAll("disable")},Waypoint.enableAll=function(){Waypoint.Context.refreshAll();for(var waypointKey in allWaypoints)allWaypoints[waypointKey].enabled=!0;return this},Waypoint.refreshAll=function(){Waypoint.Context.refreshAll()},Waypoint.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},Waypoint.viewportWidth=function(){return document.documentElement.clientWidth},Waypoint.adapters=[],Waypoint.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},Waypoint.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=Waypoint}(),function(){"use strict";function requestAnimationFrameShim(callback){window.setTimeout(callback,1e3/60)}function Context(element){this.element=element,this.Adapter=Waypoint.Adapter,this.adapter=new this.Adapter(element),this.key="waypoint-context-"+keyCounter,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},element.waypointContextKey=this.key,contexts[element.waypointContextKey]=this,keyCounter+=1,Waypoint.windowContext||(Waypoint.windowContext=!0,Waypoint.windowContext=new Context(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var keyCounter=0,contexts={},Waypoint=window.Waypoint,oldWindowLoad=window.onload;Context.prototype.add=function(waypoint){var axis=waypoint.options.horizontal?"horizontal":"vertical";this.waypoints[axis][waypoint.key]=waypoint,this.refresh()},Context.prototype.checkEmpty=function(){var horizontalEmpty=this.Adapter.isEmptyObject(this.waypoints.horizontal),verticalEmpty=this.Adapter.isEmptyObject(this.waypoints.vertical),isWindow=this.element==this.element.window;horizontalEmpty&&verticalEmpty&&!isWindow&&(this.adapter.off(".waypoints"),delete contexts[this.key])},Context.prototype.createThrottledResizeHandler=function(){function resizeHandler(){self.handleResize(),self.didResize=!1}var self=this;this.adapter.on("resize.waypoints",function(){self.didResize||(self.didResize=!0,Waypoint.requestAnimationFrame(resizeHandler))})},Context.prototype.createThrottledScrollHandler=function(){function scrollHandler(){self.handleScroll(),self.didScroll=!1}var self=this;this.adapter.on("scroll.waypoints",function(){if(!self.didScroll||Waypoint.isTouch)self.didScroll=!0,Waypoint.requestAnimationFrame(scrollHandler)})},Context.prototype.handleResize=function(){Waypoint.Context.refreshAll()},Context.prototype.handleScroll=function(){var triggeredGroups={},axes={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var axisKey in axes){var axis=axes[axisKey],isForward=axis.newScroll>axis.oldScroll,direction=isForward?axis.forward:axis.backward;for(var waypointKey in this.waypoints[axisKey]){var waypoint=this.waypoints[axisKey][waypointKey];if(waypoint.triggerPoint===null)continue;var wasBeforeTriggerPoint=axis.oldScroll<waypoint.triggerPoint,nowAfterTriggerPoint=axis.newScroll>=waypoint.triggerPoint,crossedForward=wasBeforeTriggerPoint&&nowAfterTriggerPoint,crossedBackward=!wasBeforeTriggerPoint&&!nowAfterTriggerPoint;if(crossedForward||crossedBackward)waypoint.queueTrigger(direction),triggeredGroups[waypoint.group.id]=waypoint.group}}for(var groupKey in triggeredGroups)triggeredGroups[groupKey].flushTriggers();this.oldScroll={x:axes.horizontal.newScroll,y:axes.vertical.newScroll}},Context.prototype.innerHeight=function(){return this.element==this.element.window?Waypoint.viewportHeight():this.adapter.innerHeight()},Context.prototype.remove=function(waypoint){delete this.waypoints[waypoint.axis][waypoint.key],this.checkEmpty()},Context.prototype.innerWidth=function(){return this.element==this.element.window?Waypoint.viewportWidth():this.adapter.innerWidth()},Context.prototype.destroy=function(){var allWaypoints=[];for(var axis in this.waypoints)for(var waypointKey in this.waypoints[axis])allWaypoints.push(this.waypoints[axis][waypointKey]);for(var i=0,end=allWaypoints.length;i<end;i++)allWaypoints[i].destroy()},Context.prototype.refresh=function(){var isWindow=this.element==this.element.window,contextOffset=isWindow?undefined:this.adapter.offset(),triggeredGroups={},axes;this.handleScroll(),axes={horizontal:{contextOffset:isWindow?0:contextOffset.left,contextScroll:isWindow?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:isWindow?0:contextOffset.top,contextScroll:isWindow?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var axisKey in axes){var axis=axes[axisKey];for(var waypointKey in this.waypoints[axisKey]){var waypoint=this.waypoints[axisKey][waypointKey],adjustment=waypoint.options.offset,oldTriggerPoint=waypoint.triggerPoint,elementOffset=0,freshWaypoint=oldTriggerPoint==null,contextModifier,wasBeforeScroll,nowAfterScroll,triggeredBackward,triggeredForward;waypoint.element!==waypoint.element.window&&(elementOffset=waypoint.adapter.offset()[axis.offsetProp]),typeof adjustment=="function"?adjustment=adjustment.apply(waypoint):typeof adjustment=="string"&&(adjustment=parseFloat(adjustment),waypoint.options.offset.indexOf("%")>-1&&(adjustment=Math.ceil(axis.contextDimension*adjustment/100))),contextModifier=axis.contextScroll-axis.contextOffset,waypoint.triggerPoint=Math.floor(elementOffset+contextModifier-adjustment),wasBeforeScroll=oldTriggerPoint<axis.oldScroll,nowAfterScroll=waypoint.triggerPoint>=axis.oldScroll,triggeredBackward=wasBeforeScroll&&nowAfterScroll,triggeredForward=!wasBeforeScroll&&!nowAfterScroll,!freshWaypoint&&triggeredBackward?(waypoint.queueTrigger(axis.backward),triggeredGroups[waypoint.group.id]=waypoint.group):!freshWaypoint&&triggeredForward?(waypoint.queueTrigger(axis.forward),triggeredGroups[waypoint.group.id]=waypoint.group):freshWaypoint&&axis.oldScroll>=waypoint.triggerPoint&&(waypoint.queueTrigger(axis.forward),triggeredGroups[waypoint.group.id]=waypoint.group)}}return Waypoint.requestAnimationFrame(function(){for(var groupKey in triggeredGroups)triggeredGroups[groupKey].flushTriggers()}),this},Context.findOrCreateByElement=function(element){return Context.findByElement(element)||new Context(element)},Context.refreshAll=function(){for(var contextId in contexts)contexts[contextId].refresh()},Context.findByElement=function(element){return contexts[element.waypointContextKey]},window.onload=function(){oldWindowLoad&&oldWindowLoad(),Context.refreshAll()},Waypoint.requestAnimationFrame=function(callback){var requestFn=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||requestAnimationFrameShim;requestFn.call(window,callback)},Waypoint.Context=Context}(),function(){"use strict";function byTriggerPoint(a,b){return a.triggerPoint-b.triggerPoint}function byReverseTriggerPoint(a,b){return b.triggerPoint-a.triggerPoint}function Group(options){this.name=options.name,this.axis=options.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),groups[this.axis][this.name]=this}var groups={vertical:{},horizontal:{}},Waypoint=window.Waypoint;Group.prototype.add=function(waypoint){this.waypoints.push(waypoint)},Group.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},Group.prototype.flushTriggers=function(){for(var direction in this.triggerQueues){var waypoints=this.triggerQueues[direction],reverse=direction==="up"||direction==="left";waypoints.sort(reverse?byReverseTriggerPoint:byTriggerPoint);for(var i=0,end=waypoints.length;i<end;i+=1){var waypoint=waypoints[i];(waypoint.options.continuous||i===waypoints.length-1)&&waypoint.trigger([direction])}}this.clearTriggerQueues()},Group.prototype.next=function(waypoint){this.waypoints.sort(byTriggerPoint);var index=Waypoint.Adapter.inArray(waypoint,this.waypoints),isLast=index===this.waypoints.length-1;return isLast?null:this.waypoints[index+1]},Group.prototype.previous=function(waypoint){this.waypoints.sort(byTriggerPoint);var index=Waypoint.Adapter.inArray(waypoint,this.waypoints);return index?this.waypoints[index-1]:null},Group.prototype.queueTrigger=function(waypoint,direction){this.triggerQueues[direction].push(waypoint)},Group.prototype.remove=function(waypoint){var index=Waypoint.Adapter.inArray(waypoint,this.waypoints);index>-1&&this.waypoints.splice(index,1)},Group.prototype.first=function(){return this.waypoints[0]},Group.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},Group.findOrCreate=function(options){return groups[options.axis][options.name]||new Group(options)},Waypoint.Group=Group}(),function(){"use strict";function JQueryAdapter(element){this.$element=$(element)}var $=window.jQuery,Waypoint=window.Waypoint;$.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(i,method){JQueryAdapter.prototype[method]=function(){var args=Array.prototype.slice.call(arguments);return this.$element[method].apply(this.$element,args)}}),$.each(["extend","inArray","isEmptyObject"],function(i,method){JQueryAdapter[method]=$[method]}),Waypoint.adapters.push({name:"jquery",Adapter:JQueryAdapter}),Waypoint.Adapter=JQueryAdapter}(),function(){"use strict";function createExtension(framework){return function(){var waypoints=[],overrides=arguments[0];return framework.isFunction(arguments[0])&&(overrides=framework.extend({},arguments[1]),overrides.handler=arguments[0]),this.each(function(){var options=framework.extend({},overrides,{element:this});typeof options.context=="string"&&(options.context=framework(this).closest(options.context)[0]),waypoints.push(new Waypoint(options))}),waypoints}}var Waypoint=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=createExtension(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=createExtension(window.Zepto))}(),function(){"use strict";function noop(){}function Inview(options){this.options=Waypoint.Adapter.extend({},Inview.defaults,options),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}var Waypoint=window.Waypoint;Inview.prototype.createWaypoints=function(){var configs={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]};for(var i=0,end=configs[this.axis].length;i<end;i++){var config=configs[this.axis][i];this.createWaypoint(config)}},Inview.prototype.createWaypoint=function(config){var self=this;this.waypoints.push(new Waypoint({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(config){return function(direction){self.options[config[direction]].call(self,direction)}}(config),offset:config.offset,horizontal:this.options.horizontal}))},Inview.prototype.destroy=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].destroy();this.waypoints=[]},Inview.prototype.disable=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].disable()},Inview.prototype.enable=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].enable()},Inview.defaults={context:window,enabled:!0,enter:noop,entered:noop,exit:noop,exited:noop},Waypoint.Inview=Inview}(),function($){function initMouseDetection(disable){if(!mouseDetectionEnabled&&!disable){var firstTime=!0,lastMove=null;$(document).bind({"mousemove.smartmenus_mouse":function(e){var thisMove={x:e.pageX,y:e.pageY,timeStamp:(new Date).getTime()};if(lastMove){var deltaX=Math.abs(lastMove.x-thisMove.x),deltaY=Math.abs(lastMove.y-thisMove.y);if((deltaX>0||deltaY>0)&&deltaX<=2&&deltaY<=2&&thisMove.timeStamp-lastMove.timeStamp<=300){mouse=!0;if(firstTime){var $a=$(e.target).closest("a");$a.is("a")&&$.each(menuTrees,function(){if($.contains(this.$root[0],$a[0]))return this.itemEnter({currentTarget:$a[0]}),!1}),firstTime=!1}}}lastMove=thisMove},"touchstart.smartmenus_mouse pointerover.smartmenus_mouse MSPointerOver.smartmenus_mouse":function(e){/^(4|mouse)$/.test(e.originalEvent.pointerType)||(mouse=!1)}}),mouseDetectionEnabled=!0}else mouseDetectionEnabled&&disable&&($(document).unbind(".smartmenus_mouse"),mouseDetectionEnabled=!1)}var menuTrees=[],IE=!!window.createPopup,IElt9=IE&&!document.defaultView,IElt8=IE&&!document.querySelector,IE6=IE&&typeof document.documentElement.currentStyle.minWidth=="undefined",mouse=!1,mouseDetectionEnabled=!1;$.SmartMenus=function(elm,options){this.$root=$(elm),this.opts=options,this.rootId="",this.$subArrow=null,this.subMenus=[],this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.zIndexInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.init()},$.extend($.SmartMenus,{hideAll:function(){$.each(menuTrees,function(){this.menuHideAll()})},destroy:function(){while(menuTrees.length)menuTrees[0].destroy();initMouseDetection(!0)},prototype:{init:function(refresh){var self=this;if(!refresh){menuTrees.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0),this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind({"mouseover.smartmenus focusin.smartmenus":$.proxy(this.rootOver,this),"mouseout.smartmenus focusout.smartmenus":$.proxy(this.rootOut,this)}).delegate("a",{"mouseenter.smartmenus":$.proxy(this.itemEnter,this),"mouseleave.smartmenus":$.proxy(this.itemLeave,this),"mousedown.smartmenus":$.proxy(this.itemDown,this),"focus.smartmenus":$.proxy(this.itemFocus,this),"blur.smartmenus":$.proxy(this.itemBlur,this),"click.smartmenus":$.proxy(this.itemClick,this),"touchend.smartmenus":$.proxy(this.itemTouchEnd,this)});var eNamespace=".smartmenus"+this.rootId;this.opts.hideOnClick&&$(document).bind("touchstart"+eNamespace,$.proxy(this.docTouchStart,this)).bind("touchmove"+eNamespace,$.proxy(this.docTouchMove,this)).bind("touchend"+eNamespace,$.proxy(this.docTouchEnd,this)).bind("click"+eNamespace,$.proxy(this.docClick,this)),$(window).bind("resize"+eNamespace+" orientationchange"+eNamespace,$.proxy(this.winResize,this)),$(window).bind("scroll"+eNamespace+" orientationchange"+eNamespace,$.proxy(this.winResize,this)),this.opts.subIndicators&&(this.$subArrow=$("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),initMouseDetection()}this.$firstSub=this.$root.find("ul").each(function(){self.menuInit($(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0);if(this.opts.markCurrentItem){var reDefaultDoc=/(index|default)\.[^#\?\/]*/i,reHash=/#.*/,locHref=window.location.href.replace(reDefaultDoc,""),locHrefNoHash=locHref.replace(reHash,"");this.$root.find("a").each(function(){var href=this.href.replace(reDefaultDoc,""),$this=$(this);if(href==locHref||href==locHrefNoHash)$this.addClass("current"),self.opts.markCurrentTree&&$this.parents("li").each(function(){var $this=$(this);$this.dataSM("sub")&&$this.children("a").addClass("current")})})}},destroy:function(){this.menuHideAll(),this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(".smartmenus").undelegate(".smartmenus");var eNamespace=".smartmenus"+this.rootId;$(document).unbind(eNamespace),$(window).unbind(eNamespace),this.opts.subIndicators&&(this.$subArrow=null);var self=this;$.each(this.subMenus,function(){this.hasClass("mega-menu")&&this.find("ul").removeDataSM("in-mega");if(this.dataSM("shown-before")){IElt8&&this.children().css({styleFloat:"",width:""});if(self.opts.subMenusMinWidth||self.opts.subMenusMaxWidth)IE6?this.css({width:"",overflowX:"",overflowY:""}).children().children("a").css("white-space",""):this.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap");this.dataSM("scroll-arrows")&&this.dataSM("scroll-arrows").remove(),this.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})}self.opts.subIndicators&&this.dataSM("parent-a").removeClass("has-submenu").children("span.sub-arrow").remove(),this.removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").parent().removeDataSM("sub")}),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),menuTrees.splice($.inArray(this,menuTrees),1)},disable:function(noOverlay){if(!this.disabled){this.menuHideAll();if(!noOverlay&&!this.opts.isPopup&&this.$root.is(":visible")){var pos=this.$root.offset();this.$disableOverlay=$('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:pos.top,left:pos.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex()+1,opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(e){(this.visibleSubMenus.length&&!$.contains(this.$root[0],e.target)||$(e.target).is("a"))&&this.menuHideAll($(e.target))},docTouchEnd:function(e){if(!this.lastTouch)return;if(this.visibleSubMenus.length&&(this.lastTouch.x2===undefined||this.lastTouch.x1==this.lastTouch.x2)&&(this.lastTouch.y2===undefined||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!$.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var self=this;this.hideTimeout=setTimeout(function(){self.menuHideAll($(e.target))},350)}this.lastTouch=null},docTouchMove:function(e){if(!this.lastTouch)return;var touchPoint=e.originalEvent.touches[0];this.lastTouch.x2=touchPoint.pageX,this.lastTouch.y2=touchPoint.pageY},docTouchStart:function(e){var touchPoint=e.originalEvent.touches[0];this.lastTouch={x1:touchPoint.pageX,y1:touchPoint.pageY,target:touchPoint.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getHeight:function($elm){return this.getOffset($elm,!0)},getOffset:function($elm,height){var old;$elm.css("display")=="none"&&(old={position:$elm[0].style.position,visibility:$elm[0].style.visibility},$elm.css({position:"absolute",visibility:"hidden"}).show());var defaultView=$elm[0].ownerDocument.defaultView,compStyle=defaultView&&defaultView.getComputedStyle&&defaultView.getComputedStyle($elm[0],null),val=compStyle&&parseFloat(compStyle[height?"height":"width"]);return val?val+=parseFloat(compStyle[height?"paddingTop":"paddingLeft"])+parseFloat(compStyle[height?"paddingBottom":"paddingRight"])+parseInt(compStyle[height?"borderTopWidth":"borderLeftWidth"])+parseInt(compStyle[height?"borderBottomWidth":"borderRightWidth"]):val=height?$elm[0].offsetHeight:$elm[0].offsetWidth,old&&$elm.hide().css(old),val},getWidth:function($elm){return this.getOffset($elm)},getStartZIndex:function(){var zIndex=parseInt(this.$root.css("z-index"));return isNaN(zIndex)?1:zIndex},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function($a){return this.handleEvents()&&!this.isLinkInMegaMenu($a)},isCollapsible:function(){return this.$firstSub.css("position")=="static"},isCSSOn:function(){return this.$firstLink.css("display")=="block"||this.$firstLink.css("display")=="inline"},isFixed:function(){return this.$root.css("position")=="fixed"},isLinkInMegaMenu:function($a){return!$a.parent().parent().dataSM("level")},isTouchMode:function(){return!mouse||this.isCollapsible()},itemActivate:function($a){var $li=$a.parent(),$ul=$li.parent(),level=$ul.dataSM("level");if(level>1&&(!this.activatedItems[level-2]||this.activatedItems[level-2][0]!=$ul.dataSM("parent-a")[0])){var self=this;$($ul.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add($ul).each(function(){self.itemActivate($(this).dataSM("parent-a"))})}if(this.visibleSubMenus.length>level)for(var i=this.visibleSubMenus.length-1,l=!this.activatedItems[level-1]||this.activatedItems[level-1][0]!=$a[0]?level-1:level;i>l;i--)this.menuHide(this.visibleSubMenus[i]);this.activatedItems[level-1]=$a,this.visibleSubMenus[level-1]=$ul;if(this.$root.triggerHandler("activate.smapi",$a[0])===!1)return;var $sub=$li.dataSM("sub");$sub&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow($sub)},itemBlur:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;this.$root.triggerHandler("blur.smapi",$a[0])},itemClick:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;$a.removeDataSM("mousedown");if(this.$root.triggerHandler("click.smapi",$a[0])===!1)return!1;var $sub=$a.parent().dataSM("sub");if(this.isTouchMode()){$a.dataSM("href")&&$a.attr("href",$a.dataSM("href")).removeDataSM("href");if($sub&&(!$sub.dataSM("shown-before")||!$sub.is(":visible"))){this.itemActivate($a);if($sub.is(":visible"))return!1}}else if(this.opts.showOnClick&&$a.parent().parent().dataSM("level")==1&&$sub)return this.clickActivated=!0,this.menuShow($sub),!1;if($a.hasClass("disabled"))return!1;if(this.$root.triggerHandler("select.smapi",$a[0])===!1)return!1},itemDown:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;$a.dataSM("mousedown",!0)},itemEnter:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var self=this;this.showTimeout=setTimeout(function(){self.itemActivate($a)},this.opts.showOnClick&&$a.parent().parent().dataSM("level")==1?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",$a[0])},itemFocus:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;(!this.isTouchMode()||!$a.dataSM("mousedown"))&&(!this.activatedItems.length||this.activatedItems[this.activatedItems.length-1][0]!=$a[0])&&this.itemActivate($a),this.$root.triggerHandler("focus.smapi",$a[0])},itemLeave:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;this.isTouchMode()||($a[0].blur&&$a[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),$a.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",$a[0])},itemTouchEnd:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;var $sub=$a.parent().dataSM("sub");$a.attr("href").charAt(0)!=="#"&&$sub&&(!$sub.dataSM("shown-before")||!$sub.is(":visible"))&&($a.dataSM("href",$a.attr("href")),$a.attr("href","#"))},menuFixLayout:function($ul){$ul.dataSM("shown-before")||($ul.hide().dataSM("shown-before",!0),IElt8&&$ul.children().css({styleFloat:"left",width:"100%"}))},menuHide:function($sub){if(this.$root.triggerHandler("beforehide.smapi",$sub[0])===!1)return;$sub.stop(!0,!0);if($sub.is(":visible")){var complete=function(){IElt9?$sub.parent().css("z-index",""):$sub.css("z-index","")};this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,$sub,complete):$sub.hide(this.opts.collapsibleHideDuration,complete):this.opts.hideFunction?this.opts.hideFunction.call(this,$sub,complete):$sub.hide(this.opts.hideDuration,complete),$sub.dataSM("ie-shim")&&$sub.dataSM("ie-shim").remove(),$sub.dataSM("scroll")&&$sub.unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide(),$sub.dataSM("parent-a").removeClass("highlighted");var level=$sub.dataSM("level");this.activatedItems.splice(level-1,1),this.visibleSubMenus.splice(level-1,1),this.$root.triggerHandler("hide.smapi",$sub[0])}},menuHideAll:function($item){if($item!=undefined&&$item.parent().hasClass("menu-item")&&!$item.parent().hasClass("menu-item-has-children"))return;if($("body").hasClass("vmenu"))return;this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var i=this.visibleSubMenus.length-1;i>0;i--)this.menuHide(this.visibleSubMenus[i]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove())),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.zIndexInc=0},menuIframeShim:function($ul){IE&&this.opts.overlapControlsInIE&&!$ul.dataSM("ie-shim")&&$ul.dataSM("ie-shim",$("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function($ul){if(!$ul.dataSM("in-mega")){this.subMenus.push($ul),$ul.hasClass("mega-menu")&&$ul.find("ul").dataSM("in-mega",!0);var level=2,par=$ul[0];while((par=par.parentNode.parentNode)!=this.$root[0])level++;$ul.dataSM("parent-a",$ul.prevAll("a").eq(-1)).dataSM("level",level).parent().dataSM("sub",$ul),this.opts.subIndicators&&$ul.dataSM("parent-a").addClass("has-submenu")[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function($sub){var fixIE=$("html.ie").length,$a=$sub.dataSM("parent-a"),$li=$sub.parent(),$ul=$sub.parent().parent(),$container=$ul.closest(".row-menu-inner"),level=$sub.dataSM("level"),subW=this.getWidth($sub),subH=this.getHeight($sub),itemOffset=$a.offset(),itemX=itemOffset.left,itemY=itemOffset.top,itemW=this.getWidth($a),itemH=this.getHeight($a),$win=$(window),winX=$win.scrollLeft(),winY=$win.scrollTop(),winW=$win.width(),winH=$win.height(),containerW=$container.width(),containerOffsetX=containerW+(winW-containerW)/2,horizontalParent=$ul.hasClass("sm")&&!$ul.hasClass("sm-vertical"),subOffsetX=level==2?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,subOffsetY=level==2?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY,x,y,leftPos;horizontalParent?(x=this.opts.rightToLeftSubMenus?itemW-subW-subOffsetX:subOffsetX,y=this.opts.bottomToTopSubMenus?-subH-subOffsetY:itemH+subOffsetY):(x=this.opts.rightToLeftSubMenus?subOffsetX-subW:itemW-subOffsetX,y=this.opts.bottomToTopSubMenus?itemH-subOffsetY-subH:subOffsetY);if(this.opts.keepInViewport&&!this.isCollapsible()){this.isFixed()&&(itemX-=winX,itemY-=winY,winX=winY=0);var absX=itemX+x,absY=itemY+y;this.opts.rightToLeftSubMenus&&absX<winX?x=horizontalParent?winX-absX+x:itemW-subOffsetX:!this.opts.rightToLeftSubMenus&&absX+subW>winX+containerOffsetX&&(x=horizontalParent?winX+containerOffsetX-subW-absX+x:subOffsetX-subW);if(!horizontalParent)if(subH<winH&&absY+subH>winY+winH)y+=winY+winH-subH-absY;else if(subH>=winH||absY<winY)y+=winY-absY;if(mouse&&(horizontalParent&&(absY+subH>winY+winH+.49||absY<winY)||!horizontalParent&&subH>winH+.49)){var self=this;$sub.dataSM("scroll-arrows")||$sub.dataSM("scroll-arrows",$([$('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],$('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){self.menuScroll($sub,$(this).hasClass("scroll-up"))},mouseleave:function(e){self.menuScrollStop($sub),self.menuScrollOut($sub,e)},"mousewheel DOMMouseScroll":function(e){e.preventDefault()}}).insertAfter($sub));var vportY=winY-(itemY+itemH);$sub.dataSM("scroll",{vportY:vportY,subH:subH,winH:winH,step:1}).bind({"mouseover.smartmenus_scroll":function(e){self.menuScrollOver($sub,e)},"mouseout.smartmenus_scroll":function(e){self.menuScrollOut($sub,e)},"mousewheel.smartmenus_scroll DOMMouseScroll.smartmenus_scroll":function(e){self.menuScrollMousewheel($sub,e)}}).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:x+(parseInt($sub.css("border-left-width"))||0),width:this.getWidth($sub)-(parseInt($sub.css("border-left-width"))||0)-(parseInt($sub.css("border-right-width"))||0),zIndex:this.getStartZIndex()+this.zIndexInc}).eq(0).css("margin-top",vportY).end().eq(1).css("margin-top",vportY+winH-this.getHeight($sub.dataSM("scroll-arrows").eq(1))).end().eq(horizontalParent&&this.opts.bottomToTopSubMenus?0:1).show()}}$sub.hasClass("mega-menu-inner")?($sub.css({width:containerW}),$("body.hmenu-center-double").length?leftPos="0px":$("body.hmenu-center-split").length>0&&!$sub.closest(".navbar-cta").length&&!$("body.hormenu-position-right").length?leftPos=-$sub.closest(".menu-primary-inner")[0].offsetLeft+"px":$sub.closest(".navbar-cta").length&&!$("body.hmenu").length&&!$("body.hmenu-center").length?leftPos=-(parseFloat($sub.closest(".navbar-cta").offset().left)-parseFloat($sub.closest(".row-menu-inner").find(".logo-container").offset().left))+"px":$sub.closest(".row-menu-inner").find(".logo-container").length>0&&!$("body.hmenu-center-split").length?leftPos=-(parseFloat($sub.closest(".row-menu-inner").find(".logo-container").css("paddingRight"))+$sub.closest(".row-menu-inner").find(".logo-container").width())+"px":leftPos="0px"):(leftPos=(level>2?$li.position().left-parseFloat($li.closest("ul").css("paddingLeft")):$li.position().left)+"px",x=level>2&&x>=0?x+parseFloat($li.closest("ul").css("paddingLeft"))*2+1:x-1),$sub.css({top:level>2?$a[0].offsetTop:fixIE?itemH:"100%",left:leftPos,marginLeft:x,marginTop:level>2?0:y-itemH+($sub.closest(".menu-mini").length?0:1)}),this.menuIframeShim($sub),$sub.dataSM("ie-shim")&&$sub.dataSM("ie-shim").css({zIndex:$sub.css("z-index"),width:subW,height:subH,marginLeft:x,marginTop:y-itemH+($sub.closest(".menu-mini").length?0:1)})},menuScroll:function($sub,up,wheel){var y=parseFloat($sub.css("margin-top")),scroll=$sub.dataSM("scroll"),end=scroll.vportY+(up?0:scroll.winH-scroll.subH),step=wheel||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor($sub.dataSM("scroll").step);$sub.add($sub.dataSM("ie-shim")).css("margin-top",Math.abs(end-y)>step?y+(up?step:-step):end),y=parseFloat($sub.css("margin-top")),(up&&y+scroll.subH>scroll.vportY+scroll.winH||!up&&y<scroll.vportY)&&$sub.dataSM("scroll-arrows").eq(up?1:0).show(),!wheel&&this.opts.scrollAccelerate&&$sub.dataSM("scroll").step<this.opts.scrollStep&&($sub.dataSM("scroll").step+=.5);if(Math.abs(y-end)<1)$sub.dataSM("scroll-arrows").eq(up?0:1).hide(),$sub.dataSM("scroll").step=1;else if(!wheel){var self=this;this.scrollTimeout=setTimeout(function(){self.menuScroll($sub,up)},this.opts.scrollInterval)}},menuScrollMousewheel:function($sub,e){var $closestSub=$(e.target).closest("ul");while($closestSub.dataSM("in-mega"))$closestSub=$closestSub.parent().closest("ul");if($closestSub[0]==$sub[0]){var up=(e.originalEvent.wheelDelta||-e.originalEvent.detail)>0;$sub.dataSM("scroll-arrows").eq(up?0:1).is(":visible")&&this.menuScroll($sub,up,!0)}e.preventDefault()},menuScrollOut:function($sub,e){var reClass=/^scroll-(up|down)/,$closestSub=$(e.relatedTarget).closest("ul");while($closestSub.dataSM("in-mega"))$closestSub=$closestSub.parent().closest("ul");!reClass.test((e.relatedTarget||"").className)&&($sub[0]!=e.relatedTarget&&!$.contains($sub[0],e.relatedTarget)||$closestSub[0]!=$sub[0])&&$sub.dataSM("scroll-arrows").css("visibility","hidden")},menuScrollOver:function($sub,e){var reClass=/^scroll-(up|down)/,$closestSub=$(e.target).closest("ul");while($closestSub.dataSM("in-mega"))$closestSub=$closestSub.parent().closest("ul");!reClass.test(e.target.className)&&$closestSub[0]==$sub[0]&&$sub.dataSM("scroll-arrows").css("visibility","visible")},menuScrollStop:function($sub){this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=0,$sub.dataSM("scroll").step=1)},menuShow:function($sub){if(!$sub.dataSM("beforefirstshowfired")){$sub.dataSM("beforefirstshowfired",!0);if(this.$root.triggerHandler("beforefirstshow.smapi",$sub[0])===!1)return}if(this.$root.triggerHandler("beforeshow.smapi",$sub[0])===!1)return;this.menuFixLayout($sub),$sub.stop(!0,!0);if(!$sub.is(":visible")){var zIndex=this.getStartZIndex()+ ++this.zIndexInc;IElt9?$sub.parent().css("z-index",zIndex):$sub.css("z-index",zIndex),(this.opts.keepHighlighted||this.isCollapsible())&&$sub.dataSM("parent-a").attr("data-type")!="title"&&$sub.dataSM("parent-a").addClass("highlighted");if(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)if(!IElt8){$sub.css({width:$sub.hasClass("mega-menu-inner")?$(".box-container").outerWidth()+"px":"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&$sub.css("min-width",this.opts.subMenusMinWidth);if(this.opts.subMenusMaxWidth){var noMaxWidth=this.getWidth($sub);$sub.css("max-width",this.opts.subMenusMaxWidth),noMaxWidth>this.getWidth($sub)&&$sub.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}}else{$sub.children().css("styleFloat","none"),IE6?$sub.width(this.opts.subMenusMinWidth?this.opts.subMenusMinWidth:1).children().children("a").css("white-space","nowrap"):($sub.css({width:$sub.hasClass("mega-menu-inner")?$(".box-container").outerWidth()+"px":"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&$sub.css("min-width",this.opts.subMenusMinWidth));if(this.opts.subMenusMaxWidth){var noMaxWidth=$sub.width();if(IE6){var maxWidth=$sub.css({width:this.opts.subMenusMaxWidth,overflowX:"hidden",overflowY:"hidden"}).width();noMaxWidth>maxWidth?$sub.css({width:maxWidth,overflowX:"visible",overflowY:"visible"}).children().children("a").css("white-space",""):$sub.css({width:noMaxWidth,overflowX:"visible",overflowY:"visible"})}else $sub.css("max-width",this.opts.subMenusMaxWidth),noMaxWidth>$sub.width()?$sub.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth):$sub.width(noMaxWidth)}else $sub.width($sub.width());$sub.children().css("styleFloat","left")}this.menuPosition($sub),$sub.dataSM("ie-shim")&&$sub.dataSM("ie-shim").insertBefore($sub);var complete=function(){$sub.css("overflow","")};this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,$sub,complete):$sub.show(this.opts.collapsibleShowDuration,complete):this.opts.showFunction?this.opts.showFunction.call(this,$sub,complete):$sub.show(this.opts.showDuration,complete),this.visibleSubMenus[$sub.dataSM("level")-1]=$sub,this.$root.triggerHandler("show.smapi",$sub[0])}},popupHide:function(noHideTimeout){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var self=this;this.hideTimeout=setTimeout(function(){self.menuHideAll()},noHideTimeout?1:this.opts.hideTimeout)},popupShow:function(left,top){if(!this.opts.isPopup){alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.');return}this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.menuFixLayout(this.$root),this.$root.stop(!0,!0),this.$root.is(":visible")||(this.$root.css({left:left,top:top}),this.menuIframeShim(this.$root),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:left,top:top}).insertBefore(this.$root),this.opts.showFunction?this.opts.showFunction.call(this,this.$root):this.$root.show(this.opts.showDuration),this.visibleSubMenus[0]=this.$root)},refresh:function(){this.menuHideAll(),this.$root.find("ul").each(function(){var $this=$(this);$this.dataSM("scroll-arrows")&&$this.dataSM("scroll-arrows").remove()}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired"),this.$root.find("a.has-submenu").removeClass("has-submenu").parent().removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),this.subMenus=[],this.init(!0)},rootOut:function(e){if(!this.handleEvents()||this.isTouchMode()||e.target==this.$root[0])return;this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);if(!this.opts.showOnClick||!this.opts.hideOnClick){var self=this;this.hideTimeout=setTimeout(function(){self.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(e){if(!this.handleEvents()||this.isTouchMode()||e.target==this.$root[0])return;this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(e){if(!this.handleEvents()){if(this.$disableOverlay){var pos=this.$root.offset();this.$disableOverlay.css({top:pos.top,left:pos.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}return}!this.isCollapsible()&&(!("onorientationchange"in window)||e.type=="orientationchange")&&(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll())}}}),$.fn.dataSM=function(key,val){return val?this.data(key+"_smartmenus",val):this.data(key+"_smartmenus")},$.fn.removeDataSM=function(key){return this.removeData(key+"_smartmenus")},$.fn.smartmenus=function(options){if(typeof options=="string"){var args=arguments,method=options;return Array.prototype.shift.call(args),this.each(function(){var smartmenus=$(this).data("smartmenus");smartmenus&&smartmenus[method]&&smartmenus[method].apply(smartmenus,args)})}var opts=$.extend({},$.fn.smartmenus.defaults,options);return this.each(function(){new $.SmartMenus(this,opts)})},$.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollInterval:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function($ul,complete){$ul.fadeOut(200,complete)},collapsibleShowDuration:0,collapsibleShowFunction:function($ul,complete){$ul.slideDown(200,complete)},collapsibleHideDuration:0,collapsibleHideFunction:function($ul,complete){$ul.slideUp(200,complete)},showOnClick:!1,hideOnClick:!0,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t+b:-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return t==0?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t==d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){return t==0?b:t==d?b+c:(t/=d/2)<1?c/2*Math.pow(2,10*(t-1))+b:c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){return(t/=d/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+b:c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;p||(p=d*.3);if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;p||(p=d*.3);if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*2*Math.PI/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;p||(p=d*.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return t<1?-0.5*a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)+b:a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){return s==undefined&&(s=1.70158),c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){return s==undefined&&(s=1.70158),c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){return s==undefined&&(s=1.70158),(t/=d/2)<1?c/2*t*t*(((s*=1.525)+1)*t-s)+b:c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){return(t/=d)<1/2.75?c*7.5625*t*t+b:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+b:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+b:c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},easeInOutBounce:function(x,t,b,c,d){return t<d/2?jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b:jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}}),function($,window,undefined){var lastTime=0,running,animate=function(elem){running&&(window.requestAnimationFrame(animate,elem),jQuery.fx.tick())},vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(fn,element){var currTime=(new Date).getTime(),delta=currTime-lastTime,timeToCall=Math.max(0,16-delta),id=window.setTimeout(function(){fn(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)}),jQuery.fx.timer=function(timer){timer()&&jQuery.timers.push(timer)&&!running&&(running=!0,animate(timer.elem))},jQuery.fx.stop=function(){running=!1}}(jQuery,this),function($){function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=!0,deltaX=0,deltaY=0;return event=$.event.fix(orgEvent),event.type="mousewheel",orgEvent.wheelDelta&&(delta=orgEvent.wheelDelta/120),orgEvent.detail&&(delta=-orgEvent.detail/3),deltaY=delta,orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaY=0,deltaX=-1*delta),orgEvent.wheelDeltaY!==undefined&&(deltaY=orgEvent.wheelDeltaY/120),orgEvent.wheelDeltaX!==undefined&&(deltaX=-1*orgEvent.wheelDeltaX/120),args.unshift(event,delta,deltaX,deltaY),($.event.dispatch||$.event.handle).apply(this,args)}var types=["DOMMouseScroll","mousewheel"];if($.event.fixHooks)for(var i=types.length;i;)$.event.fixHooks[types[--i]]=$.event.mouseHooks;$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var i=types.length;i;)this.addEventListener(types[--i],handler,!1);else this.onmousewheel=handler},teardown:function(){if(this.removeEventListener)for(var i=types.length;i;)this.removeEventListener(types[--i],handler,!1);else this.onmousewheel=null}},$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})}(jQuery),function($,window,undefined){function getPixel($element,property){return parseInt($element.css(property),10)||0}function within(number,min,max){return number<min?min:number>max?max:number}function getViewport(){var e=window,a="inner";return"innerWidth"in window||(a="client",e=document.documentElement||document.body),{width:e[a+"Width"],height:e[a+"Height"]}}function removeHash(){var scroll=getScrollXY();history.pushState("",document.title,window.location.pathname+window.location.search),window.scrollTo(scroll.x,scroll.y)}function doAjax(url,callback){var url="//ilightbox.net/getSource/jsonp.php?url="+encodeURIComponent(url).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A");$.ajax({url:url,dataType:"jsonp"}),iLCallback=function(data){callback.call(this,data)}}function findImageInElement(element){var elements=$("*",element),imagesArr=new Array;return elements.each(function(){var url="",element=this;$(element).css("background-image")!="none"?url=$(element).css("background-image"):typeof $(element).attr("src")!="undefined"&&element.nodeName.toLowerCase()=="img"&&(url=$(element).attr("src"));if(url.indexOf("gradient")==-1){url=url.replace(/url\(\"/g,""),url=url.replace(/url\(/g,""),url=url.replace(/\"\)/g,""),url=url.replace(/\)/g,"");var urls=url.split(",");for(var i=0;i<urls.length;i++)if(urls[i].length>0&&$.inArray(urls[i],imagesArr)==-1){var extra="";browser.msie&&browser.version<9&&(extra="?"+floor(random()*3e3)),imagesArr.push(urls[i]+extra)}}}),imagesArr}function getExtension(URL){if(URL!==null){var ext=URL.indexOf("?")!==-1?URL.split("?")[0]:URL;return ext=ext.split(".").pop().toLowerCase(),ext}}function getTypeByExtension(URL){var type,ext=getExtension(URL);return extensions.image.indexOf(ext)!==-1?type="image":extensions.flash.indexOf(ext)!==-1?type="flash":extensions.video.indexOf(ext)!==-1?type="video":ext.substring(0,1)=="#"?type="inline":type="iframe",type}function percentToValue(percent,total){return parseInt(total/100*percent)}function parseURI(url){var m=String(url).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return m?{href:m[0]||"",protocol:m[1]||"",authority:m[2]||"",host:m[3]||"",hostname:m[4]||"",port:m[5]||"",pathname:m[6]||"",search:m[7]||"",hash:m[8]||""}:null}function absolutizeURI(base,href){function removeDotSegments(input){var output=[];return input.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(p){p==="/.."?output.pop():output.push(p)}),output.join("").replace(/^\//,input.charAt(0)==="/"?"/":"")}var iL=this;return href=parseURI(href||""),base=parseURI(base||""),!href||!base?null:(href.protocol||base.protocol)+(href.protocol||href.authority?href.authority:base.authority)+removeDotSegments(href.protocol||href.authority||href.pathname.charAt(0)==="/"?href.pathname:href.pathname?(base.authority&&!base.pathname?"/":"")+base.pathname.slice(0,base.pathname.lastIndexOf("/")+1)+href.pathname:base.pathname)+(href.protocol||href.authority||href.pathname?href.search:href.search||base.search)+href.hash}function version_compare(v1,v2,operator){this.php_js=this.php_js||{},this.php_js.ENV=this.php_js.ENV||{};var i=0,x=0,compare=0,vm={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},prepVersion=function(v){return v=(""+v).replace(/[_\-+]/g,"."),v=v.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),v.length?v.split("."):[-8]},numVersion=function(v){return v?isNaN(v)?vm[v]||-7:parseInt(v,10):0};v1=prepVersion(v1),v2=prepVersion(v2),x=max(v1.length,v2.length);for(i=0;i<x;i++){if(v1[i]==v2[i])continue;v1[i]=numVersion(v1[i]),v2[i]=numVersion(v2[i]);if(v1[i]<v2[i]){compare=-1;break}if(v1[i]>v2[i]){compare=1;break}}if(!operator)return compare;switch(operator){case">":case"gt":return compare>0;case">=":case"ge":return compare>=0;case"<=":case"le":return compare<=0;case"==":case"=":case"eq":return compare===0;case"<>":case"!=":case"ne":return compare!==0;case"":case"<":case"lt":return compare<0;default:return null}}function getScrollXY(){var scrOfX=0,scrOfY=0;return typeof window.pageYOffset=="number"?(scrOfY=window.pageYOffset,scrOfX=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(scrOfY=document.body.scrollTop,scrOfX=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(scrOfY=document.documentElement.scrollTop,scrOfX=document.documentElement.scrollLeft),{x:scrOfX,y:scrOfY}}function AC_QuickTimeVersion(){return gQTGeneratorVersion}function _QTComplain(a,b){b=b.replace("%%",a),alert(b)}function _QTAddAttribute(a,b,c){var d;return d=gTagAttrs[a+b],null==d&&(d=gTagAttrs[b]),null!=d?(0==b.indexOf(a)&&null==c&&(c=b.substring(a.length)),null==c&&(c=b),c+'="'+d+'" '):""}function _QTAddObjectAttr(a,b){return 0==a.indexOf("emb#")?"":(0==a.indexOf("obj#")&&null==b&&(b=a.substring(4)),_QTAddAttribute("obj#",a,b))}function _QTAddEmbedAttr(a,b){return 0==a.indexOf("obj#")?"":(0==a.indexOf("emb#")&&null==b&&(b=a.substring(4)),_QTAddAttribute("emb#",a,b))}function _QTAddObjectParam(a,b){var c,d="",e=b?" />":">";return-1==a.indexOf("emb#")&&(c=gTagAttrs["obj#"+a],null==c&&(c=gTagAttrs[a]),0==a.indexOf("obj#")&&(a=a.substring(4)),null!=c&&(d='  <param name="'+a+'" value="'+c+'"'+e+"\n")),d}function _QTDeleteTagAttrs(){for(var a=0;a<arguments.length;a++){var b=arguments[a];delete gTagAttrs[b],delete gTagAttrs["emb#"+b],delete gTagAttrs["obj#"+b]}}function _QTGenerate(a,b,c){if(4>c.length||0!=c.length%2)return _QTComplain(a,gArgCountErr),"";gTagAttrs=[],gTagAttrs.src=c[0],gTagAttrs.width=c[1],gTagAttrs.height=c[2],gTagAttrs.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",gTagAttrs.pluginspage="http://www.apple.com/quicktime/download/",a=c[3];if(null==a||""==a)a="6,0,2,0";gTagAttrs.codebase="http://www.apple.com/qtactivex/qtplugin.cab#version="+a;for(var d,e=4;e<c.length;e+=2)d=c[e].toLowerCase(),a=c[e+1],"name"==d||"id"==d?gTagAttrs.name=a:gTagAttrs[d]=a;c="<object "+_QTAddObjectAttr("classid")+_QTAddObjectAttr("width")+_QTAddObjectAttr("height")+_QTAddObjectAttr("codebase")+_QTAddObjectAttr("name","id")+_QTAddObjectAttr("tabindex")+_QTAddObjectAttr("hspace")+_QTAddObjectAttr("vspace")+_QTAddObjectAttr("border")+_QTAddObjectAttr("align")+_QTAddObjectAttr("class")+_QTAddObjectAttr("title")+_QTAddObjectAttr("accesskey")+_QTAddObjectAttr("noexternaldata")+">\n"+_QTAddObjectParam("src",b),e="  <embed "+_QTAddEmbedAttr("src")+_QTAddEmbedAttr("width")+_QTAddEmbedAttr("height")+_QTAddEmbedAttr("pluginspage")+_QTAddEmbedAttr("name")+_QTAddEmbedAttr("align")+_QTAddEmbedAttr("tabindex"),_QTDeleteTagAttrs("src","width","height","pluginspage","classid","codebase","name","tabindex","hspace","vspace","border","align","noexternaldata","class","title","accesskey");for(d in gTagAttrs)a=gTagAttrs[d],null!=a&&(e+=_QTAddEmbedAttr(d),c+=_QTAddObjectParam(d,b));return c+e+"> </embed>\n</object>"}function QT_GenerateOBJECTText(){return _QTGenerate("QT_GenerateOBJECTText",!1,arguments)}var extensions={flash:["swf"],image:["bmp","gif","jpeg","jpg","png","tiff","tif","jfif","jpe"],iframe:["asp","aspx","cgi","cfm","htm","html","jsp","php","pl","php3","php4","php5","phtml","rb","rhtml","shtml","txt"],video:["avi","mov","mpg","mpeg","movie","mp4","webm","ogv","ogg","3gp","m4v"]},$win=$(window),$doc=$(document),browser,transform,gpuAcceleration,fullScreenApi="",userAgent=navigator.userAgent||navigator.vendor||window.opera,supportTouch="ontouchstart"in window||navigator.msMaxTouchPoints,isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(userAgent.substr(0,4)),clickEvent=supportTouch?"itap.iLightBox":"click.iLightBox",touchStartEvent=supportTouch?"touchstart.iLightBox":"mousedown.iLightBox",touchStopEvent=supportTouch?"touchend.iLightBox":"mouseup.iLightBox",touchMoveEvent=supportTouch?"touchmove.iLightBox":"mousemove.iLightBox",abs=Math.abs,sqrt=Math.sqrt,round=Math.round,max=Math.max,min=Math.min,floor=Math.floor,random=Math.random,pluginspages={quicktime:"http://www.apple.com/quicktime/download",flash:"http://www.adobe.com/go/getflash"},iLightBox=function(el,options,items,instant){var iL=this;iL.options=options,iL.selector=el.selector||el,iL.context=el.context,iL.instant=instant,items.length<1?iL.attachItems():iL.items=items,iL.vars={total:iL.items.length,start:0,current:null,next:null,prev:null,BODY:$("body"),loadRequests:0,overlay:$('<div class="ilightbox-overlay"></div>'),loader:$('<div class="ilightbox-loader"><div></div></div>'),toolbar:$('<div class="ilightbox-toolbar"></div>'),innerToolbar:$('<div class="ilightbox-inner-toolbar"></div>'),title:$('<div class="ilightbox-title"></div>'),closeButton:$('<a class="ilightbox-close" title="'+iL.options.text.close+'"></a>'),fullScreenButton:$('<a class="ilightbox-fullscreen" title="'+iL.options.text.enterFullscreen+'"></a>'),innerPlayButton:$('<a class="ilightbox-play" title="'+iL.options.text.slideShow+'"></a>'),innerNextButton:$('<a class="ilightbox-next-button" title="'+iL.options.text.next+'"></a>'),innerPrevButton:$('<a class="ilightbox-prev-button" title="'+iL.options.text.previous+'"></a>'),holder:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+'" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-next" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),prevPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-prev" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextButton:$('<a class="ilightbox-button ilightbox-next-button" ondragstart="return false;" title="'+iL.options.text.next+'"><span></span></a>'),prevButton:$('<a class="ilightbox-button ilightbox-prev-button" ondragstart="return false;" title="'+iL.options.text.previous+'"><span></span></a>'),thumbnails:$('<div class="ilightbox-thumbnails" ondragstart="return false;"><div class="ilightbox-thumbnails-container"><a class="ilightbox-thumbnails-dragger"></a><div class="ilightbox-thumbnails-grid"></div></div></div>'),thumbs:!1,nextLock:!1,prevLock:!1,hashLock:!1,isMobile:!1,mobileMaxWidth:980,isInFullScreen:!1,isSwipe:!1,mouseID:0,cycleID:0,isPaused:0,captionHeight:39},iL.vars.hideableElements=iL.vars.nextButton.add(iL.vars.prevButton),iL.normalizeItems(),iL.availPlugins(),iL.options.startFrom=iL.options.startFrom>0&&iL.options.startFrom>=iL.vars.total?iL.vars.total-1:iL.options.startFrom,iL.options.startFrom=iL.options.randomStart?floor(random()*iL.vars.total):iL.options.startFrom,iL.vars.start=iL.options.startFrom,instant?iL.instantCall():iL.patchItemsEvents(),iL.options.linkId&&(iL.hashChangeHandler(),$win.iLightBoxHashChange(function(){iL.hashChangeHandler()}));if(supportTouch){var RegExp=/(click|mouseenter|mouseleave|mouseover|mouseout)/ig,replace="itap";iL.options.caption.show=iL.options.caption.show.replace(RegExp,replace),iL.options.caption.hide=iL.options.caption.hide.replace(RegExp,replace),iL.options.social.show=iL.options.social.show.replace(RegExp,replace),iL.options.social.hide=iL.options.social.hide.replace(RegExp,replace)}(iL.options.controls.arrows||$(window).width()<UNCODE.mediaQuery)&&$.extend(iL.options.styles,{nextOffsetX:$(window).width()>UNCODE.mediaQuery?36:4,prevOffsetX:$(window).width()>UNCODE.mediaQuery?36:4,nextOpacity:0,prevOpacity:0})};iLightBox.prototype={showLoader:function(){var iL=this;iL.vars.loadRequests+=1,iL.options.path.toLowerCase()=="horizontal"?iL.vars.loader.addClass("ilightbox-show").stop().animate({opacity:"1"},iL.options.show.speed,"easeOutCirc"):iL.vars.loader.addClass("ilightbox-show").stop().animate({opacity:"1"},iL.options.show.speed,"easeOutCirc")},hideLoader:function(){var iL=this;iL.vars.loadRequests-=1,iL.vars.loadRequests=iL.vars.loadRequests<0?0:iL.vars.loadRequests,iL.options.path.toLowerCase()=="horizontal"?iL.vars.loadRequests<=0&&iL.vars.loader.removeClass("ilightbox-show").stop().animate({opacity:"0"},iL.options.show.speed,"easeInCirc"):iL.vars.loadRequests<=0&&iL.vars.loader.removeClass("ilightbox-show").stop().animate({opacity:"0"},iL.options.show.speed,"easeInCirc")},createUI:function(){var iL=this;iL.ui={currentElement:iL.vars.holder,nextElement:iL.vars.nextPhoto,prevElement:iL.vars.prevPhoto,currentItem:iL.vars.current,nextItem:iL.vars.next,prevItem:iL.vars.prev,hide:function(){iL.closeAction()},refresh:function(){arguments.length>0?iL.repositionPhoto(!0):iL.repositionPhoto()},fullscreen:function(){iL.fullScreenAction()}}},attachItems:function(){var iL=this,itemsObject=new Array,items=new Array;$(iL.selector,iL.context).each(function(){var t=$(this),URL=t.attr(iL.options.attr)||null,options=t.data("options")&&eval("({"+t.data("options")+"})")||{},caption=t.data("caption"),title=t.data("title"),type=t.data("type")||getTypeByExtension(URL),clone=t.data("lbox-clone")||!1;if(t.data("lbox-clone")!=undefined)return;if(typeof t.attr("data-album")!="undefined"&&t.attr("data-album")!=""){var ALBUM_URLS=JSON.parse(t.attr("data-album")),URL_i,URLS_LENGHT=ALBUM_URLS.length;for(URL_i=0;URL_i<URLS_LENGHT;URL_i++)if(typeof ALBUM_URLS[URL_i].url!="undefined"&&ALBUM_URLS[URL_i].url!=""){var item_opts="width:"+ALBUM_URLS[URL_i].width+",height:"+ALBUM_URLS[URL_i].height+",thumbnail: '"+ALBUM_URLS[URL_i].thumbnail+"'";item_opts=item_opts&&eval("({"+item_opts+"})")||{},items.push({URL:ALBUM_URLS[URL_i].url,caption:ALBUM_URLS[URL_i].caption,title:ALBUM_URLS[URL_i].title,type:getTypeByExtension(ALBUM_URLS[URL_i].url),options:item_opts,clone:clone});var newT=t;newT.attr("href",ALBUM_URLS[URL_i].url),iL.instant||itemsObject.push(newT)}}else items.push({URL:URL,caption:caption,title:title,type:type,options:options,clone:clone});iL.vars!=undefined&&(iL.vars.total=items.length),iL.instant||itemsObject.push(t)}),iL.items=items,iL.itemsObject=itemsObject},normalizeItems:function(){var iL=this,newItems=new Array;$.each(iL.items,function(key,val){typeof val=="string"&&(val={url:val});var URL=val.url||val.URL||null,options=val.options||{},caption=val.caption||null,title=val.title||null,type=val.type?val.type.toLowerCase():getTypeByExtension(URL),ext=typeof URL!="object"?getExtension(URL):"";options.thumbnail=options.thumbnail||(type=="image"?URL:null),options.videoType=options.videoType||null,options.skin=options.skin||iL.options.skin,options.width=options.width||null,options.height=options.height||null,options.mousewheel=typeof options.mousewheel!="undefined"?options.mousewheel:!0,options.swipe=typeof options.swipe!="undefined"?options.swipe:!0,options.social=typeof options.social!="undefined"?options.social:iL.options.social.buttons&&$.extend({},{},iL.options.social.buttons),type=="video"&&(options.html5video=typeof options.html5video!="undefined"?options.html5video:{},options.html5video.webm=options.html5video.webm||options.html5video.WEBM||null,options.html5video.controls=typeof options.html5video.controls!="undefined"?options.html5video.controls:"controls",options.html5video.preload=options.html5video.preload||"metadata",options.html5video.autoplay=typeof options.html5video.autoplay!="undefined"?options.html5video.autoplay:!1,options.html5video.loop=typeof options.html5video.loop!="undefined"?options.html5video.loop:!1);if(!options.width||!options.height)type=="video"?(options.width=1280,options.height=720):type=="iframe"?(options.width="100%",options.height="90%"):type=="flash"&&(options.width=1280,options.height=720);delete val.url,val.index=key,val.URL=URL,val.caption=caption,val.title=title,val.type=type,val.options=options,val.ext=ext,newItems.push(val)}),iL.items=newItems},instantCall:function(){var iL=this,key=iL.vars.start;iL.vars.current=key,iL.vars.next=iL.items[key+1]?key+1:null,iL.vars.prev=iL.items[key-1]?key-1:null,iL.addContents(),iL.patchEvents()},addContents:function(){var iL=this,vars=iL.vars,opts=iL.options,viewport=getViewport(),path=opts.path.toLowerCase(),recognizingItems=vars.total>0&&iL.items.filter(function(e,i,arr){return["image","flash","video"].indexOf(e.type)===-1&&typeof e.recognized=="undefined"&&(opts.smartRecognition||e.options.smartRecognition)}),needRecognition=recognizingItems.length>0;opts.mobileOptimizer&&!opts.innerToolbar&&(vars.isMobile=viewport.width<=vars.mobileMaxWidth),vars.overlay.addClass(opts.skin).hide().css("opacity",opts.overlay.opacity),opts.linkId&&vars.overlay[0].setAttribute("linkid",opts.linkId),opts.controls.toolbar&&(vars.toolbar.addClass(opts.skin).append(vars.closeButton),opts.controls.fullscreen&&vars.toolbar.append(vars.fullScreenButton),opts.controls.slideshow&&vars.toolbar.append(vars.innerPlayButton),vars.total>1&&vars.toolbar.append(vars.innerPrevButton).append(vars.innerNextButton)),vars.BODY.addClass("ilightbox-noscroll").append(vars.overlay).append(vars.loader).append(vars.holder).append(vars.nextPhoto).append(vars.prevPhoto),opts.innerToolbar||vars.BODY.append(vars.toolbar),opts.controls.arrows&&vars.BODY.append(vars.nextButton).append(vars.prevButton),opts.controls.thumbnail&&vars.total>1&&(vars.BODY.append(vars.thumbnails),vars.thumbnails.addClass(opts.skin).addClass("ilightbox-"+path),$("div.ilightbox-thumbnails-grid",vars.thumbnails).empty(),vars.thumbs=!0);var loaderCss=opts.path.toLowerCase()=="horizontal"?{left:parseInt(viewport.width/2-vars.loader.outerWidth()/2)}:{top:parseInt(viewport.height/2-vars.loader.outerHeight()/2)};vars.loader.addClass(opts.skin).css(loaderCss),vars.nextButton.add(vars.prevButton).addClass(opts.skin),path=="horizontal"&&vars.loader.add(vars.nextButton).add(vars.prevButton).addClass("horizontal"),vars.BODY[vars.isMobile?"addClass":"removeClass"]("isMobile"),opts.infinite||(vars.prevButton.add(vars.prevButton).add(vars.innerPrevButton).add(vars.innerNextButton).removeClass("disabled"),vars.current==0&&vars.prevButton.add(vars.innerPrevButton).addClass("disabled"),vars.current>=vars.total-1&&vars.nextButton.add(vars.innerNextButton).addClass("disabled")),opts.show.effect?(vars.overlay.stop().fadeIn(opts.show.speed),vars.toolbar.stop().fadeIn(opts.show.speed)):(vars.overlay.show(),vars.toolbar.show());var length=recognizingItems.length;needRecognition?(iL.showLoader(),$.each(recognizingItems,function(key,val){var resultFnc=function(result){var key=-1,filter=iL.items.filter(function(e,i,arr){return e.URL==result.url&&(key=i),e.URL==result.url}),self=iL.items[key];result&&$.extend(!0,self,{URL:result.source,type:result.type,recognized:!0,options:{html5video:result.html5video,width:result.type=="image"?0:result.width||self.width,height:result.type=="image"?0:result.height||self.height,thumbnail:self.options.thumbnail||result.thumbnail}}),length--,length==0&&(iL.hideLoader(),vars.dontGenerateThumbs=!1,iL.generateThumbnails(),opts.show.effect?setTimeout(function(){iL.generateBoxes()},opts.show.speed):iL.generateBoxes())};iL.ogpRecognition(this,resultFnc)})):opts.show.effect?setTimeout(function(){iL.generateBoxes()},opts.show.speed):iL.generateBoxes(),iL.createUI(),window.iLightBox={close:function(){iL.closeAction()},fullscreen:function(){iL.fullScreenAction()},moveNext:function(){iL.moveTo("next")},movePrev:function(){iL.moveTo("prev")},goTo:function(index){iL.goTo(index)},refresh:function(){iL.refresh()},reposition:function(){arguments.length>0?iL.repositionPhoto(!0):iL.repositionPhoto()},setOption:function(options){iL.setOption(options)},destroy:function(){iL.closeAction(),iL.dispatchItemsEvents()}},opts.linkId&&(vars.hashLock=!0,window.location.hash=opts.linkId+"/"+vars.current,setTimeout(function(){vars.hashLock=!1},55)),opts.slideshow.startPaused||(iL.resume(),vars.innerPlayButton.removeClass("ilightbox-play").addClass("ilightbox-pause")),typeof iL.options.callback.onOpen=="function"&&iL.options.callback.onOpen.call(iL)},loadContent:function(obj,opt,speed){var iL=this,holder,item;iL.createUI(),obj.speed=speed||iL.options.effects.loadedFadeSpeed,opt=="current"&&(obj.options.mousewheel?iL.vars.lockWheel=!1:iL.vars.lockWheel=!0,obj.options.swipe?iL.vars.lockSwipe=!1:iL.vars.lockSwipe=!0);switch(opt){case"current":holder=iL.vars.holder,item=iL.vars.current;break;case"next":holder=iL.vars.nextPhoto,item=iL.vars.next;break;case"prev":holder=iL.vars.prevPhoto,item=iL.vars.prev}holder.removeAttr("style class").addClass("ilightbox-holder"+(supportTouch?" supportTouch":"")).addClass(obj.options.skin),$("div.ilightbox-inner-toolbar",holder).remove();if(obj.title||iL.options.innerToolbar){var innerToolbar=iL.vars.innerToolbar.clone();if(obj.title&&iL.options.show.title){var title=iL.vars.title.clone();title.empty().html(obj.title),innerToolbar.append(title)}iL.options.innerToolbar&&innerToolbar.append(iL.vars.total>1?iL.vars.toolbar.clone():iL.vars.toolbar),holder.prepend(innerToolbar)}iL.loadSwitcher(obj,holder,item,opt)},loadSwitcher:function(obj,holder,item,opt){var iL=this,opts=iL.options,api={element:holder,position:item};switch(obj.type){case"image":typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),iL.loadImage(obj.URL,function(img){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api);var width=img?img.width:400,height=img?img.height:200;holder.data({naturalWidth:width,naturalHeight:height}),$("div.ilightbox-container",holder).empty().append(img?'<img src="'+obj.URL+'" class="ilightbox-image" />':'<span class="ilightbox-alert">'+opts.errors.loadImage+"</span>"),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api),iL.configureHolder(obj,opt,holder)});break;case"video":holder.data({naturalWidth:obj.options.width,naturalHeight:obj.options.height}),opt==="current"?(iL.addContent(holder,obj),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api)):$("div.ilightbox-container",holder).empty(),iL.configureHolder(obj,opt,holder);break;case"iframe":holder.data({naturalWidth:obj.options.width,naturalHeight:obj.options.height}),iL.configureHolder(obj,opt,holder);if(opt==="current"){var el=iL.addContent(holder,obj);typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api),typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),el.bind("load",function(){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),el.unbind("load")})}else $("div.ilightbox-container",holder).empty();break;case"inline":var el=$(obj.URL),content=iL.addContent(holder,obj),images=findImageInElement(holder);holder.data({naturalWidth:iL.items[item].options.width||el.outerWidth(),naturalHeight:iL.items[item].options.height||el.outerHeight()}),content.children().eq(0).show(),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api),typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),iL.loadImage(images,function(){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),iL.configureHolder(obj,opt,holder)});break;case"flash":var el=iL.addContent(holder,obj);holder.data({naturalWidth:iL.items[item].options.width||el.outerWidth(),naturalHeight:iL.items[item].options.height||el.outerHeight()}),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api),iL.configureHolder(obj,opt,holder);break;case"ajax":var ajax=obj.options.ajax||{};typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),iL.showLoader(),$.ajax({url:obj.URL||opts.ajaxSetup.url,data:ajax.data||null,dataType:ajax.dataType||"html",type:ajax.type||opts.ajaxSetup.type,cache:ajax.cache||opts.ajaxSetup.cache,crossDomain:ajax.crossDomain||opts.ajaxSetup.crossDomain,global:ajax.global||opts.ajaxSetup.global,ifModified:ajax.ifModified||opts.ajaxSetup.ifModified,username:ajax.username||opts.ajaxSetup.username,password:ajax.password||opts.ajaxSetup.password,beforeSend:ajax.beforeSend||opts.ajaxSetup.beforeSend,complete:ajax.complete||opts.ajaxSetup.complete,success:function(data,textStatus,jqXHR){iL.hideLoader();var el=$(data),container=$("div.ilightbox-container",holder),elWidth=iL.items[item].options.width||parseInt(el[0].getAttribute("width")),elHeight=iL.items[item].options.height||parseInt(el[0].getAttribute("height")),css=el[0].getAttribute("width")&&el[0].getAttribute("height")?{overflow:"hidden"}:{};container.empty().append($('<div class="ilightbox-wrapper"></div>').css(css).html(el)),holder.show().data({naturalWidth:elWidth||container.outerWidth(),naturalHeight:elHeight||container.outerHeight()}).hide(),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api);var images=findImageInElement(holder);iL.loadImage(images,function(){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),iL.configureHolder(obj,opt,holder)}),opts.ajaxSetup.success(data,textStatus,jqXHR),typeof ajax.success=="function"&&ajax.success(data,textStatus,jqXHR)},error:function(jqXHR,textStatus,errorThrown){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),iL.hideLoader(),$("div.ilightbox-container",holder).empty().append('<span class="ilightbox-alert">'+opts.errors.loadContents+"</span>"),iL.configureHolder(obj,opt,holder),opts.ajaxSetup.error(jqXHR,textStatus,errorThrown),typeof ajax.error=="function"&&ajax.error(jqXHR,textStatus,errorThrown)}});break;case"html":var object=obj.URL,el;container=$("div.ilightbox-container",holder);if(object[0].nodeName)el=object.clone();else{var dom=$(object);dom.selector?el=$("<div>"+dom+"</div>"):el=dom}var elWidth=iL.items[item].options.width||parseInt(el.attr("width")),elHeight=iL.items[item].options.height||parseInt(el.attr("height"));iL.addContent(holder,obj),el.appendTo(document.documentElement).hide(),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api);var images=findImageInElement(holder);typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),iL.loadImage(images,function(){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),holder.show().data({naturalWidth:elWidth||container.outerWidth(),naturalHeight:elHeight||container.outerHeight()}).hide(),el.remove(),iL.configureHolder(obj,opt,holder)})}},configureHolder:function(obj,opt,holder){var iL=this,vars=iL.vars,opts=iL.options;opt!="current"&&(opt=="next"?holder.addClass("ilightbox-next"):holder.addClass("ilightbox-prev"));if(opt=="current")var item=vars.current;else if(opt=="next")var opacity=opts.styles.nextOpacity,item=vars.next;else var opacity=opts.styles.prevOpacity,item=vars.prev;var api={element:holder,position:item};iL.items[item].options.width=iL.items[item].options.width||0,iL.items[item].options.height=iL.items[item].options.height||0,opt=="current"?opts.show.effect?holder.css(transform,gpuAcceleration).fadeIn(obj.speed,function(){holder.css(transform,"");if(obj.caption){iL.setCaption(obj,holder);var caption=$("div.ilightbox-caption",holder),percent=parseInt(caption.outerHeight()/holder.outerHeight()*100);opts.caption.start&percent<=50&&caption.fadeIn(opts.effects.fadeSpeed)}var social=obj.options.social;social&&(iL.setSocial(social,obj.URL,holder),opts.social.start&&$("div.ilightbox-social",holder).fadeIn(opts.effects.fadeSpeed)),iL.generateThumbnails(),typeof opts.callback.onShow=="function"&&opts.callback.onShow.call(iL,iL.ui,item),typeof obj.options.onShow=="function"&&obj.options.onShow.call(iL,api)}):(holder.show(),iL.generateThumbnails(),typeof opts.callback.onShow=="function"&&opts.callback.onShow.call(iL,iL.ui,item),typeof obj.options.onShow=="function"&&obj.options.onShow.call(iL,api)):opts.show.effect?holder.fadeTo(obj.speed,opacity,function(){opt=="next"?vars.nextLock=!1:vars.prevLock=!1,iL.generateThumbnails(),typeof opts.callback.onShow=="function"&&opts.callback.onShow.call(iL,iL.ui,item),typeof obj.options.onShow=="function"&&obj.options.onShow.call(iL,api)}):(holder.css({opacity:opacity}).show(),opt=="next"?vars.nextLock=!1:vars.prevLock=!1,iL.generateThumbnails(),typeof opts.callback.onShow=="function"&&opts.callback.onShow.call(iL,iL.ui,item),typeof obj.options.onShow=="function"&&obj.options.onShow.call(iL,api)),setTimeout(function(){iL.repositionPhoto()},0)},generateBoxes:function(){var iL=this,vars=iL.vars,opts=iL.options;opts.infinite&&vars.total>=3?(vars.current==vars.total-1&&(vars.next=0),vars.current==0&&(vars.prev=vars.total-1)):opts.infinite=!1,typeof iL.items[vars.current]=="undefined"&&(vars.current=0),iL.loadContent(iL.items[vars.current],"current",opts.show.speed),iL.items[vars.next]&&iL.loadContent(iL.items[vars.next],"next",opts.show.speed),iL.items[vars.prev]&&iL.loadContent(iL.items[vars.prev],"prev",opts.show.speed)},generateThumbnails:function(){var iL=this,vars=iL.vars,opts=iL.options,timeOut=null;if(vars.thumbs&&!iL.vars.dontGenerateThumbs){var thumbnails=vars.thumbnails,container=$("div.ilightbox-thumbnails-container",thumbnails),grid=$("div.ilightbox-thumbnails-grid",container),i=0;grid.removeAttr("style").empty(),$.each(iL.items,function(key,val){var isActive=vars.current==key?"ilightbox-active":"",opacity=vars.current==key?opts.thumbnails.activeOpacity:opts.thumbnails.normalOpacity,thumb=val.options.thumbnail,thumbnail=$('<div class="ilightbox-thumbnail"></div>'),icon=$('<div class="ilightbox-thumbnail-icon"></div>');thumbnail.css({opacity:0}).addClass(isActive),val.type!="video"&&val.type!="flash"||typeof val.options.icon!="undefined"?val.options.icon&&(icon.addClass("ilightbox-thumbnail-"+val.options.icon),thumbnail.append(icon)):(icon.addClass("ilightbox-thumbnail-video"),thumbnail.append(icon)),thumb&&iL.loadImage(thumb,function(img){i++,img?thumbnail.data({naturalWidth:img.width,naturalHeight:img.height}).append('<img src="'+thumb+'" border="0" />'):thumbnail.data({naturalWidth:opts.thumbnails.maxWidth,naturalHeight:opts.thumbnails.maxHeight}),clearTimeout(timeOut),timeOut=setTimeout(function(){iL.positionThumbnails(thumbnails,container,grid)},20),setTimeout(function(){thumbnail.fadeTo(opts.effects.loadedFadeSpeed,opacity)},i*20)}),grid.append(thumbnail)}),iL.vars.dontGenerateThumbs=!0}},positionThumbnails:function(thumbnails,container,grid){var iL=this,vars=iL.vars,opts=iL.options,viewport=getViewport(),path=opts.path.toLowerCase();thumbnails||(thumbnails=vars.thumbnails),container||(container=$("div.ilightbox-thumbnails-container",thumbnails)),grid||(grid=$("div.ilightbox-thumbnails-grid",container));var thumbs=$(".ilightbox-thumbnail",grid),widthAvail=path=="horizontal"?viewport.width-opts.styles.pageOffsetX:thumbs.eq(0).outerWidth()-opts.styles.pageOffsetX,heightAvail=path=="horizontal"?thumbs.eq(0).outerHeight()-opts.styles.pageOffsetY:viewport.height-opts.styles.pageOffsetY,gridWidth=path=="horizontal"?0:widthAvail,gridHeight=path=="horizontal"?heightAvail:0,active=$(".ilightbox-active",grid),gridCss={},css={};arguments.length<3&&(thumbs.css({opacity:opts.thumbnails.normalOpacity}),active.css({opacity:opts.thumbnails.activeOpacity})),thumbs.each(function(i){var t=$(this),data=t.data(),width=path=="horizontal"?0:opts.thumbnails.maxWidth;height=path=="horizontal"?opts.thumbnails.maxHeight:0,dims=iL.getNewDimenstions(width,height,data.naturalWidth,data.naturalHeight,!0),t.css({width:dims.width,height:dims.height}),path=="horizontal"&&t.css({"float":"left"}),path=="horizontal"?gridWidth+=t.outerWidth():gridHeight+=t.outerHeight()}),gridCss={width:gridWidth,height:gridHeight},grid.css(gridCss),gridCss={};var gridOffset=grid.offset(),activeOffset=active.length?active.offset():{top:parseInt(heightAvail/2),left:parseInt(widthAvail/2)};gridOffset.top=gridOffset.top-$doc.scrollTop(),gridOffset.left=gridOffset.left-$doc.scrollLeft(),activeOffset.top=activeOffset.top-gridOffset.top-$doc.scrollTop(),activeOffset.left=activeOffset.left-gridOffset.left-$doc.scrollLeft(),path=="horizontal"?(gridCss.top=0,gridCss.left=parseInt(widthAvail/2-activeOffset.left-active.outerWidth()/2)):(gridCss.top=parseInt(heightAvail/2-activeOffset.top-active.outerHeight()/2),gridCss.left=0),arguments.length<3?grid.stop().animate(gridCss,opts.effects.repositionSpeed,"easeOutCirc"):grid.css(gridCss)},loadImage:function(image,callback){$.isArray(image)||(image=[image]);var iL=this,length=image.length;length>0?(iL.showLoader(),$.each(image,function(index,value){var img=new Image;img.onload=function(){length-=1,length==0&&(iL.hideLoader(),callback(img))},img.onerror=img.onabort=function(){length-=1,length==0&&(iL.hideLoader(),callback(!1))},img.src=image[index]})):callback(!1)},patchItemsEvents:function(){var iL=this,vars=iL.vars,clickEvent=supportTouch?"itap.iL":"click.iL",vEvent=supportTouch?"click.iL":"itap.iL";if(iL.context&&iL.selector){var $items=$(iL.selector,iL.context);$(iL.context).on(clickEvent,iL.selector,function(){var $this=$(this),key=typeof $(this).data("lb-index")!=""&&$(this).closest(".owl-item").length?$(this).data("lb-index"):$items.index($this);if(UNCODE.isMobile){var isCarousel=$this.closest(".owl-carousel");if(isCarousel.length&&isCarousel.hasClass("owl-translating"))return!1}return vars.current=key,vars.next=iL.items[key+1]?key+1:null,vars.prev=iL.items[key-1]?key-1:null,vars.BODY.hasClass("fp-slide-scrolling")?!1:(iL.addContents(),iL.patchEvents(),!1)}).on(vEvent,iL.selector,function(){return!1})}else $.each(iL.itemsObject,function(key,val){val.on(clickEvent,function(){return vars.current=key,vars.next=iL.items[key+1]?key+1:null,vars.prev=iL.items[key-1]?key-1:null,iL.addContents(),iL.patchEvents(),!1}).on(vEvent,function(){return!1})})},dispatchItemsEvents:function(){var iL=this,vars=iL.vars,opts=iL.options;iL.context&&iL.selector?$(iL.context).off(".iL",iL.selector):$.each(iL.itemsObject,function(key,val){val.off(".iL")})},refresh:function(){var iL=this;iL.dispatchItemsEvents(),iL.attachItems(),iL.normalizeItems(),iL.patchItemsEvents()},patchEvents:function(){function mouseMoveHandler(e){vars.isMobile||(vars.mouseID||vars.hideableElements.show(),vars.mouseID=clearTimeout(vars.mouseID),buttonsArray.indexOf(e.target)===-1&&(vars.mouseID=setTimeout(function(){vars.hideableElements.hide(),vars.mouseID=clearTimeout(vars.mouseID)},3e3)))}var iL=this,vars=iL.vars,opts=iL.options,path=opts.path.toLowerCase(),holders=$(".ilightbox-holder"),fullscreenEvent=fullScreenApi.fullScreenEventName+".iLightBox",durationThreshold=1e3,horizontalDistanceThreshold=verticalDistanceThreshold=100,buttonsArray=[vars.nextButton[0],vars.prevButton[0],vars.nextButton[0].firstChild,vars.prevButton[0].firstChild];$win.bind("resize.iLightBox",function(){var viewport=getViewport();opts.mobileOptimizer&&!opts.innerToolbar&&(vars.isMobile=viewport.width<=vars.mobileMaxWidth),vars.BODY[vars.isMobile?"addClass":"removeClass"]("isMobile"),iL.repositionPhoto(null),supportTouch&&(clearTimeout(vars.setTime),vars.setTime=setTimeout(function(){var scrollTop=getScrollXY().y;window.scrollTo(0,scrollTop-30),window.scrollTo(0,scrollTop+30),window.scrollTo(0,scrollTop)},2e3)),vars.thumbs&&iL.positionThumbnails()}).bind("keydown.iLightBox",function(event){if(opts.controls.keyboard)switch(event.keyCode){case 13:event.shiftKey&&opts.keyboard.shift_enter&&iL.fullScreenAction();break;case 27:opts.keyboard.esc&&iL.closeAction();break;case 37:opts.keyboard.left&&!vars.lockKey&&iL.moveTo("prev");break;case 38:opts.keyboard.up&&!vars.lockKey&&iL.moveTo("prev");break;case 39:opts.keyboard.right&&!vars.lockKey&&iL.moveTo("next");break;case 40:opts.keyboard.down&&!vars.lockKey&&iL.moveTo("next")}}),fullScreenApi.supportsFullScreen&&$win.bind(fullscreenEvent,function(){iL.doFullscreen()});var holderEventsArr=[opts.caption.show+".iLightBox",opts.caption.hide+".iLightBox",opts.social.show+".iLightBox",opts.social.hide+".iLightBox"].filter(function(e,i,arr){return arr.lastIndexOf(e)===i}),holderEvents="";$.each(holderEventsArr,function(key,val){key!=0&&(holderEvents+=" "),holderEvents+=val}),$doc.on(clickEvent,".ilightbox-overlay",function(){opts.overlay.blur&&iL.closeAction()}).on(clickEvent,".ilightbox-next, .ilightbox-next-button",function(){iL.moveTo("next")}).on(clickEvent,".ilightbox-prev, .ilightbox-prev-button",function(){iL.moveTo("prev")}).on(clickEvent,".ilightbox-thumbnail",function(){var t=$(this),thumbs=$(".ilightbox-thumbnail",vars.thumbnails),index=thumbs.index(t);index!=vars.current&&iL.goTo(index)}).on(holderEvents,".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(e){var caption=$("div.ilightbox-caption",vars.holder),social=$("div.ilightbox-social",vars.holder),fadeSpeed=opts.effects.fadeSpeed;vars.nextLock||vars.prevLock?(e.type==opts.caption.show&&!caption.is(":visible")?caption.fadeIn(fadeSpeed):e.type==opts.caption.hide&&caption.is(":visible")&&caption.fadeOut(fadeSpeed),e.type==opts.social.show&&!social.is(":visible")?social.fadeIn(fadeSpeed):e.type==opts.social.hide&&social.is(":visible")&&social.fadeOut(fadeSpeed)):(e.type==opts.caption.show&&!caption.is(":visible")?caption.stop().fadeIn(fadeSpeed):e.type==opts.caption.hide&&caption.is(":visible")&&caption.stop().fadeOut(fadeSpeed),e.type==opts.social.show&&!social.is(":visible")?social.stop().fadeIn(fadeSpeed):e.type==opts.social.hide&&social.is(":visible")&&social.stop().fadeOut(fadeSpeed))}).on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-wrapper",function(e){e.type=="mouseenter"?vars.lockWheel=!0:vars.lockWheel=!1}).on(clickEvent,".ilightbox-toolbar a.ilightbox-close, .ilightbox-toolbar a.ilightbox-fullscreen, .ilightbox-toolbar a.ilightbox-play, .ilightbox-toolbar a.ilightbox-pause",function(){var t=$(this);t.hasClass("ilightbox-fullscreen")?iL.fullScreenAction():t.hasClass("ilightbox-play")?(iL.resume(),t.addClass("ilightbox-pause").removeClass("ilightbox-play")):t.hasClass("ilightbox-pause")?(iL.pause(),t.addClass("ilightbox-play").removeClass("ilightbox-pause")):iL.closeAction()}).on(touchMoveEvent,".ilightbox-overlay, .ilightbox-thumbnails-container",function(e){e.preventDefault()}),opts.controls.arrows&&!supportTouch&&$doc.on("mousemove.iLightBox",mouseMoveHandler),opts.controls.slideshow&&opts.slideshow.pauseOnHover&&$doc.on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(e){e.type=="mouseenter"&&vars.cycleID?iL.pause():e.type=="mouseleave"&&vars.isPaused&&iL.resume()});var switchers=$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails");opts.controls.mousewheel&&switchers.on("mousewheel.iLightBox",function(event,delta){vars.lockWheel||(event.preventDefault(),delta<0?iL.moveTo("next"):delta>0&&iL.moveTo("prev"))}),opts.controls.swipe&&holders.on(touchStartEvent,function(event){function moveEachHandler(i){var t=$(this),offset=offSet[i],scroll=[start.coords[0]-stop.coords[0],start.coords[1]-stop.coords[1]];t[0].style[path=="horizontal"?"left":"top"]=(path=="horizontal"?offset.left-scroll[0]:offset.top-scroll[1])+"px"}function moveHandler(event){if(!start)return;var data=event.originalEvent.touches?event.originalEvent.touches[0]:event;stop={time:(new Date).getTime(),coords:[data.pageX-scrollLeft,data.pageY-scrollTop]},holders.each(moveEachHandler),event.preventDefault()}function repositionHolders(){holders.each(function(){var t=$(this),offset=t.data("offset")||{top:t.offset().top-scrollTop,left:t.offset().left-scrollLeft},top=offset.top,left=offset.left;t.css(transform,gpuAcceleration).stop().animate({top:top,left:left},500,"easeOutCirc",function(){t.css(transform,"")})})}if(vars.nextLock||vars.prevLock||vars.total==1||vars.lockSwipe)return;vars.BODY.addClass("ilightbox-closedhand");var data=event.originalEvent.touches?event.originalEvent.touches[0]:event,scrollTop=$doc.scrollTop(),scrollLeft=$doc.scrollLeft(),offsets=[holders.eq(0).offset(),holders.eq(1).offset(),holders.eq(2).offset()],offSet=[{top:offsets[0].top-scrollTop,left:offsets[0].left-scrollLeft},{top:offsets[1].top-scrollTop,left:offsets[1].left-scrollLeft},{top:offsets[2].top-scrollTop,left:offsets[2].left-scrollLeft}],start={time:(new Date).getTime(),coords:[data.pageX-scrollLeft,data.pageY-scrollTop]},stop;holders.bind(touchMoveEvent,moveHandler),$doc.one(touchStopEvent,function(event){holders.unbind(touchMoveEvent,moveHandler),vars.BODY.removeClass("ilightbox-closedhand"),start&&stop&&(path=="horizontal"&&stop.time-start.time<durationThreshold&&abs(start.coords[0]-stop.coords[0])>horizontalDistanceThreshold&&abs(start.coords[1]-stop.coords[1])<verticalDistanceThreshold?start.coords[0]>stop.coords[0]?vars.current==vars.total-1&&!opts.infinite?repositionHolders():(vars.isSwipe=!0,iL.moveTo("next")):vars.current==0&&!opts.infinite?repositionHolders():(vars.isSwipe=!0,iL.moveTo("prev")):path=="vertical"&&stop.time-start.time<durationThreshold&&abs(start.coords[1]-stop.coords[1])>horizontalDistanceThreshold&&abs(start.coords[0]-stop.coords[0])<verticalDistanceThreshold?start.coords[1]>stop.coords[1]?vars.current==vars.total-1&&!opts.infinite?repositionHolders():(vars.isSwipe=!0,iL.moveTo("next")):vars.current==0&&!opts.infinite?repositionHolders():(vars.isSwipe=!0,iL.moveTo("prev")):repositionHolders()),start=stop=undefined})})},goTo:function(index){var iL=this,vars=iL.vars,opts=iL.options,diff=index-vars.current;opts.infinite&&(index==vars.total-1&&vars.current==0&&(diff=-1),vars.current==vars.total-1&&index==0&&(diff=1));if(diff==1)iL.moveTo("next");else if(diff==-1)iL.moveTo("prev");else{if(vars.nextLock||vars.prevLock)return!1;typeof opts.callback.onBeforeChange=="function"&&opts.callback.onBeforeChange.call(iL,iL.ui),opts.linkId&&(vars.hashLock=!0,window.location.hash=opts.linkId+"/"+index),iL.items[index]&&(iL.items[index].options.mousewheel?iL.vars.lockWheel=!1:vars.lockWheel=!0,iL.items[index].options.swipe?vars.lockSwipe=!1:vars.lockSwipe=!0),$.each([vars.holder,vars.nextPhoto,vars.prevPhoto],function(key,val){val.css(transform,gpuAcceleration).fadeOut(opts.effects.loadedFadeSpeed)}),vars.current=index,vars.next=index+1,vars.prev=index-1,iL.createUI(),setTimeout(function(){iL.generateBoxes()},opts.effects.loadedFadeSpeed+50),$(".ilightbox-thumbnail",vars.thumbnails).removeClass("ilightbox-active").eq(index).addClass("ilightbox-active"),iL.positionThumbnails(),opts.linkId&&setTimeout(function(){vars.hashLock=!1},55),opts.infinite||(vars.nextButton.add(vars.prevButton).add(vars.innerPrevButton).add(vars.innerNextButton).removeClass("disabled"),vars.current==0&&vars.prevButton.add(vars.innerPrevButton).addClass("disabled"),vars.current>=vars.total-1&&vars.nextButton.add(vars.innerNextButton).addClass("disabled")),iL.resetCycle(),typeof opts.callback.onAfterChange=="function"&&opts.callback.onAfterChange.call(iL,iL.ui)}},moveTo:function(side){var iL=this,vars=iL.vars,opts=iL.options,path=opts.path.toLowerCase(),viewport=getViewport(),switchSpeed=opts.effects.switchSpeed;if(vars.nextLock||vars.prevLock)return!1;var item=side=="next"?vars.next:vars.prev;opts.linkId&&(vars.hashLock=!0,window.location.hash=opts.linkId+"/"+item);if(side=="next"){if(!iL.items[item])return!1;var firstHolder=vars.nextPhoto,secondHolder=vars.holder,lastHolder=vars.prevPhoto,firstClass="ilightbox-prev",secondClass="ilightbox-next"}else if(side=="prev"){if(!iL.items[item])return!1;var firstHolder=vars.prevPhoto,secondHolder=vars.holder,lastHolder=vars.nextPhoto,firstClass="ilightbox-next",secondClass="ilightbox-prev"}typeof opts.callback.onBeforeChange=="function"&&opts.callback.onBeforeChange.call(iL,iL.ui),side=="next"?vars.nextLock=!0:vars.prevLock=!0;var captionFirst=$("div.ilightbox-caption",secondHolder),socialFirst=$("div.ilightbox-social",secondHolder);captionFirst.length&&captionFirst.stop().fadeOut(switchSpeed,function(){$(this).remove()}),socialFirst.length&&socialFirst.stop().fadeOut(switchSpeed,function(){$(this).remove()});if(iL.items[item].caption){iL.setCaption(iL.items[item],firstHolder);var caption=$("div.ilightbox-caption",firstHolder),percent=parseInt(caption.outerHeight()/firstHolder.outerHeight()*100);opts.caption.start&&percent<=50&&caption.fadeIn(switchSpeed)}var social=iL.items[item].options.social;social&&(iL.setSocial(social,iL.items[item].URL,firstHolder),opts.social.start&&$("div.ilightbox-social",firstHolder).fadeIn(opts.effects.fadeSpeed)),$.each([firstHolder,secondHolder,lastHolder],function(key,val){val.removeClass("ilightbox-next ilightbox-prev")});var firstOffset=firstHolder.data("offset"),winW=viewport.width-opts.styles.pageOffsetX,winH=viewport.height-opts.styles.pageOffsetY,width=firstOffset.newDims.width,height=firstOffset.newDims.height,thumbsOffset=firstOffset.thumbsOffset,diff=firstOffset.diff,top=parseInt(winH/2-height/2-diff.H-thumbsOffset.H/2),left=parseInt(winW/2-width/2-diff.W-thumbsOffset.W/2),secondOffset=secondHolder.data("offset"),object=secondOffset.object;firstHolder.show().css(transform,gpuAcceleration).animate({top:top,left:left,opacity:1},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc",function(){firstHolder.css(transform,"")}),$("div.ilightbox-container",firstHolder).animate({width:width,height:height},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc"),diff=secondOffset.diff,width=secondOffset.newDims.width,height=secondOffset.newDims.height,width=parseInt(width*opts.styles[side=="next"?"prevScale":"nextScale"]),height=parseInt(height*opts.styles[side=="next"?"prevScale":"nextScale"]),top=path=="horizontal"?parseInt(winH/2-object.offsetY-height/2-diff.H-thumbsOffset.H/2):parseInt(winH-object.offsetX-diff.H-thumbsOffset.H/2),side=="prev"?left=path=="horizontal"?parseInt(winW-object.offsetX-diff.W-thumbsOffset.W/2):parseInt(winW/2-width/2-diff.W-object.offsetY-thumbsOffset.W/2):(top=path=="horizontal"?top:parseInt(object.offsetX-diff.H-height-thumbsOffset.H/2),left=path=="horizontal"?parseInt(object.offsetX-diff.W-width-thumbsOffset.W/2):parseInt(winW/2-object.offsetY-width/2-diff.W-thumbsOffset.W/2)),$("div.ilightbox-container",secondHolder).animate({width:width,height:height},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc"),secondHolder.addClass(firstClass).css(transform,gpuAcceleration).animate({top:top,left:left,opacity:opts.styles.prevOpacity},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc",function(){secondHolder.css(transform,""),$(".ilightbox-thumbnail",vars.thumbnails).removeClass("ilightbox-active").eq(item).addClass("ilightbox-active"),iL.positionThumbnails(),iL.items[item]&&(iL.items[item].options.mousewheel?vars.lockWheel=!1:vars.lockWheel=!0,iL.items[item].options.swipe?vars.lockSwipe=!1:vars.lockSwipe=!0),vars.isSwipe=!1,["iframe","video"].indexOf(iL.items[vars.current].type)!==-1&&$("div.ilightbox-container",secondHolder).empty(),side=="next"?(vars.nextPhoto=lastHolder,vars.prevPhoto=secondHolder,vars.holder=firstHolder,vars.nextPhoto.hide(),vars.next=vars.next+1,vars.prev=vars.current,vars.current=vars.current+1,opts.infinite&&(vars.current>vars.total-1&&(vars.current=0),vars.current==vars.total-1&&(vars.next=0),vars.current==0&&(vars.prev=vars.total-1)),iL.createUI(),iL.items[vars.next]?iL.loadContent(iL.items[vars.next],"next"):vars.nextLock=!1):(vars.prevPhoto=lastHolder,vars.nextPhoto=secondHolder,vars.holder=firstHolder,vars.prevPhoto.hide(),vars.next=vars.current,vars.current=vars.prev,vars.prev=vars.current-1,opts.infinite&&(vars.current==vars.total-1&&(vars.next=0),vars.current==0&&(vars.prev=vars.total-1)),iL.createUI(),iL.items[vars.prev]?iL.loadContent(iL.items[vars.prev],"prev"):vars.prevLock=!1),["iframe","video"].indexOf(iL.items[vars.current].type)!==-1&&iL.loadContent(iL.items[vars.current],"current"),opts.linkId&&setTimeout(function(){vars.hashLock=!1},55),opts.infinite||(vars.nextButton.add(vars.prevButton).add(vars.innerPrevButton).add(vars.innerNextButton).removeClass("disabled"),vars.current==0&&vars.prevButton.add(vars.innerPrevButton).addClass("disabled"),vars.current>=vars.total-1&&vars.nextButton.add(vars.innerNextButton).addClass("disabled")),iL.repositionPhoto(),iL.resetCycle(),typeof opts.callback.onAfterChange=="function"&&opts.callback.onAfterChange.call(iL,iL.ui)}),top=path=="horizontal"?getPixel(lastHolder,"top"):side=="next"?parseInt(-(winH/2)-lastHolder.outerHeight()):parseInt(top*2),left=path=="horizontal"?side=="next"?parseInt(-(winW/2)-lastHolder.outerWidth()):parseInt(left*2):getPixel(lastHolder,"left"),lastHolder.css(transform,gpuAcceleration).animate({top:top,left:left,opacity:opts.styles.nextOpacity},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc",function(){lastHolder.css(transform,"")}).addClass(secondClass)},setCaption:function(obj,target){var iL=this,caption=$('<div class="ilightbox-caption"></div>');obj.caption&&(caption.html(obj.caption),$("div.ilightbox-container",target).append(caption))},normalizeSocial:function(obj,url){var iL=this,vars=iL.vars,opts=iL.options,baseURL=window.location.href;return $.each(obj,function(key,value){if(!value)return!0;var item=key.toLowerCase(),source,text;switch(item){case"facebook":source="http://www.facebook.com/share.php?v=4&src=bm&u={URL}",text="Share on Facebook";break;case"twitter":source="http://twitter.com/home?status={URL}",text="Share on Twitter";break;case"googleplus":source="https://plus.google.com/share?url={URL}",text="Share on Google+";break;case"delicious":source="http://delicious.com/post?url={URL}",text="Share on Delicious";break;case"digg":source="http://digg.com/submit?phase=2&url={URL}",text="Share on Digg";break;case"reddit":source="http://reddit.com/submit?url={URL}",text="Share on reddit"}obj[key]={URL:value.URL&&absolutizeURI(baseURL,value.URL)||opts.linkId&&window.location.href||typeof url!="string"&&baseURL||url&&absolutizeURI(baseURL,url)||baseURL,source:value.source||source||value.URL&&absolutizeURI(baseURL,value.URL)||url&&absolutizeURI(baseURL,url),text:value.text||text||"Share on "+key,width:typeof value.width!="undefined"&&!isNaN(value.width)?parseInt(value.width):640,height:value.height||360}}),obj},setSocial:function(obj,url,target){var iL=this,socialBar=$('<div class="ilightbox-social"></div>'),buttons="<ul>";obj=iL.normalizeSocial(obj,url),$.each(obj,function(key,value){var item=key.toLowerCase(),source=value.source.replace(/\{URL\}/g,encodeURIComponent(value.URL).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+"));buttons+='<li class="'+key+'"><a href="'+source+'" onclick="javascript:window.open(this.href'+(value.width<=0||value.height<=0?"":", '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height="+value.height+",width="+value.width+",left=40,top=40'")+');return false;" title="'+value.text+'" target="_blank"></a></li>'}),buttons+="</ul>",socialBar.html(buttons),$("div.ilightbox-container",target).append(socialBar)},fullScreenAction:function(){var iL=this,vars=iL.vars;fullScreenApi.supportsFullScreen?fullScreenApi.isFullScreen()?fullScreenApi.cancelFullScreen(document.documentElement):fullScreenApi.requestFullScreen(document.documentElement):iL.doFullscreen()},doFullscreen:function(){var iL=this,vars=iL.vars,viewport=getViewport(),opts=iL.options;if(opts.fullAlone){var currentHolder=vars.holder,current=iL.items[vars.current],windowWidth=viewport.width,windowHeight=viewport.height,elements=[currentHolder,vars.nextPhoto,vars.prevPhoto,vars.nextButton,vars.prevButton,vars.overlay,vars.toolbar,vars.thumbnails,vars.loader],hideElements=[vars.nextPhoto,vars.prevPhoto,vars.nextButton,vars.prevButton,vars.loader,vars.thumbnails];if(!vars.isInFullScreen){vars.isInFullScreen=vars.lockKey=vars.lockWheel=vars.lockSwipe=!0,vars.overlay.css({opacity:1}),$.each(hideElements,function(i,element){element.hide()}),vars.fullScreenButton.attr("title",opts.text.exitFullscreen);if(opts.fullStretchTypes.indexOf(current.type)!=-1)currentHolder.data({naturalWidthOld:currentHolder.data("naturalWidth"),naturalHeightOld:currentHolder.data("naturalHeight"),naturalWidth:windowWidth,naturalHeight:windowHeight});else{var viewport=current.options.fullViewPort||opts.fullViewPort||"",newWidth=windowWidth,newHeight=windowHeight,width=currentHolder.data("naturalWidth"),height=currentHolder.data("naturalHeight");if(viewport.toLowerCase()=="fill")newHeight=newWidth/width*height,newHeight<windowHeight&&(newWidth=windowHeight/height*width,newHeight=windowHeight);else if(viewport.toLowerCase()=="fit"){var dims=iL.getNewDimenstions(newWidth,newHeight,width,height,!0);newWidth=dims.width,newHeight=dims.height}else if(viewport.toLowerCase()=="stretch")newWidth=newWidth,newHeight=newHeight;else{var scale=width>newWidth||height>newHeight?!0:!1,dims=iL.getNewDimenstions(newWidth,newHeight,width,height,scale);newWidth=dims.width,newHeight=dims.height}currentHolder.data({naturalWidthOld:currentHolder.data("naturalWidth"),naturalHeightOld:currentHolder.data("naturalHeight"),naturalWidth:newWidth,naturalHeight:newHeight})}$.each(elements,function(key,val){val.addClass("ilightbox-fullscreen")}),typeof opts.callback.onEnterFullScreen=="function"&&opts.callback.onEnterFullScreen.call(iL,iL.ui)}else vars.isInFullScreen=vars.lockKey=vars.lockWheel=vars.lockSwipe=!1,vars.overlay.css({opacity:iL.options.overlay.opacity}),$.each(hideElements,function(i,element){element.show()}),vars.fullScreenButton.attr("title",opts.text.enterFullscreen),currentHolder.data({naturalWidth:currentHolder.data("naturalWidthOld"),naturalHeight:currentHolder.data("naturalHeightOld"),naturalWidthOld:null,naturalHeightOld:null}),$.each(elements,function(key,val){val.removeClass("ilightbox-fullscreen")}),typeof opts.callback.onExitFullScreen=="function"&&opts.callback.onExitFullScreen.call(iL,iL.ui)}else vars.isInFullScreen?vars.isInFullScreen=!1:vars.isInFullScreen=!0;iL.repositionPhoto(!0)},closeAction:function(){var iL=this,vars=iL.vars,opts=iL.options;$win.unbind(".iLightBox"),$doc.off(".iLightBox"),vars.isInFullScreen&&fullScreenApi.cancelFullScreen(document.documentElement),$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails").off(".iLightBox"),opts.hide.effect?vars.overlay.stop().fadeOut(opts.hide.speed,function(){vars.overlay.remove(),vars.BODY.removeClass("ilightbox-noscroll").off(".iLightBox")}):(vars.overlay.remove(),vars.BODY.removeClass("ilightbox-noscroll").off(".iLightBox"));var fadeOuts=[vars.toolbar,vars.holder,vars.nextPhoto,vars.prevPhoto,vars.nextButton,vars.prevButton,vars.loader,vars.thumbnails];$.each(fadeOuts,function(i,element){element.removeAttr("style").remove()}),vars.dontGenerateThumbs=vars.isInFullScreen=!1,window.iLightBox=null,opts.linkId&&(vars.hashLock=!0,removeHash(),setTimeout(function(){vars.hashLock=!1},55)),typeof opts.callback.onHide=="function"&&opts.callback.onHide.call(iL,iL.ui)},repositionPhoto:function(){var iL=this,vars=iL.vars,opts=iL.options,path=opts.path.toLowerCase(),viewport=getViewport(),winWidth=viewport.width,winHeight=viewport.height;viewport.width<UNCODE.mediaQuery&&(opts.styles.nextOffsetX=0);var thumbsOffsetW=vars.isInFullScreen&&opts.fullAlone||vars.isMobile?0:path=="horizontal"?0:vars.thumbnails.outerWidth(),thumbsOffsetH=vars.isMobile?vars.toolbar.outerHeight():vars.isInFullScreen&&opts.fullAlone?0:path=="horizontal"?vars.thumbnails.outerHeight():0,width=vars.isInFullScreen&&opts.fullAlone?winWidth:winWidth-opts.styles.pageOffsetX,height=vars.isInFullScreen&&opts.fullAlone?winHeight:winHeight-opts.styles.pageOffsetY,offsetW=path=="horizontal"?parseInt(iL.items[vars.next]||iL.items[vars.prev]?(opts.styles.nextOffsetX+opts.styles.prevOffsetX)*2:width/10<=30?30:width/10):parseInt(width/10<=30?30:width/10)+thumbsOffsetW,offsetH=path=="horizontal"?parseInt(height/10<=30?30:height/10)+thumbsOffsetH:parseInt(iL.items[vars.next]||iL.items[vars.prev]?(opts.styles.nextOffsetX+opts.styles.prevOffsetX)*2:height/10<=30?30:height/10),elObject={type:"current",width:width,height:height,item:iL.items[vars.current],offsetW:offsetW,offsetH:offsetH,thumbsOffsetW:thumbsOffsetW,thumbsOffsetH:thumbsOffsetH,animate:arguments.length,holder:vars.holder};iL.repositionEl(elObject),iL.items[vars.next]&&(elObject=$.extend(elObject,{type:"next",item:iL.items[vars.next],offsetX:opts.styles.nextOffsetX,offsetY:opts.styles.nextOffsetY,holder:vars.nextPhoto}),iL.repositionEl(elObject)),iL.items[vars.prev]&&(elObject=$.extend(elObject,{type:"prev",item:iL.items[vars.prev],offsetX:opts.styles.nextOffsetX,offsetY:opts.styles.prevOffsetY,holder:vars.prevPhoto}),iL.repositionEl(elObject));var loaderCss=path=="horizontal"?{left:parseInt(width/2-vars.loader.outerWidth()/2)}:{top:parseInt(height/2-vars.loader.outerHeight()/2)};vars.loader.css(loaderCss)},repositionEl:function(obj){var iL=this,vars=iL.vars,opts=iL.options,path=opts.path.toLowerCase(),widthAvail=obj.type=="current"?vars.isInFullScreen&&opts.fullAlone?obj.width:obj.width-obj.offsetW:obj.width-obj.offsetW,heightAvail=obj.type=="current"?vars.isInFullScreen&&opts.fullAlone?obj.height:obj.height-obj.offsetH:obj.height-obj.offsetH,itemParent=obj.item,item=obj.item.options,holder=obj.holder,offsetX=obj.offsetX||0,offsetY=obj.offsetY||0,thumbsOffsetW=obj.thumbsOffsetW,thumbsOffsetH=obj.thumbsOffsetH;obj.type=="current"?(typeof item.width=="number"&&item.width&&(widthAvail=vars.isInFullScreen&&opts.fullAlone&&(opts.fullStretchTypes.indexOf(itemParent.type)!=-1||item.fullViewPort||opts.fullViewPort)?widthAvail:item.width>widthAvail?widthAvail:item.width),typeof item.height=="number"&&item.height&&(heightAvail=vars.isInFullScreen&&opts.fullAlone&&(opts.fullStretchTypes.indexOf(itemParent.type)!=-1||item.fullViewPort||opts.fullViewPort)?heightAvail:item.height>heightAvail?heightAvail:item.height)):(typeof item.width=="number"&&item.width&&(widthAvail=item.width>widthAvail?widthAvail:item.width),typeof item.height=="number"&&item.height&&(heightAvail=item.height>heightAvail?heightAvail:item.height)),heightAvail=parseInt(heightAvail-$(".ilightbox-inner-toolbar",holder).outerHeight());var width=typeof item.width=="string"&&item.width.indexOf("%")!=-1?percentToValue(parseInt(item.width.replace("%","")),obj.width):holder.data("naturalWidth"),height=typeof item.height=="string"&&item.height.indexOf("%")!=-1?percentToValue(parseInt(item.height.replace("%","")),obj.height):holder.data("naturalHeight"),dims=typeof item.width=="string"&&item.width.indexOf("%")!=-1||typeof item.height=="string"&&item.height.indexOf("%")!=-1?{width:width,height:height}:iL.getNewDimenstions(widthAvail,heightAvail,width,height),newDims=$.extend({},dims,{});obj.type=="prev"||obj.type=="next"?(width=parseInt(dims.width*(obj.type=="next"?opts.styles.nextScale:opts.styles.prevScale)),height=parseInt(dims.height*(obj.type=="next"?opts.styles.nextScale:opts.styles.prevScale))):(width=dims.width,height=dims.height);var widthDiff=parseInt((getPixel(holder,"padding-left")+getPixel(holder,"padding-right")+getPixel(holder,"border-left-width")+getPixel(holder,"border-right-width"))/2),heightDiff=parseInt((getPixel(holder,"padding-top")+getPixel(holder,"padding-bottom")+getPixel(holder,"border-top-width")+getPixel(holder,"border-bottom-width")+($(".ilightbox-inner-toolbar",holder).outerHeight()||0))/2);switch(obj.type){case"current":var top=parseInt(obj.height/2-height/2-heightDiff-thumbsOffsetH/2),left=parseInt(obj.width/2-width/2-widthDiff-thumbsOffsetW/2);break;case"next":var top=path=="horizontal"?parseInt(obj.height/2-offsetY-height/2-heightDiff-thumbsOffsetH/2):parseInt(obj.height-offsetX-heightDiff-thumbsOffsetH/2),left=path=="horizontal"?parseInt(obj.width-offsetX-widthDiff-thumbsOffsetW/2):parseInt(obj.width/2-width/2-widthDiff-offsetY-thumbsOffsetW/2);break;case"prev":var top=path=="horizontal"?parseInt(obj.height/2-offsetY-height/2-heightDiff-thumbsOffsetH/2):parseInt(offsetX-heightDiff-height-thumbsOffsetH/2),left=path=="horizontal"?parseInt(offsetX-widthDiff-width-thumbsOffsetW/2):parseInt(obj.width/2-offsetY-width/2-widthDiff-thumbsOffsetW/2)}holder.data("offset",{top:top,left:left,newDims:newDims,diff:{W:widthDiff,H:heightDiff},thumbsOffset:{W:thumbsOffsetW,H:thumbsOffsetH},object:obj});var opacityMobile;isMobile?opacityMobile={opacity:1,top:top,left:left}:opacityMobile={top:top,left:left},obj.animate>0&&opts.effects.reposition?(holder.css(transform,gpuAcceleration).stop().animate(opacityMobile,opts.effects.repositionSpeed,"easeOutCirc",function(){holder.css(transform,"")}),$("div.ilightbox-container",holder).stop().animate({width:width,height:height},opts.effects.repositionSpeed,"easeOutCirc"),$("div.ilightbox-inner-toolbar",holder).stop().animate({width:width},opts.effects.repositionSpeed,"easeOutCirc",function(){$(this).css("overflow","visible")})):(holder.css(opacityMobile),$("div.ilightbox-container",holder).css({width:width,height:height}),$("div.ilightbox-inner-toolbar",holder).css({width:width}))},resume:function(priority){var iL=this,vars=iL.vars,opts=iL.options;if(!opts.slideshow.pauseTime||opts.controls.slideshow&&vars.total<=1||priority<vars.isPaused)return;vars.isPaused=0,vars.cycleID&&(vars.cycleID=clearTimeout(vars.cycleID)),vars.cycleID=setTimeout(function(){vars.current==vars.total-1?iL.goTo(0):iL.moveTo("next")},opts.slideshow.pauseTime)},pause:function(priority){var iL=this,vars=iL.vars,opts=iL.options;if(priority<vars.isPaused)return;vars.isPaused=priority||100,vars.cycleID&&(vars.cycleID=clearTimeout(vars.cycleID))},resetCycle:function(){var iL=this,vars=iL.vars,opts=iL.options;opts.controls.slideshow&&vars.cycleID&&!vars.isPaused&&iL.resume()},getNewDimenstions:function(width,height,width_old,height_old,thumb){var iL=this;width?height?factor=min(width/width_old,height/height_old):factor=width/width_old:factor=height/height_old,thumb||(factor>iL.options.maxScale?factor=iL.options.maxScale:factor<iL.options.minScale&&(factor=iL.options.minScale));var final_width=iL.options.keepAspectRatio?round(width_old*factor):width,final_height=iL.options.keepAspectRatio?round(height_old*factor):height;return{width:final_width,height:final_height,ratio:factor}},setOption:function(options){var iL=this;iL.options=$.extend(!0,iL.options,options||{}),iL.refresh()},availPlugins:function(){var iL=this,testEl=document.createElement("video");iL.plugins={flash:!isMobile,quicktime:parseInt(PluginDetect.getVersion("QuickTime"))>=0?!0:!1,html5H264:!!testEl.canPlayType&&!!testEl.canPlayType("video/mp4").replace(/no/,""),html5WebM:!!testEl.canPlayType&&!!testEl.canPlayType("video/webm").replace(/no/,""),html5Vorbis:!!testEl.canPlayType&&!!testEl.canPlayType("video/ogg").replace(/no/,""),html5QuickTime:!!testEl.canPlayType&&!!testEl.canPlayType("video/quicktime").replace(/no/,"")}},addContent:function(element,obj){var iL=this,el;switch(obj.type){case"video":var HTML5=!1,videoType=obj.videoType,html5video=obj.options.html5video;(videoType=="video/mp4"||obj.ext=="mp4"||obj.ext=="m4v"||html5video.h264)&&iL.plugins.html5H264?(obj.ext="mp4",obj.URL=html5video.h264||obj.URL):html5video.webm&&iL.plugins.html5WebM?(obj.ext="webm",obj.URL=html5video.webm||obj.URL):html5video.ogg&&iL.plugins.html5Vorbis&&(obj.ext="ogv",obj.URL=html5video.ogg||obj.URL),!iL.plugins.html5H264||videoType!="video/mp4"&&obj.ext!="mp4"&&obj.ext!="m4v"?!iL.plugins.html5WebM||videoType!="video/webm"&&obj.ext!="webm"?!iL.plugins.html5Vorbis||videoType!="video/ogg"&&obj.ext!="ogv"?iL.plugins.html5QuickTime&&(videoType=="video/quicktime"||obj.ext=="mov"||obj.ext=="qt")&&(HTML5=!0,videoType="video/quicktime"):(HTML5=!0,videoType="video/ogg"):(HTML5=!0,videoType="video/webm"):(HTML5=!0,videoType="video/mp4"),HTML5?el=$("<video />",{width:"100%",height:"100%",preload:html5video.preload,autoplay:html5video.autoplay,loop:html5video.loop,poster:html5video.poster,controls:html5video.controls,controlslist:"nodownload"}).append($("<source />",{src:obj.URL,type:videoType})):iL.plugins.quicktime?(el=$("<object />",{type:"video/quicktime",pluginspage:pluginspages.quicktime}).attr({data:obj.URL,width:"100%",height:"100%"}).append($("<param />",{name:"src",value:obj.URL})).append($("<param />",{name:"autoplay",value:"false"})).append($("<param />",{name:"loop",value:"false"})).append($("<param />",{name:"scale",value:"tofit"})),browser.msie&&(el=QT_GenerateOBJECTText(obj.URL,"100%","100%","","SCALE","tofit","AUTOPLAY","false","LOOP","false"))):el=$("<span />",{"class":"ilightbox-alert",html:iL.options.errors.missingPlugin.replace("{pluginspage}",pluginspages.quicktime).replace("{type}","QuickTime")});break;case"flash":if(!iL.plugins.flash)el=$("<span />",{"class":"ilightbox-alert",html:iL.options.errors.missingPlugin.replace("{pluginspage}",pluginspages.flash).replace("{type}","Adobe Flash player")});else{var flashvars="",i=0;obj.options.flashvars?$.each(obj.options.flashvars,function(k,v){i!=0&&(flashvars+="&"),flashvars+=k+"="+encodeURIComponent(v),i++}):flashvars=null,el=$("<embed />").attr({type:"application/x-shockwave-flash",src:obj.URL,width:typeof obj.options.width=="number"&&obj.options.width&&iL.options.minScale=="1"&&iL.options.maxScale=="1"?obj.options.width:"100%",height:typeof obj.options.height=="number"&&obj.options.height&&iL.options.minScale=="1"&&iL.options.maxScale=="1"?obj.options.height:"100%",quality:"high",bgcolor:"#000000",play:"true",loop:"true",menu:"true",wmode:"transparent",scale:"showall",allowScriptAccess:"always",allowFullScreen:"true",flashvars:flashvars,fullscreen:"yes"})}break;case"iframe":el=$("<iframe />").attr({width:typeof obj.options.width=="number"&&obj.options.width&&iL.options.minScale=="1"&&iL.options.maxScale=="1"?obj.options.width:"100%",height:typeof obj.options.height=="number"&&obj.options.height&&iL.options.minScale=="1"&&iL.options.maxScale=="1"?obj.options.height:"100%",src:obj.URL,frameborder:0,hspace:0,vspace:0,scrolling:supportTouch?"auto":"scroll",webkitAllowFullScreen:"",mozallowfullscreen:"",allowFullScreen:""});break;case"inline":el=$('<div class="ilightbox-wrapper"></div>').html($(obj.URL).clone(!0));break;case"html":var object=obj.URL,el;if(object[0].nodeName)el=$('<div class="ilightbox-wrapper"></div>').html(object);else{var dom=$(obj.URL),html=dom.selector?$("<div>"+dom+"</div>"):dom;el=$('<div class="ilightbox-wrapper"></div>').html(html)}}return $("div.ilightbox-container",element).empty().html(el),el[0].tagName.toLowerCase()==="video"&&browser.webkit&&setTimeout(function(){var src=el[0].currentSrc+"?"+floor(random()*3e4);el[0].currentSrc=src,el[0].src=src}),el},ogpRecognition:function(obj,callback){var iL=this,url=obj.URL;iL.showLoader(),doAjax(url,function(data){iL.hideLoader();if(data){var object=new Object;object.length=!1,object.url=data.url;if(data.status==200){var result=data.results,type=result.type,source=result.source;object.source=source.src,object.width=source.width&&parseInt(source.width)||0,object.height=source.height&&parseInt(source.height)||0,object.type=type,object.thumbnail=source.thumbnail||result.images&&result.images[0],object.html5video=result.html5video||{},object.length=!0,source.type=="application/x-shockwave-flash"?object.type="flash":source.type.indexOf("video/")!=-1?object.type="video":source.type.indexOf("/html")!=-1?object.type="iframe":source.type.indexOf("image/")!=-1&&(object.type="image")}else if(typeof data.response!="undefined")throw data.response;callback.call(this,object.length?object:!1)}})},hashChangeHandler:function(url){var iL=this,vars=iL.vars,opts=iL.options,URL=url||window.location.href,hash=parseURI(URL).hash,split=hash.split("/"),index=split[1];if(vars.hashLock||"#"+opts.linkId!=split[0]&&hash.length>1)return;if(index){var target=split[1]||0;if(iL.items[target]){var overlay=$(".ilightbox-overlay");overlay.length&&overlay.attr("linkid")==opts.linkId?iL.goTo(target):iL.itemsObject[target].trigger(supportTouch?"itap":"click")}else{var overlay=$(".ilightbox-overlay");overlay.length&&iL.closeAction()}}else{var overlay=$(".ilightbox-overlay");overlay.length&&iL.closeAction()}}},$.fn.iLightBox=function(){var args=arguments,opt=$.isPlainObject(args[0])?args[0]:args[1],items=$.isArray(args[0])||typeof args[0]=="string"?args[0]:args[1];opt||(opt={});var options=$.extend(!0,{attr:"href",path:"vertical",skin:"dark",linkId:!1,infinite:!1,startFrom:0,randomStart:!1,keepAspectRatio:!0,maxScale:1,minScale:.2,innerToolbar:!1,smartRecognition:!1,mobileOptimizer:!0,fullAlone:!0,fullViewPort:null,fullStretchTypes:"flash, video",overlay:{blur:!0,opacity:.85},controls:{arrows:!1,slideshow:!1,toolbar:!0,fullscreen:!0,thumbnail:!0,keyboard:!0,mousewheel:!0,swipe:!0},keyboard:{left:!0,right:!0,up:!0,down:!0,esc:!0,shift_enter:!0},show:{effect:!0,speed:300,title:!0},hide:{effect:!0,speed:300},caption:{start:!0,show:"mouseenter",hide:"mouseleave"},social:{start:!0,show:"mouseenter",hide:"mouseleave",buttons:!1},styles:{pageOffsetX:0,pageOffsetY:0,nextOffsetX:45,nextOffsetY:0,nextOpacity:1,nextScale:1,prevOffsetX:45,prevOffsetY:0,prevOpacity:1,prevScale:1},thumbnails:{maxWidth:120,maxHeight:80,normalOpacity:1,activeOpacity:.6},effects:{reposition:!0,repositionSpeed:200,switchSpeed:500,loadedFadeSpeed:180,fadeSpeed:200},slideshow:{pauseTime:5e3,pauseOnHover:!1,startPaused:!0},text:{close:"Press Esc to close",enterFullscreen:"Enter Fullscreen (Shift+Enter)",exitFullscreen:"Exit Fullscreen (Shift+Enter)",slideShow:"Slideshow",next:"Next",previous:"Previous"},errors:{loadImage:"An error occurred when trying to load photo.",loadContents:"An error occurred when trying to load contents.",missingPlugin:"The content your are attempting to view requires the <a href='{pluginspage}' target='_blank'>{type} plugin</a>."},ajaxSetup:{url:"",beforeSend:function(jqXHR,settings){},cache:!1,complete:function(jqXHR,textStatus){},crossDomain:!1,error:function(jqXHR,textStatus,errorThrown){},success:function(data,textStatus,jqXHR){},global:!0,ifModified:!1,username:null,password:null,type:"GET"},callback:{}},opt),instant=$.isArray(items)||typeof items=="string"?!0:!1;items=$.isArray(items)?items:new Array,typeof args[0]=="string"&&(items[0]=args[0]);if(version_compare($.fn.jquery,"1.8",">=")){var iLB=new iLightBox($(this),options,items,instant);return{close:function(){iLB.closeAction()},fullscreen:function(){iLB.fullScreenAction()},moveNext:function(){iLB.moveTo("next")},movePrev:function(){iLB.moveTo("prev")},goTo:function(index){iLB.goTo(index)},refresh:function(){iLB.refresh()},reposition:function(){arguments.length>0?iLB.repositionPhoto(!0):iLB.repositionPhoto()},setOption:function(options){iLB.setOption(options)},destroy:function(){iLB.closeAction(),iLB.dispatchItemsEvents()}}}throw"The jQuery version that was loaded is too old. iLightBox requires jQuery 1.8+"},$.iLightBox=function(){return $.fn.iLightBox(arguments[0],arguments[1])},$.extend($.easing,{easeInCirc:function(x,t,b,c,d){return-c*(sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){return(t/=d/2)<1?-c/2*(sqrt(1-t*t)-1)+b:c/2*(sqrt(1-(t-=2)*t)+1)+b}}),function(){$.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(i,name){$.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)}});var tapSettings={startEvent:"touchstart.iTap",endEvent:"touchend.iTap"};$.event.special.itap={setup:function(){var self=this,$self=$(this),start,stop;$self.bind(tapSettings.startEvent,function(event){start=getScrollXY(),$self.one(tapSettings.endEvent,function(event){stop=getScrollXY();var orgEvent=event||window.event;event=$.event.fix(orgEvent),event.type="itap",start&&stop&&start.x==stop.x&&start.y==stop.y&&($.event.dispatch||$.event.handle).call(self,event),start=stop=undefined})})},teardown:function(){$(this).unbind(tapSettings.startEvent)}}}(),function(){fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},browserPrefixes="webkit moz o ms khtml".split(" ");if(typeof document.cancelFullScreen!="undefined")fullScreenApi.supportsFullScreen=!0;else for(var i=0,il=browserPrefixes.length;i<il;i++){fullScreenApi.prefix=browserPrefixes[i];if(typeof document[fullScreenApi.prefix+"CancelFullScreen"]!="undefined"){fullScreenApi.supportsFullScreen=!0;break}}fullScreenApi.supportsFullScreen&&(fullScreenApi.fullScreenEventName=fullScreenApi.prefix+"fullscreenchange",fullScreenApi.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},fullScreenApi.requestFullScreen=function(el){return this.prefix===""?el.requestFullScreen():el[this.prefix+"RequestFullScreen"]()},fullScreenApi.cancelFullScreen=function(el){return this.prefix===""?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()})}(),function(){function uaMatch(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}}var matched=uaMatch(navigator.userAgent);browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0)}(),function(){function testProp(prop){for(var p=0,pl=prefixes.length;p<pl;p++){var prefixedProp=prefixes[p]?prefixes[p]+prop.charAt(0).toUpperCase()+prop.slice(1):prop;if(el.style[prefixedProp]!==undefined)return prefixedProp}}var prefixes=["","webkit","moz","ms","o"],el=document.createElement("div");transform=testProp("transform")||"",gpuAcceleration=testProp("perspective")?"translateZ(0) ":""}();var PluginDetect={version:"0.7.9",name:"PluginDetect",handler:function(c,b,a){return function(){c(b,a)}},openTag:"<",isDefined:function(b){return typeof b!="undefined"},isArray:function(b){return/array/i.test(Object.prototype.toString.call(b))},isFunc:function(b){return typeof b=="function"},isString:function(b){return typeof b=="string"},isNum:function(b){return typeof b=="number"},isStrNum:function(b){return typeof b=="string"&&/\d/.test(b)},getNumRegx:/[\d][\d\.\_,-]*/,splitNumRegx:/[\.\_,-]/g,getNum:function(b,c){var d=this,a=d.isStrNum(b)?(d.isDefined(c)?new RegExp(c):d.getNumRegx).exec(b):null;return a?a[0]:null},compareNums:function(h,f,d){var e=this,c,b,a,g=parseInt;if(e.isStrNum(h)&&e.isStrNum(f)){if(e.isDefined(d)&&d.compareNums)return d.compareNums(h,f);c=h.split(e.splitNumRegx),b=f.split(e.splitNumRegx);for(a=0;a<min(c.length,b.length);a++){if(g(c[a],10)>g(b[a],10))return 1;if(g(c[a],10)<g(b[a],10))return-1}}return 0},formatNum:function(b,c){var d=this,a,e;if(!d.isStrNum(b))return null;d.isNum(c)||(c=4),c--,e=b.replace(/\s/g,"").split(d.splitNumRegx).concat(["0","0","0","0"]);for(a=0;a<4;a++){/^(0+)(.+)$/.test(e[a])&&(e[a]=RegExp.$2);if(a>c||!/\d/.test(e[a]))e[a]="0"}return e.slice(0,4).join(",")},$$hasMimeType:function(a){return function(c){if(!a.isIE&&c){var f,e,b,d=a.isArray(c)?c:a.isString(c)?[c]:[];for(b=0;b<d.length;b++)if(a.isString(d[b])&&/[^\s]/.test(d[b])){f=navigator.mimeTypes[d[b]],e=f?f.enabledPlugin:0;if(e&&(e.name||e.description))return f}}return null}},findNavPlugin:function(l,e,c){var j=this,h=new RegExp(l,"i"),d=!j.isDefined(e)||e?/\d/:0,k=c?new RegExp(c,"i"):0,a=navigator.plugins,g="",f,b,m;for(f=0;f<a.length;f++){m=a[f].description||g,b=a[f].name||g;if(h.test(m)&&(!d||d.test(RegExp.leftContext+RegExp.rightContext))||h.test(b)&&(!d||d.test(RegExp.leftContext+RegExp.rightContext)))if(!k||!k.test(m)&&!k.test(b))return a[f]}return null},getMimeEnabledPlugin:function(k,m,c){var e=this,f,b=new RegExp(m,"i"),h="",g=c?new RegExp(c,"i"):0,a,l,d,j=e.isString(k)?[k]:k;for(d=0;d<j.length;d++)if((f=e.hasMimeType(j[d]))&&(f=f.enabledPlugin)){l=f.description||h,a=f.name||h;if(b.test(l)||b.test(a))if(!g||!g.test(l)&&!g.test(a))return f}return 0},getPluginFileVersion:function(f,b){var h=this,e,d,g,a,c=-1;if(h.OS>2||!f||!f.version||!(e=h.getNum(f.version)))return b;if(!b)return e;e=h.formatNum(e),b=h.formatNum(b),d=b.split(h.splitNumRegx),g=e.split(h.splitNumRegx);for(a=0;a<d.length;a++){if(c>-1&&a>c&&d[a]!="0")return b;if(g[a]!=d[a]){c==-1&&(c=a);if(d[a]!="0")return b}}return e},AXO:window.ActiveXObject,getAXO:function(a){var f=null,d,b=this,c={};try{f=new b.AXO(a)}catch(d){}return f},convertFuncs:function(f){var a,g,d,b=/^[\$][\$]/,c=this;for(a in f)if(b.test(a))try{g=a.slice(2),g.length>0&&!f[g]&&(f[g]=f[a](f),delete f[a])}catch(d){}},initObj:function(e,b,d){var a,c;if(e){if(e[b[0]]==1||d)for(a=0;a<b.length;a+=2)e[b[a]]=b[a+1];for(a in e)c=e[a],c&&c[b[0]]==1&&this.initObj(c,b)}},initScript:function(){var d=this,a=navigator,h,i=document,l=a.userAgent||"",j=a.vendor||"",b=a.platform||"",k=a.product||"";d.initObj(d,["$",d]);for(h in d.Plugins)d.Plugins[h]&&d.initObj(d.Plugins[h],["$",d,"$$",d.Plugins[h]],1);d.convertFuncs(d),d.OS=100;if(b){var g=["Win",1,"Mac",2,"Linux",3,"FreeBSD",4,"iPhone",21.1,"iPod",21.2,"iPad",21.3,"Win.*CE",22.1,"Win.*Mobile",22.2,"Pocket\\s*PC",22.3,"",100];for(h=g.length-2;h>=0;h-=2)if(g[h]&&(new RegExp(g[h],"i")).test(b)){d.OS=g[h+1];break}}d.head=i.getElementsByTagName("head")[0]||i.getElementsByTagName("body")[0]||i.body||null,d.isIE=(new Function("return/*@cc_on!@*/!1"))(),d.verIE=d.isIE&&/MSIE\s*(\d+\.?\d*)/i.test(l)?parseFloat(RegExp.$1,10):null,d.verIEfull=null,d.docModeIE=null;if(d.isIE){var f,n,c=document.createElement("div");try{c.style.behavior="url(#default#clientcaps)",d.verIEfull=c.getComponentVersion("{89820200-ECBD-11CF-8B85-00AA005B4383}","componentid").replace(/,/g,".")}catch(f){}n=parseFloat(d.verIEfull||"0",10),d.docModeIE=i.documentMode||(/back/i.test(i.compatMode||"")?5:n)||d.verIE,d.verIE=n||d.docModeIE}d.ActiveXEnabled=!1;if(d.isIE){var h,m=["Msxml2.XMLHTTP","Msxml2.DOMDocument","Microsoft.XMLDOM","ShockwaveFlash.ShockwaveFlash","TDCCtl.TDCCtl","Shell.UIHelper","Scripting.Dictionary","wmplayer.ocx"];for(h=0;h<m.length;h++)if(d.getAXO(m[h])){d.ActiveXEnabled=!0;break}}d.isGecko=/Gecko/i.test(k)&&/Gecko\s*\/\s*\d/i.test(l),d.verGecko=d.isGecko?d.formatNum(/rv\s*\:\s*([\.\,\d]+)/i.test(l)?RegExp.$1:"0.9"):null,d.isChrome=/Chrome\s*\/\s*(\d[\d\.]*)/i.test(l),d.verChrome=d.isChrome?d.formatNum(RegExp.$1):null,d.isSafari=(/Apple/i.test(j)||!j&&!d.isChrome)&&/Safari\s*\/\s*(\d[\d\.]*)/i.test(l),d.verSafari=d.isSafari&&/Version\s*\/\s*(\d[\d\.]*)/i.test(l)?d.formatNum(RegExp.$1):null,d.isOpera=/Opera\s*[\/]?\s*(\d+\.?\d*)/i.test(l),d.verOpera=d.isOpera&&(/Version\s*\/\s*(\d+\.?\d*)/i.test(l)||1)?parseFloat(RegExp.$1,10):null,d.addWinEvent("load",d.handler(d.runWLfuncs,d))},init:function(d){var c=this,b,d,a={status:-3,plugin:0};return c.isString(d)?d.length==1?(c.getVersionDelimiter=d,a):(d=d.toLowerCase().replace(/\s/g,""),b=c.Plugins[d],!b||!b.getVersion?a:(a.plugin=b,c.isDefined(b.installed)||(b.installed=null,b.version=null,b.version0=null,b.getVersionDone=null,b.pluginName=d),c.garbage=!1,c.isIE&&!c.ActiveXEnabled&&d!=="java"?(a.status=-2,a):(a.status=1,a))):a},fPush:function(b,a){var c=this;c.isArray(a)&&(c.isFunc(b)||c.isArray(b)&&b.length>0&&c.isFunc(b[0]))&&a.push(b)},callArray:function(b){var c=this,a;if(c.isArray(b))for(a=0;a<b.length;a++){if(b[a]===null)return;c.call(b[a]),b[a]=null}},call:function(c){var b=this,a=b.isArray(c)?c.length:-1;a>0&&b.isFunc(c[0])?c[0](b,a>1?c[1]:0,a>2?c[2]:0,a>3?c[3]:0):b.isFunc(c)&&c(b)},getVersionDelimiter:",",$$getVersion:function(a){return function(g,d,c){var e=a.init(g),f,b,h={};return e.status<0?null:(f=e.plugin,f.getVersionDone!=1&&(f.getVersion(null,d,c),f.getVersionDone===null&&(f.getVersionDone=1)),a.cleanup(),b=f.version||f.version0,b=b?b.replace(a.splitNumRegx,a.getVersionDelimiter):b,b)}},cleanup:function(){var a=this;a.garbage&&a.isDefined(window.CollectGarbage)&&window.CollectGarbage()},isActiveXObject:function(d,b){var f=this,a=!1,g,c='<object width="1" height="1" style="display:none" '+d.getCodeBaseVersion(b)+">"+d.HTML+f.openTag+"/object>";if(!f.head)return a;f.head.insertBefore(document.createElement("object"),f.head.firstChild),f.head.firstChild.outerHTML=c;try{f.head.firstChild.classid=d.classID}catch(g){}try{f.head.firstChild.object&&(a=!0)}catch(g){}try{a&&f.head.firstChild.readyState<4&&(f.garbage=!0)}catch(g){}return f.head.removeChild(f.head.firstChild),a},codebaseSearch:function(f,b){var c=this;if(!c.ActiveXEnabled||!f)return null;f.BIfuncs&&f.BIfuncs.length&&f.BIfuncs[f.BIfuncs.length-1]!==null&&c.callArray(f.BIfuncs);var d,o=f.SEARCH,k={};if(c.isStrNum(b))return o.match&&o.min&&c.compareNums(b,o.min)<=0?!0:o.match&&o.max&&c.compareNums(b,o.max)>=0?!1:(d=c.isActiveXObject(f,b),d&&(!o.min||c.compareNums(b,o.min)>0)&&(o.min=b),!d&&(!o.max||c.compareNums(b,o.max)<0)&&(o.max=b),d);var e=[0,0,0,0],l=[].concat(o.digits),a=o.min?1:0,j,i,h,g,m,n=function(p,r){var q=[].concat(e);return q[p]=r,c.isActiveXObject(f,q.join(","))};if(o.max){g=o.max.split(c.splitNumRegx);for(j=0;j<g.length;j++)g[j]=parseInt(g[j],10);g[0]<l[0]&&(l[0]=g[0])}if(o.min){m=o.min.split(c.splitNumRegx);for(j=0;j<m.length;j++)m[j]=parseInt(m[j],10);m[0]>e[0]&&(e[0]=m[0])}if(m&&g)for(j=1;j<m.length;j++){if(m[j-1]!=g[j-1])break;g[j]<l[j]&&(l[j]=g[j]),m[j]>e[j]&&(e[j]=m[j])}if(o.max)for(j=1;j<l.length;j++)if(g[j]>0&&l[j]==0&&l[j-1]<o.digits[j-1]){l[j-1]+=1;break}for(j=0;j<l.length;j++){h={};for(i=0;i<20;i++){if(l[j]-e[j]<1)break;d=round((l[j]+e[j])/2);if(h["a"+d])break;h["a"+d]=1,n(j,d)?(e[j]=d,a=1):l[j]=d}l[j]=e[j],!a&&n(j,e[j])&&(a=1);if(!a)break}return a?e.join(","):null},addWinEvent:function(d,c){var e=this,a=window,b;e.isFunc(c)&&(a.addEventListener?a.addEventListener(d,c,!1):a.attachEvent?a.attachEvent("on"+d,c):(b=a["on"+d],a["on"+d]=e.winHandler(c,b)))},winHandler:function(d,c){return function(){d(),typeof c=="function"&&c()}},WLfuncs0:[],WLfuncs:[],runWLfuncs:function(a){var b={};a.winLoaded=!0,a.callArray(a.WLfuncs0),a.callArray(a.WLfuncs),a.onDoneEmptyDiv&&a.onDoneEmptyDiv()},winLoaded:!1,$$onWindowLoaded:function(a){return function(b){a.winLoaded?a.call(b):a.fPush(b,a.WLfuncs)}},div:null,divID:"plugindetect",divWidth:50,pluginSize:1,emptyDiv:function(){var d=this,b,h,c,a,f,g;if(d.div&&d.div.childNodes)for(b=d.div.childNodes.length-1;b>=0;b--){c=d.div.childNodes[b];if(c&&c.childNodes)for(h=c.childNodes.length-1;h>=0;h--){g=c.childNodes[h];try{c.removeChild(g)}catch(f){}}if(c)try{d.div.removeChild(c)}catch(f){}}d.div||(a=document.getElementById(d.divID),a&&(d.div=a));if(d.div&&d.div.parentNode){try{d.div.parentNode.removeChild(d.div)}catch(f){}d.div=null}},DONEfuncs:[],onDoneEmptyDiv:function(){var c=this,a,b;if(!c.winLoaded)return;if(c.WLfuncs&&c.WLfuncs.length&&c.WLfuncs[c.WLfuncs.length-1]!==null)return;for(a in c){b=c[a];if(b&&b.funcs){if(b.OTF==3)return;if(b.funcs.length&&b.funcs[b.funcs.length-1]!==null)return}}for(a=0;a<c.DONEfuncs.length;a++)c.callArray(c.DONEfuncs);c.emptyDiv()},getWidth:function(c){if(c){var a=c.scrollWidth||c.offsetWidth,b=this;if(b.isNum(a))return a}return-1},getTagStatus:function(m,g,a,b){var c=this,f,k=m.span,l=c.getWidth(k),h=a.span,j=c.getWidth(h),d=g.span,i=c.getWidth(d);if(!k||!h||!d||!c.getDOMobj(m))return-2;if(j<i||l<0||j<0||i<0||i<=c.pluginSize||c.pluginSize<1)return 0;if(l>=i)return-1;try{if(l==c.pluginSize&&(!c.isIE||c.getDOMobj(m).readyState==4)){if(!m.winLoaded&&c.winLoaded)return 1;if(m.winLoaded&&c.isNum(b)){c.isNum(m.count)||(m.count=b);if(b-m.count>=10)return 1}}}catch(f){}return 0},getDOMobj:function(g,a){var f,d=this,c=g?g.span:0,b=c&&c.firstChild?1:0;try{b&&a&&d.div.focus()}catch(f){}return b?c.firstChild:null},setStyle:function(b,g){var f=b.style,a,d,c=this;if(f&&g)for(a=0;a<g.length;a+=2)try{f[g[a]]=g[a+1]}catch(d){}},insertDivInBody:function(i,g){var f,c=this,h="pd33993399",b=null,d=g?window.top.document:window.document,a=d.getElementsByTagName("body")[0]||d.body;if(!a)try{d.write('<div id="'+h+'">.'+c.openTag+"/div>"),b=d.getElementById(h)}catch(f){}a=d.getElementsByTagName("body")[0]||d.body,a&&(a.insertBefore(i,a.firstChild),b&&a.removeChild(b))},insertHTML:function(f,b,g,a,k){var l,m=document,j=this,p,o=m.createElement("span"),n,i,c=["outlineStyle","none","borderStyle","none","padding","0px","margin","0px","visibility","visible"],h="outline-style:none;border-style:none;padding:0px;margin:0px;visibility:visible;";j.isDefined(a)||(a="");if(j.isString(f)&&/[^\s]/.test(f)){f=f.toLowerCase().replace(/\s/g,""),p=j.openTag+f+' width="'+j.pluginSize+'" height="'+j.pluginSize+'" ',p+='style="'+h+'display:inline;" ';for(n=0;n<b.length;n+=2)/[^\s]/.test(b[n+1])&&(p+=b[n]+'="'+b[n+1]+'" ');p+=">";for(n=0;n<g.length;n+=2)/[^\s]/.test(g[n+1])&&(p+=j.openTag+'param name="'+g[n]+'" value="'+g[n+1]+'" />');p+=a+j.openTag+"/"+f+">"}else p=a;j.div||(i=m.getElementById(j.divID),i?j.div=i:(j.div=m.createElement("div"),j.div.id=j.divID),j.setStyle(j.div,c.concat(["width",j.divWidth+"px","height",j.pluginSize+3+"px","fontSize",j.pluginSize+3+"px","lineHeight",j.pluginSize+3+"px","verticalAlign","baseline","display","block"])),i||(j.setStyle(j.div,["position","absolute","right","0px","top","0px"]),j.insertDivInBody(j.div)));if(j.div&&j.div.parentNode){j.setStyle(o,c.concat(["fontSize",j.pluginSize+3+"px","lineHeight",j.pluginSize+3+"px","verticalAlign","baseline","display","inline"]));try{o.innerHTML=p}catch(l){}try{j.div.appendChild(o)}catch(l){}return{span:o,winLoaded:j.winLoaded,tagName:f,outerHTML:p}}return{span:null,winLoaded:j.winLoaded,tagName:"",outerHTML:p}},Plugins:{quicktime:{mimeType:["video/quicktime","application/x-quicktimeplayer","image/x-macpaint","image/x-quicktime"],progID:"QuickTimeCheckObject.QuickTimeCheck.1",progID0:"QuickTime.QuickTime",classID:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",minIEver:7,HTML:'<param name="src" value="" /><param name="controller" value="false" />',getCodeBaseVersion:function(a){return'codebase="#version='+a+'"'},SEARCH:{min:0,max:0,match:0,digits:[16,128,128,0]},getVersion:function(c){var f=this,d=f.$,a=null,e=null,b;if(!d.isIE)d.hasMimeType(f.mimeType)&&(e=d.OS!=3?d.findNavPlugin("QuickTime.*Plug-?in",0):null,e&&e.name&&(a=d.getNum(e.name)));else{d.isStrNum(c)&&(b=c.split(d.splitNumRegx),b.length>3&&parseInt(b[3],10)>0&&(b[3]="9999"),c=b.join(","));if(d.isStrNum(c)&&d.verIE>=f.minIEver&&f.canUseIsMin()>0){f.installed=f.isMin(c),f.getVersionDone=0;return}f.getVersionDone=1,!a&&d.verIE>=f.minIEver&&(a=f.CDBASE2VER(d.codebaseSearch(f))),a||(e=d.getAXO(f.progID),e&&e.QuickTimeVersion&&(a=e.QuickTimeVersion.toString(16),a=parseInt(a.charAt(0),16)+"."+parseInt(a.charAt(1),16)+"."+parseInt(a.charAt(2),16)))}f.installed=a?1:e?0:-1,f.version=d.formatNum(a,3)},cdbaseUpper:["7,60,0,0","0,0,0,0"],cdbaseLower:["7,50,0,0",null],cdbase2ver:[function(c,b){var a=b.split(c.$.splitNumRegx);return[a[0],a[1].charAt(0),a[1].charAt(1),a[2]].join(",")},null],CDBASE2VER:function(f){var e=this,c=e.$,b,a=e.cdbaseUpper,d=e.cdbaseLower;if(f){f=c.formatNum(f);for(b=0;b<a.length;b++)if(a[b]&&c.compareNums(f,a[b])<0&&d[b]&&c.compareNums(f,d[b])>=0&&e.cdbase2ver[b])return e.cdbase2ver[b](e,f)}return f},canUseIsMin:function(){var f=this,d=f.$,b,c=f.canUseIsMin,a=f.cdbaseUpper,e=f.cdbaseLower;if(!c.value){c.value=-1;for(b=0;b<a.length;b++){if(a[b]&&d.codebaseSearch(f,a[b])){c.value=1;break}if(e[b]&&d.codebaseSearch(f,e[b])){c.value=-1;break}}}return f.SEARCH.match=c.value==1?1:0,c.value},isMin:function(c){var b=this,a=b.$;return a.codebaseSearch(b,c)?.7:-1}},flash:{mimeType:"application/x-shockwave-flash",progID:"ShockwaveFlash.ShockwaveFlash",classID:"clsid:D27CDB6E-AE6D-11CF-96B8-444553540000",getVersion:function(){var b=function(i){if(!i)return null;var e=/[\d][\d\,\.\s]*[rRdD]{0,1}[\d\,]*/.exec(i);return e?e[0].replace(/[rRdD\.]/g,",").replace(/\s/g,""):null},j=this,g=j.$,k,h,l=null,c=null,a=null,f,m,d;if(!g.isIE){m=g.hasMimeType(j.mimeType);if(m){f=g.getDOMobj(g.insertHTML("object",["type",j.mimeType],[],"",j));try{l=g.getNum(f.GetVariable("$version"))}catch(k){}}l||(d=m?m.enabledPlugin:null,d&&d.description&&(l=b(d.description)),l&&(l=g.getPluginFileVersion(d,l)))}else{for(h=15;h>2;h--){c=g.getAXO(j.progID+"."+h);if(c){a=h.toString();break}}c||(c=g.getAXO(j.progID));if(a=="6")try{c.AllowScriptAccess="always"}catch(k){return"6,0,21,0"}try{l=b(c.GetVariable("$version"))}catch(k){}!l&&a&&(l=a)}return j.installed=l?1:-1,j.version=g.formatNum(l),!0}},shockwave:{mimeType:"application/x-director",progID:"SWCtl.SWCtl",classID:"clsid:166B1BCA-3F9C-11CF-8075-444553540000",getVersion:function(){var a=null,b=null,g,f,d=this,c=d.$;if(!c.isIE)f=c.findNavPlugin("Shockwave\\s*for\\s*Director"),f&&f.description&&c.hasMimeType(d.mimeType)&&(a=c.getNum(f.description)),a&&(a=c.getPluginFileVersion(f,a));else{try{b=c.getAXO(d.progID).ShockwaveVersion("")}catch(g){}c.isString(b)&&b.length>0?a=c.getNum(b):c.getAXO(d.progID+".8")?a="8":c.getAXO(d.progID+".7")?a="7":c.getAXO(d.progID+".1")&&(a="6")}d.installed=a?1:-1,d.version=c.formatNum(a)}},zz:0}};PluginDetect.initScript();var gArgCountErr='The "%%" function requires an even number of arguments.\nArguments should be in the form "atttributeName", "attributeValue", ...',gTagAttrs=null,gQTGeneratorVersion=1;(function(){function e(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var k=document,b,f=$.event.special,p=k.documentMode,m="oniLightBoxHashChange"in window&&(void 0===p||7<p);$.fn.iLightBoxHashChange=function(a){return a?this.bind("iLightBoxHashChange",a):this.trigger("iLightBoxHashChange")},$.fn.iLightBoxHashChange.delay=50,f.iLightBoxHashChange=$.extend(f.iLightBoxHashChange,{setup:function(){if(m)return!1;$(b.start)},teardown:function(){if(m)return!1;$(b.stop)}}),b=function(){function a(){var c=e(),d=f(l);c!==l?(n(l=c,d),$(window).trigger("iLightBoxHashChange")):d!==l&&(location.href=location.href.replace(/#.*/,"")+d),g=setTimeout(a,$.fn.iLightBoxHashChange.delay)}var h={},g,l=e(),b=function(c){return c},n=b,f=b;return h.start=function(){g||a()},h.stop=function(){g&&clearTimeout(g),g=void 0},browser.msie&&!m&&function(){var c,d;h.start=function(){c||(d=(d=$.fn.iLightBoxHashChange.src)&&d+e(),c=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||n(e()),a()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,k.onpropertychange=function(){try{"title"===event.propertyName&&(c.document.title=k.title)}catch(a){}})},h.stop=b,f=function(){return e(c.location.href)},n=function(a,d){var b=c.document,e=$.fn.iLightBoxHashChange.domain;a!==d&&(b.title=k.title,b.open(),e&&b.write('<script>document.domain="'+e+'"</script>'),b.close(),c.location.hash=a)}}(),h}()})(),Array.prototype.filter||(Array.prototype.filter=function(fun){"use strict";if(this==null)throw new TypeError;var t=Object(this),len=t.length>>>0;if(typeof fun!="function")throw new TypeError;var res=[],thisp=arguments[1];for(var i=0;i<len;i++)if(i in t){var val=t[i];fun.call(thisp,val,i,t)&&res.push(val)}return res}),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement,fromIndex){var k;if(this==null)throw new TypeError('"this" is null or not defined');var O=Object(this),len=O.length>>>0;if(len===0)return-1;var n=+fromIndex||0;abs(n)===Infinity&&(n=0);if(n>=len)return-1;k=max(n>=0?n:len-abs(n),0);while(k<len){var kValue;if(k in O&&O[k]===searchElement)return k;k++}return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(searchElement){"use strict";if(this==null)throw new TypeError;var t=Object(this),len=t.length>>>0;if(len===0)return-1;var n=len;arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:n!=0&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*floor(abs(n))));var k=n>=0?min(n,len-1):len-abs(n);for(;k>=0;k--)if(k in t&&t[k]===searchElement)return k;return-1})}(jQuery,this),function($,window,document,undefined){function Owl(element,options){this.settings=null,this.options=$.extend({},Owl.Defaults,options),this.$element=$(element),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},$.each(["onResize","onThrottledResize"],$.proxy(function(i,handler){this._handlers[handler]=$.proxy(this[handler],this)},this)),$.each(Owl.Plugins,$.proxy(function(key,plugin){this._plugins[key.charAt(0).toLowerCase()+key.slice(1)]=new plugin(this)},this)),$.each(Owl.Workers,$.proxy(function(priority,worker){this._pipe.push({filter:worker.filter,run:$.proxy(worker.run,this)})},this)),this.setup(),this.initialize()}Owl.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:window,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},Owl.Width={Default:"default",Inner:"inner",Outer:"outer"},Owl.Type={Event:"event",State:"state"},Owl.Plugins={},Owl.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.closest(".px-gutter").length?12*Math.ceil(this.$element.width()/12):this.$element.width()}},{filter:["width","items","settings"],run:function(cache){cache.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(cache){var margin=this.settings.margin||"",grid=!this.settings.autoWidth,rtl=this.settings.rtl,css={width:"auto","margin-left":rtl?margin:"","margin-right":rtl?"":margin};!grid&&this.$stage.children().css(css),cache.css=css}},{filter:["width","items","settings"],run:function(cache){var width=Math.round((this.width()/this.settings.items).toFixed(3)-this.settings.margin),merge=null,iterator=this._items.length,grid=!this.settings.autoWidth,widths=[];cache.items={merge:!1,width:width};while(iterator--)merge=this._mergers[iterator],merge=this.settings.mergeFit&&Math.min(merge,this.settings.items)||merge,cache.items.merge=merge>1||cache.items.merge,widths[iterator]=grid?width*merge:this._items[iterator].width();this._widths=widths}},{filter:["items","settings"],run:function(){var clones=[],items=this._items,settings=this.settings,view=Math.max(settings.items*2,4),size=Math.ceil(items.length/2)*2,repeat=settings.loop&&items.length?settings.rewind?view:Math.max(view,size):0,append="",prepend="";repeat/=2;while(repeat--)clones.push(this.normalize(clones.length/2,!0)),append+=items[clones[clones.length-1]][0].outerHTML,clones.push(this.normalize(items.length-1-(clones.length-1)/2,!0)),prepend=items[clones[clones.length-1]][0].outerHTML+prepend;this._clones=clones,$(append).addClass("cloned").appendTo(this.$stage),$(prepend).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){var rtl=this.settings.rtl?1:-1,size=this._clones.length+this._items.length,iterator=-1,previous=0,current=0,coordinates=[];while(++iterator<size)previous=coordinates[iterator-1]||0,current=this._widths[this.relative(iterator)]+this.settings.margin,coordinates.push(previous+current*rtl);this._coordinates=coordinates}},{filter:["width","items","settings"],run:function(){var stagePadding=this._width<480&&this.settings.stagePadding>0?41:this._width*this.settings.stagePadding/200,padding=stagePadding,coordinates=this._coordinates,css={width:Math.ceil(Math.abs(coordinates[coordinates.length-1]))+padding*2,"padding-left":padding||"","padding-right":padding||""};this.$stage.css(css)}},{filter:["width","items","settings"],run:function(cache){var iterator=this._coordinates.length,grid=!this.settings.autoWidth,items=this.$stage.children();if(grid&&cache.items.merge)while(iterator--)cache.css.width=this._widths[this.relative(iterator)],items.eq(iterator).css(cache.css);else grid&&(cache.css.width=cache.items.width,items.css(cache.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(cache){cache.current=cache.current?this.$stage.children().index(cache.current):0,cache.current=Math.max(this.minimum(),Math.min(this.maximum(),cache.current)),this.reset(cache.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var stagePadding=this._width<480&&this.settings.stagePadding>0?41:this._width*this.settings.stagePadding/200,rtl=this.settings.rtl?1:-1,padding=this.settings.stagePadding*2,begin=this.coordinates(this.current())+padding,end=begin+this.width()*rtl,inner,outer,matches=[],i,n;for(i=0,n=this._coordinates.length;i<n;i++)inner=this._coordinates[i-1]||0,outer=Math.abs(this._coordinates[i])+padding*rtl,(this.op(inner,"<=",begin)&&this.op(inner,">",end)||this.op(outer,"<",begin)&&this.op(outer,">",end))&&matches.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+matches.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],Owl.prototype.initialize=function(){this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl);if(this.settings.autoWidth&&!this.is("pre-loading")){var imgs,nestedSelector,width;imgs=this.$element.find("img"),nestedSelector=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:undefined,width=this.$element.children(nestedSelector).width(),imgs.length&&width<=0&&this.preloadAutoWidthImages(imgs)}this.$element.addClass(this.options.loadingClass),this.$stage=$("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},Owl.prototype.setup=function(){var viewport=this.viewport(),overwrites=this.options.responsive,match=-1,settings=null;overwrites?($.each(overwrites,function(breakpoint){breakpoint<=viewport&&breakpoint>match&&(match=Number(breakpoint))}),settings=$.extend({},this.options,overwrites[match]),delete settings.responsive,settings.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+match))):settings=$.extend({},this.options);if(this.settings===null||this._breakpoint!==match)this.trigger("change",{property:{name:"settings",value:settings}}),this._breakpoint=match,this.settings=settings,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},Owl.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},Owl.prototype.prepare=function(item,index){var event=this.trigger("prepare",{content:item});return event.data||(event.data=$("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).attr("data-index",index+1).append(item)),this.trigger("prepared",{content:event.data}),event.data},Owl.prototype.update=function(){var i=0,n=this._pipe.length,filter=$.proxy(function(p){return this[p]},this._invalidated),cache={};while(i<n)(this._invalidated.all||$.grep(this._pipe[i].filter,filter).length>0)&&this._pipe[i].run(cache),i++;this._invalidated={},!this.is("valid")&&this.enter("valid")},Owl.prototype.width=function(dimension){dimension=dimension||Owl.Width.Default;var stagePadding=this._width<480&&this.settings.stagePadding>0?41:this._width*this.settings.stagePadding/200;switch(dimension){case Owl.Width.Inner:case Owl.Width.Outer:return this._width;default:return this._width-stagePadding*2+this.settings.margin}},Owl.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},Owl.prototype.onThrottledResize=function(){window.clearTimeout(this.resizeTimer),this.resizeTimer=window.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},Owl.prototype.onResize=function(){if(!this._items.length)return!1;if(this._width===this.$element.width())return!1;if(!this.$element.is(":visible"))return!1;this.enter("resizing");if(this.trigger("resize").isDefaultPrevented())return this.leave("resizing"),!1;this.invalidate("width"),this.refresh(),this.leave("resizing"),this.trigger("resized")},Owl.prototype.registerEventHandlers=function(){$.support.transition&&this.$stage.on($.support.transition.end+".owl.core",$.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(window,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",$.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",$.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",$.proxy(this.onDragEnd,this)))},Owl.prototype.onDragStart=function(event){var stage=null;if(event.which===3)return;$.support.transform?(stage=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),stage={x:stage[stage.length===16?12:4],y:stage[stage.length===16?13:5]}):(stage=this.$stage.position(),stage={x:this.settings.rtl?stage.left+this.$stage.width()-this.width()+this.settings.margin:stage.left,y:stage.top}),this.is("animating")&&($.support.transform?this.animate(stage.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,event.type==="mousedown"),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=$(event.target),this._drag.stage.start=stage,this._drag.stage.current=stage,this._drag.pointer=this.pointer(event),$(document).on("mouseup.owl.core touchend.owl.core",$.proxy(this.onDragEnd,this)),$(document).one("mousemove.owl.core touchmove.owl.core",$.proxy(function(event){var delta=this.difference(this._drag.pointer,this.pointer(event));$(document).on("mousemove.owl.core touchmove.owl.core",$.proxy(this.onDragMove,this));if(Math.abs(delta.x)<Math.abs(delta.y)&&this.is("valid"))return;event.preventDefault(),this.enter("dragging"),this.trigger("drag")},this))},Owl.prototype.onDragMove=function(event){var minimum=null,maximum=null,pull=null,delta=this.difference(this._drag.pointer,this.pointer(event)),stage=this.difference(this._drag.stage.start,delta);if(!this.is("dragging"))return;event.preventDefault(),this.settings.loop?(minimum=this.coordinates(this.minimum()),maximum=this.coordinates(this.maximum()+1)-minimum,stage.x=((stage.x-minimum)%maximum+maximum)%maximum+minimum):(minimum=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),maximum=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),pull=this.settings.pullDrag?-1*delta.x/5:0,stage.x=Math.max(Math.min(stage.x,minimum+pull),maximum+pull)),this._drag.stage.current=stage,this.animate(stage.x)},Owl.prototype.onDragEnd=function(event){var delta=this.difference(this._drag.pointer,this.pointer(event)),stage=this._drag.stage.current,direction=delta.x>0^this.settings.rtl?"left":"right";$(document).off(".owl.core"),this.$element.removeClass(this.options.grabClass);if(delta.x!==0&&this.is("dragging")||!this.is("valid"))this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(stage.x,delta.x!==0?direction:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=direction,(Math.abs(delta.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1});if(!this.is("dragging"))return;this.leave("dragging"),this.trigger("dragged")},Owl.prototype.closest=function(coordinate,direction){var position=-1,pull=30,width=this.width(),coordinates=this.coordinates();return this.settings.freeDrag||$.each(coordinates,$.proxy(function(index,value){return coordinate>value-pull&&coordinate<value+pull?position=index:this.op(coordinate,"<",value)&&this.op(coordinate,">",coordinates[index+1]||value-width)&&(position=direction==="left"?index+1:index),position===-1},this)),this.settings.loop||(this.op(coordinate,">",coordinates[this.minimum()])?position=coordinate=this.minimum():this.op(coordinate,"<",coordinates[this.maximum()])&&(position=coordinate=this.maximum())),position},Owl.prototype.animate=function(coordinate){var animate=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),animate&&(this.enter("animating"),this.trigger("translate")),$.support.transform3d&&$.support.transition?this.$stage.css({transform:"translate3d("+coordinate+"px,0px,0px)",transition:this.speed()/1e3+"s"}):animate?this.$stage.animate({left:coordinate+"px"},this.speed(),this.settings.fallbackEasing,$.proxy(this.onTransitionEnd,this)):this.$stage.css({left:coordinate+"px"})},Owl.prototype.is=function(state){return this._states.current[state]&&this._states.current[state]>0},Owl.prototype.current=function(position){if(position===undefined)return this._current;if(this._items.length===0)return undefined;position=this.normalize(position);if(this._current!==position){var event=this.trigger("change",{property:{name:"position",value:position}});event.data!==undefined&&(position=this.normalize(event.data)),this._current=position,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},Owl.prototype.invalidate=function(part){return $.type(part)==="string"&&(this._invalidated[part]=!0,this.is("valid")&&this.leave("valid")),$.map(this._invalidated,function(v,i){return i})},Owl.prototype.reset=function(position){position=this.normalize(position);if(position===undefined)return;this._speed=0,this._current=position,this.suppress(["translate","translated"]),this.animate(this.coordinates(position)),this.release(["translate","translated"])},Owl.prototype.normalize=function(position,relative){var n=this._items.length,m=relative?0:this._clones.length;if(!$.isNumeric(position)||n<1)position=undefined;else if(position<0||position>=n+m)position=((position-m/2)%n+n)%n+m/2;return position},Owl.prototype.relative=function(position){return position-=this._clones.length/2,this.normalize(position,!0)},Owl.prototype.maximum=function(relative){var settings=this.settings,maximum=this._coordinates.length,boundary=Math.abs(this._coordinates[maximum-1])-this._width,i=-1,j;if(settings.loop)maximum=this._clones.length/2+this._items.length-1;else if(settings.autoWidth||settings.merge)while(maximum-i>1)Math.abs(this._coordinates[j=maximum+i>>1])<boundary?i=j:maximum=j;else settings.center?maximum=this._items.length-1:maximum=this._items.length-settings.items;return relative&&(maximum-=this._clones.length/2),Math.max(maximum,0)},Owl.prototype.minimum=function(relative){return relative?0:this._clones.length/2},Owl.prototype.items=function(position){return position===undefined?this._items.slice():(position=this.normalize(position,!0),this._items[position])},Owl.prototype.mergers=function(position){return position===undefined?this._mergers.slice():(position=this.normalize(position,!0),this._mergers[position])},Owl.prototype.clones=function(position){var odd=this._clones.length/2,even=odd+this._items.length,map=function(index){return index%2===0?even+index/2:odd-(index+1)/2};return position===undefined?$.map(this._clones,function(v,i){return map(i)}):$.map(this._clones,function(v,i){return v===position?map(i):null})},Owl.prototype.speed=function(speed){return speed!==undefined&&(this._speed=speed),this._speed},Owl.prototype.coordinates=function(position){var coordinate=null;return position===undefined?$.map(this._coordinates,$.proxy(function(coordinate,index){return this.coordinates(index)},this)):(this.settings.center?(coordinate=this._coordinates[position],coordinate+=(this.width()-coordinate+(this._coordinates[position-1]||0))/2*(this.settings.rtl?-1:1)):coordinate=this._coordinates[position-1]||0,coordinate)},Owl.prototype.duration=function(from,to,factor){return Math.min(Math.max(Math.abs(to-from),1),6)*Math.abs(factor||this.settings.smartSpeed)},Owl.prototype.to=function(position,speed){var current=this.current(),revert=null,distance=position-this.relative(current),direction=(distance>0)-(distance<0),items=this._items.length,minimum=this.minimum(),maximum=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(distance)>items/2&&(distance+=direction*-1*items),position=current+distance,revert=((position-minimum)%items+items)%items+minimum,revert!==position&&revert-distance<=maximum&&revert-distance>0&&(current=revert-distance,position=revert,this.reset(current))):this.settings.rewind?(maximum+=1,position=(position%maximum+maximum)%maximum):position=Math.max(minimum,Math.min(maximum,position)),this.speed(this.duration(current,position,speed)),this.current(position),this.$element.is(":visible")&&this.update()},Owl.prototype.next=function(speed){speed=speed||!1,this.to(this.relative(this.current())+1,speed)},Owl.prototype.prev=function(speed){speed=speed||!1,this.to(this.relative(this.current())-1,speed)},Owl.prototype.onTransitionEnd=function(event){if(event!==undefined){event.stopPropagation();if((event.target||event.srcElement||event.originalTarget)!==this.$stage.get(0))return!1}this.leave("animating"),this.trigger("translated")},Owl.prototype.viewport=function(){var width;if(this.options.responsiveBaseElement!==window)width=$(this.options.responsiveBaseElement).width();else if(window.innerWidth)width=window.innerWidth;else{if(!document.documentElement||!document.documentElement.clientWidth)throw"Can not detect viewport width.";width=document.documentElement.clientWidth}return width},Owl.prototype.replace=function(content){this.$stage.empty(),this._items=[],content&&(content=content instanceof jQuery?content:$(content)),this.settings.nestedItemSelector&&(content=content.find("."+this.settings.nestedItemSelector)),content.filter(function(){return this.nodeType===1}).each($.proxy(function(index,item){item=this.prepare(item,index),this.$stage.append(item),this._items.push(item),this._mergers.push(item.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)},this)),this.reset($.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},Owl.prototype.add=function(content,position){var current=this.relative(this._current);position=position===undefined?this._items.length:this.normalize(position,!0),content=content instanceof jQuery?content:$(content),this.trigger("add",{content:content,position:position}),content=this.prepare(content,this._items[current].index()),this._items.length===0||position===this._items.length?(this._items.length===0&&this.$stage.append(content),this._items.length!==0&&this._items[position-1].after(content),this._items.push(content),this._mergers.push(content.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1)):(this._items[position].before(content),this._items.splice(position,0,content),this._mergers.splice(position,0,content.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1)),this._items[current]&&this.reset(this._items[current].index()),this.invalidate("items"),this.trigger("added",{content:content,position:position})},Owl.prototype.remove=function(position){position=this.normalize(position,!0);if(position===undefined)return;this.trigger("remove",{content:this._items[position],position:position}),this._items[position].remove(),this._items.splice(position,1),this._mergers.splice(position,1),this.invalidate("items"),this.trigger("removed",{content:null,position:position})},Owl.prototype.preloadAutoWidthImages=function(images){images.each($.proxy(function(i,element){this.enter("pre-loading"),element=$(element),$(new Image).one("load",$.proxy(function(e){element.attr("src",e.target.src),element.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",element.attr("src")||element.attr("data-src")||element.attr("data-src-retina"))},this))},Owl.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),$(document).off(".owl.core"),this.settings.responsive!==!1&&(window.clearTimeout(this.resizeTimer),this.off(window,"resize",this._handlers.onThrottledResize));for(var i in this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},Owl.prototype.op=function(a,o,b){var rtl=this.settings.rtl;switch(o){case"<":return rtl?a>b:a<b;case">":return rtl?a<b:a>b;case">=":return rtl?a<=b:a>=b;case"<=":return rtl?a>=b:a<=b;default:}},Owl.prototype.on=function(element,event,listener,capture){element.addEventListener?element.addEventListener(event,listener,capture):element.attachEvent&&element.attachEvent("on"+event,listener)},Owl.prototype.off=function(element,event,listener,capture){element.removeEventListener?element.removeEventListener(event,listener,capture):element.detachEvent&&element.detachEvent("on"+event,listener)},Owl.prototype.trigger=function(name,data,namespace,state,enter){var status={item:{count:this._items.length,index:this.current()}},handler=$.camelCase($.grep(["on",name,namespace],function(v){return v}).join("-").toLowerCase()),event=$.Event([name,"owl",namespace||"carousel"].join(".").toLowerCase(),$.extend({relatedTarget:this},status,data));return this._supress[name]||($.each(this._plugins,function(name,plugin){plugin.onTrigger&&plugin.onTrigger(event)}),this.register({type:Owl.Type.Event,name:name}),this.$element.trigger(event),this.settings&&typeof this.settings[handler]=="function"&&this.settings[handler].call(this,event)),event},Owl.prototype.enter=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){this._states.current[name]===undefined&&(this._states.current[name]=0),this._states.current[name]++},this))},Owl.prototype.leave=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){this._states.current[name]--},this))},Owl.prototype.register=function(object){if(object.type===Owl.Type.Event){$.event.special[object.name]||($.event.special[object.name]={});if(!$.event.special[object.name].owl){var _default=$.event.special[object.name]._default;$.event.special[object.name]._default=function(e){return _default&&_default.apply&&(!e.namespace||e.namespace.indexOf("owl")===-1)?_default.apply(this,arguments):e.namespace&&e.namespace.indexOf("owl")>-1},$.event.special[object.name].owl=!0}}else object.type===Owl.Type.State&&(this._states.tags[object.name]?this._states.tags[object.name]=this._states.tags[object.name].concat(object.tags):this._states.tags[object.name]=object.tags,this._states.tags[object.name]=$.grep(this._states.tags[object.name],$.proxy(function(tag,i){return $.inArray(tag,this._states.tags[object.name])===i},this)))},Owl.prototype.suppress=function(events){$.each(events,$.proxy(function(index,event){this._supress[event]=!0},this))},Owl.prototype.release=function(events){$.each(events,$.proxy(function(index,event){delete this._supress[event]},this))},Owl.prototype.pointer=function(event){var result={x:null,y:null};return event=event.originalEvent||event||window.event,event=event.touches&&event.touches.length?event.touches[0]:event.changedTouches&&event.changedTouches.length?event.changedTouches[0]:event,event.pageX?(result.x=event.pageX,result.y=event.pageY):(result.x=event.clientX,result.y=event.clientY),result},Owl.prototype.difference=function(first,second){return{x:first.x-second.x,y:first.y-second.y}},$.fn.owlCarousel=function(option){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var $this=$(this),data=$this.data("owl.carousel");data||(data=new Owl(this,typeof option=="object"&&option),$this.data("owl.carousel",data),$.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(i,event){data.register({type:Owl.Type.Event,name:event}),data.$element.on(event+".owl.carousel.core",$.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([event]),data[event].apply(this,[].slice.call(arguments,1)),this.release([event]))},data))})),typeof option=="string"&&option.charAt(0)!=="_"&&data[option].apply(data,args)})},$.fn.owlCarousel.Constructor=Owl}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var AutoRefresh=function(carousel){this._core=carousel,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=$.extend({},AutoRefresh.Defaults,this._core.options),this._core.$element.on(this._handlers)};AutoRefresh.Defaults={autoRefresh:!0,autoRefreshInterval:500},AutoRefresh.prototype.watch=function(){if(this._interval)return;this._visible=this._core.$element.is(":visible"),this._interval=window.setInterval($.proxy(this.refresh,this),this._core.settings.autoRefreshInterval)},AutoRefresh.prototype.refresh=function(){if(this._core.$element.is(":visible")===this._visible)return;this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh()},AutoRefresh.prototype.destroy=function(){var handler,property;window.clearInterval(this._interval);for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.AutoRefresh=AutoRefresh}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Lazy=function(carousel){this._core=carousel,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":$.proxy(function(e){if(!e.namespace)return;if(!this._core.settings||!this._core.settings.lazyLoad)return;if(e.property&&e.property.name=="position"||e.type=="initialized"){var settings=this._core.settings,n=settings.center&&Math.ceil(settings.items/2)||settings.items,i=settings.center&&n*-1||0,position=(e.property&&e.property.value||this._core.current())+i,clones=this._core.clones().length,load=$.proxy(function(i,v){this.load(v)},this);while(i++<n)this.load(clones/2+this._core.relative(position)),clones&&$.each(this._core.clones(this._core.relative(position)),load),position++}},this)},this._core.options=$.extend({},Lazy.Defaults,this._core.options),this._core.$element.on(this._handlers)};Lazy.Defaults={lazyLoad:!1},Lazy.prototype.load=function(position){var $item=this._core.$stage.children().eq(position),$elements=$item&&$item.find(".owl-lazy");if(!$elements||$.inArray($item.get(0),this._loaded)>-1)return;$elements.each($.proxy(function(index,element){var $element=$(element),image,url=window.devicePixelRatio>1&&$element.attr("data-src-retina")||$element.attr("data-src");this._core.trigger("load",{element:$element,url:url},"lazy"),$element.is("img")?$element.one("load.owl.lazy",$.proxy(function(){$element.css("opacity",1),this._core.trigger("loaded",{element:$element,url:url},"lazy")},this)).attr("src",url):(image=new Image,image.onload=$.proxy(function(){$element.css({"background-image":"url("+url+")",opacity:"1"}),this._core.trigger("loaded",{element:$element,url:url},"lazy")},this),image.src=url)},this)),this._loaded.push($item.get(0))},Lazy.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this._core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Lazy=Lazy}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var AutoHeight=function(carousel){this._core=carousel,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.property.name=="position"&&this.update()},this),"loaded.owl.lazy":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=$.extend({},AutoHeight.Defaults,this._core.options),this._core.$element.on(this._handlers)};AutoHeight.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},AutoHeight.prototype.update=function(){var start=this._core._current,end=start+this._core.settings.items,visible=this._core.$stage.children().toArray().slice(start,end);heights=[],maxheight=0,$.each(visible,function(index,item){heights.push($(item).height())}),maxheight=Math.max.apply(null,heights),this._core.$stage.parent().height(maxheight).addClass(this._core.settings.autoHeightClass)},AutoHeight.prototype.destroy=function(){var handler,property;for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.AutoHeight=AutoHeight}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Video=function(carousel){this._core=carousel,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&e.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":$.proxy(function(e){if(!e.namespace)return;var $element=$(e.content).find(".owl-video");$element.length&&($element.css("display","none"),this.fetch($element,$(e.content)))},this)},this._core.options=$.extend({},Video.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",$.proxy(function(e){this.play(e)},this))};Video.Defaults={video:!1,videoHeight:!1,videoWidth:!1},Video.prototype.fetch=function(target,item){var type=target.attr("data-vimeo-id")?"vimeo":"youtube",id=target.attr("data-vimeo-id")||target.attr("data-youtube-id"),width=target.attr("data-width")||this._core.settings.videoWidth,height=target.attr("data-height")||this._core.settings.videoHeight,url=target.attr("href");if(!url)throw new Error("Missing video URL.");id=url.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);if(id[3].indexOf("youtu")>-1)type="youtube";else{if(!(id[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");type="vimeo"}id=id[6],this._videos[url]={type:type,id:id,width:width,height:height},item.attr("data-video",url),this.thumbnail(target,this._videos[url])},Video.prototype.thumbnail=function(target,video){var tnLink,icon,path,dimensions=video.width&&video.height?'style="width:'+video.width+"px;height:"+video.height+'px;"':"",customTn=target.find("img"),srcType="src",lazyClass="",settings=this._core.settings,create=function(path){icon='<div class="owl-video-play-icon"></div>',settings.lazyLoad?tnLink='<div class="owl-video-tn '+lazyClass+'" '+srcType+'="'+path+'"></div>':tnLink='<div class="owl-video-tn" style="opacity:1;background-image:url('+path+')"></div>',target.after(tnLink),target.after(icon)};target.wrap('<div class="owl-video-wrapper"'+dimensions+"></div>"),this._core.settings.lazyLoad&&(srcType="data-src",lazyClass="owl-lazy");if(customTn.length)return create(customTn.attr(srcType)),customTn.remove(),!1;video.type==="youtube"?(path="//img.youtube.com/vi/"+video.id+"/hqdefault.jpg",create(path)):video.type==="vimeo"&&$.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+video.id+".json",jsonp:"callback",dataType:"jsonp",success:function(data){path=data[0].thumbnail_large,create(path)}})},Video.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},Video.prototype.play=function(event){var target=$(event.target),item=target.closest("."+this._core.settings.itemClass),video=this._videos[item.attr("data-video")],width=video.width||"100%",height=video.height||this._core.$stage.height(),html;if(this._playing)return;this._core.enter("playing"),this._core.trigger("play",null,"video"),item=this._core.items(this._core.relative(item.index())),this._core.reset(item.index()),video.type==="youtube"?html='<iframe width="'+width+'" height="'+height+'" src="//www.youtube.com/embed/'+video.id+"?autoplay=1&v="+video.id+'" frameborder="0" allowfullscreen></iframe>':video.type==="vimeo"&&(html='<iframe src="//player.vimeo.com/video/'+video.id+'?autoplay=1" width="'+width+'" height="'+height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),$('<div class="owl-video-frame">'+html+"</div>").insertAfter(item.find(".owl-video")),this._playing=item.addClass("owl-video-playing")},Video.prototype.isInFullScreen=function(){var element=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;return element&&$(element).parent().hasClass("owl-video-frame")},Video.prototype.destroy=function(){var handler,property;this._core.$element.off("click.owl.video");for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Video=Video}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Animate=function(scope){this.core=scope,this.core.options=$.extend({},Animate.Defaults,this.core.options),this.swapping=!0,this.previous=undefined,this.next=undefined,this.handlers={"change.owl.carousel":$.proxy(function(e){e.namespace&&e.property.name=="position"&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":$.proxy(function(e){e.namespace&&(this.swapping=e.type=="translated")},this),"translate.owl.carousel":$.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};Animate.Defaults={animateOut:!1,animateIn:!1},Animate.prototype.swap=function(){if(this.core.settings.items!==1)return;if(!$.support.animation||!$.support.transition)return;this.core.speed(0);var left,clear=$.proxy(this.clear,this),previous=this.core.$stage.children().eq(this.previous),next=this.core.$stage.children().eq(this.next),incoming=this.core.settings.animateIn,outgoing=this.core.settings.animateOut;if(this.core.current()===this.previous)return;outgoing&&(left=this.core.coordinates(this.previous)-this.core.coordinates(this.next),previous.css({left:left+"px"}).addClass("animated owl-animated-out").addClass(outgoing).on($.support.animation.end,clear)),incoming&&next.addClass("animated owl-animated-in").addClass(incoming).on($.support.animation.end,clear)},Animate.prototype.clear=function(e){$(e.target).hasClass("animated")&&($(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd())},Animate.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this.core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Animate=Animate}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Autoplay=function(carousel){this._core=carousel,this._interval=null,this._paused=!1,this._handlers={"changed.owl.carousel":$.proxy(function(e){e.namespace&&e.property.name==="settings"&&(this._core.settings.autoplay?this.play():this.stop())},this),"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":$.proxy(function(e,t,s){e.namespace&&this.play(t,s)},this),"stop.owl.autoplay":$.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.owl.autoplay":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=$.extend({},Autoplay.Defaults,this._core.options)};Autoplay.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},Autoplay.prototype.play=function(timeout,speed){this._paused=!1;if(this._core.is("rotating"))return;this._core.enter("rotating"),this._interval=window.setInterval($.proxy(function(){if(this._paused||this._core.is("busy")||this._core.is("interacting")||document.hidden)return;this._core.next(speed||this._core.settings.autoplaySpeed)},this),timeout||this._core.settings.autoplayTimeout)},Autoplay.prototype.stop=function(){if(!this._core.is("rotating"))return;window.clearInterval(this._interval),this._core.leave("rotating")},Autoplay.prototype.pause=function(){if(!this._core.is("rotating"))return;this._paused=!0},Autoplay.prototype.destroy=function(){var handler,property;this.stop();for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.autoplay=Autoplay}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){"use strict";var Navigation=function(carousel){this._core=carousel,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+$(e.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&e.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":$.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=$.extend({},Navigation.Defaults,this._core.options),this.$element.on(this._handlers)};Navigation.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},Navigation.prototype.initialize=function(){var override,settings=this._core.settings;this._controls.$relative=(settings.navContainer?$(settings.navContainer):$("<div>").addClass(settings.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=$("<"+settings.navElement+">").addClass(settings.navClass[0]).html(settings.navText[0]).prependTo(this._controls.$relative).on("click",$.proxy(function(e){this.prev(settings.navSpeed)},this)),this._controls.$next=$("<"+settings.navElement+">").addClass(settings.navClass[1]).html(settings.navText[1]).appendTo(this._controls.$relative).on("click",$.proxy(function(e){this.next(settings.navSpeed)},this)),settings.dotsData||(this._templates=[$("<div>").addClass(settings.dotClass).append($("<span>")).prop("outerHTML")]),this._controls.$absolute=(settings.dotsContainer?$(settings.dotsContainer):$("<div>").addClass(settings.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",$.proxy(function(e){var index=$(e.target).parent().is(this._controls.$absolute)?$(e.target).index():$(e.target).parent().index();e.preventDefault(),this.to(index,settings.dotsSpeed)},this));for(override in this._overrides)this._core[override]=$.proxy(this[override],this)},Navigation.prototype.destroy=function(){var handler,control,property,override;for(handler in this._handlers)this.$element.off(handler,this._handlers[handler]);for(control in this._controls)this._controls[control].remove();for(override in this.overides)this._core[override]=this._overrides[override];for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},Navigation.prototype.update=function(){var i,j,k,lower=this._core.clones().length/2,upper=lower+this._core.items().length,maximum=this._core.maximum(!0),settings=this._core.settings,size=settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items;settings.slideBy!=="page"&&(settings.slideBy=Math.min(settings.slideBy,settings.items));if(settings.dots||settings.slideBy=="page"){this._pages=[];for(i=lower,j=0,k=0;i<upper;i++){if(j>=size||j===0){this._pages.push({start:Math.min(maximum,i-lower),end:i-lower+size-1});if(Math.min(maximum,i-lower)===maximum)break;j=0,++k}j+=this._core.mergers(this._core.relative(i))}}},Navigation.prototype.draw=function(){var difference,settings=this._core.settings,disabled=this._core.items().length<=settings.items,index=this._core.relative(this._core.current()),loop=settings.loop||settings.rewind;this._controls.$relative.toggleClass("disabled",!settings.nav||disabled),settings.nav&&(this._controls.$previous.toggleClass("disabled",!loop&&index<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!loop&&index>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!settings.dots||disabled),settings.dots&&(difference=this._pages.length-this._controls.$absolute.children().length,settings.dotsData&&difference!==0?this._controls.$absolute.html(this._templates.join("")):difference>0?this._controls.$absolute.append((new Array(difference+1)).join(this._templates[0])):difference<0&&this._controls.$absolute.children().slice(difference).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq($.inArray(this.current(),this._pages)).addClass("active"))},Navigation.prototype.onTrigger=function(event){var settings=this._core.settings;event.page={index:$.inArray(this.current(),this._pages),count:this._pages.length,size:settings&&(settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items)}},Navigation.prototype.current=function(){var current=this._core.relative(this._core.current());return $.grep(this._pages,$.proxy(function(page,index){return page.start<=current&&page.end>=current},this)).pop()},Navigation.prototype.getPosition=function(successor){var position,length,settings=this._core.settings;return settings.slideBy=="page"?(position=$.inArray(this.current(),this._pages),length=this._pages.length,successor?++position:--position,position=this._pages[(position%length+length)%length].start):(position=this._core.relative(this._core.current()),length=this._core.items().length,successor?position+=settings.slideBy:position-=settings.slideBy),position},Navigation.prototype.next=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(!0),speed)},Navigation.prototype.prev=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(!1),speed)},Navigation.prototype.to=function(position,speed,standard){var length;standard?$.proxy(this._overrides.to,this._core)(position,speed):(length=this._pages.length,$.proxy(this._overrides.to,this._core)(this._pages[(position%length+length)%length].start,speed))},$.fn.owlCarousel.Constructor.Plugins.Navigation=Navigation}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){"use strict";var Hash=function(carousel){this._core=carousel,this._hashes={},this.$element=this._core.$element,this._handlers={"prepared.owl.carousel":$.proxy(function(e){if(e.namespace){var hash=$(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!hash)return;this._hashes[hash]=e.content}},this),"changed.owl.carousel":$.proxy(function(e){if(e.namespace&&e.property.name==="position"){var current=this._core.items(this._core.relative(this._core.current())),hash=$.map(this._hashes,function(item,hash){return item===current?hash:null}).join();if(!hash||window.location.hash.slice(1)===hash)return;window.location.hash=hash}},this)},this._core.options=$.extend({},Hash.Defaults,this._core.options),this.$element.on(this._handlers)};Hash.Defaults={URLhashListener:!1},Hash.prototype.destroy=function(){var handler,property;$(window).off("hashchange.owl.navigation");for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Hash=Hash}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){function test(property,prefixed){var result=!1,upper=property.charAt(0).toUpperCase()+property.slice(1);return $.each((property+" "+prefixes.join(upper+" ")+upper).split(" "),function(i,property){if(style[property]!==undefined)return result=prefixed?property:!0,!1}),result}function prefixed(property){return test(property,!0)}var style=$("<support>").get(0).style,prefixes="Webkit Moz O ms".split(" "),events={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},tests={csstransforms:function(){return!!test("transform")},csstransforms3d:function(){return!!test("perspective")},csstransitions:function(){return!!test("transition")},cssanimations:function(){return!!test("animation")}};tests.csstransitions()&&($.support.transition=new String(prefixed("transition")),$.support.transition.end=events.transition.end[$.support.transition]),tests.cssanimations()&&($.support.animation=new String(prefixed("animation")),$.support.animation.end=events.animation.end[$.support.animation]),tests.csstransforms()&&($.support.transform=new String(prefixed("transform")),$.support.transform3d=tests.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(window,document,undefined){var absPos=function(element){var offsetLeft,offsetTop;offsetLeft=offsetTop=0;if(element.offsetParent)do offsetLeft+=element.offsetLeft,offsetTop+=element.offsetTop;while(element=element.offsetParent);return[offsetLeft,offsetTop]},ProgressCircle=function(params){this.canvas=params.canvas,this.minRadius=params.minRadius||15,this.arcWidth=params.arcWidth||5,this.gapWidth=params.gapWidth||3,this.centerX=params.centerX||this.canvas.width/2,this.centerY=params.centerY||this.canvas.height/2,this.infoLineLength=params.infoLineLength||60,this.horizLineLength=params.horizLineLength||10,this.infoLineAngleInterval=params.infoLineAngleInterval||Math.PI/8,this.infoLineBaseAngle=params.infoLineBaseAngle||Math.PI/6,this.context=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.circles=[],this.runningCount=0};ProgressCircle.prototype={constructor:ProgressCircle,addEntry:function(params){return this.circles.push(new Circle({canvas:this.canvas,context:this.context,centerX:this.centerX,centerY:this.centerY,innerRadius:this.minRadius+this.circles.length*(this.gapWidth+this.arcWidth),arcWidth:this.arcWidth,infoLineLength:this.infoLineLength,horizLineLength:this.horizLineLength,id:this.circles.length,fillColor:params.fillColor,outlineColor:params.outlineColor,progressListener:params.progressListener,infoListener:params.infoListener,infoLineAngle:this.infoLineBaseAngle+this.circles.length*this.infoLineAngleInterval})),this},start:function(interval){var self=this;return this.timer=setInterval(function(){self._update()},interval||33),this},stop:function(){clearTimeout(this.timer)},_update:function(){return this._clear(),this.circles.forEach(function(circle,idx,array){circle.update()}),this},_clear:function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this}};var Circle=function(params){this.id=params.id,this.canvas=params.canvas,this.context=params.context,this.centerX=params.centerX,this.centerY=params.centerY,this.arcWidth=params.arcWidth,this.innerRadius=params.innerRadius||0,this.fillColor=params.fillColor||"#fff",this.outlineColor=params.outlineColor||this.fillColor,this.progressListener=params.progressListener,this.infoLineLength=params.infoLineLength||250,this.horizLineLength=params.horizLineLength||50,this.infoListener=params.infoListener,this.infoLineAngle=params.infoLineAngle,this.outerRadius=this.innerRadius+this.arcWidth;if(!this.infoListener)return;var angle=this.infoLineAngle,arcDistance=(this.innerRadius+this.outerRadius)/2,sinA=Math.sin(angle),cosA=Math.cos(angle);this.infoLineStartX=this.centerX+sinA*arcDistance,this.infoLineStartY=this.centerY-cosA*arcDistance,this.infoLineMidX=this.centerX+sinA*this.infoLineLength,this.infoLineMidY=this.centerY-cosA*this.infoLineLength,this.infoLineEndX=this.infoLineMidX+(sinA<0?-this.horizLineLength:this.horizLineLength),this.infoLineEndY=this.infoLineMidY;var infoText=document.createElement("div"),style=infoText.style;style.color=this.fillColor,style.position="absolute",style.left=this.infoLineEndX+absPos(this.canvas)[0]+"px",infoText.className="ProgressCircleInfo",infoText.id="progress_circle_info_"+this.id,document.body.appendChild(infoText),this.infoText=infoText};Circle.prototype={constructor:Circle,update:function(){this.progress=this.progressListener(),this._draw(),this.infoListener&&(this.info=this.infoListener(),this._drawInfo())},_draw:function(){var ctx=this.context,ANGLE_OFFSET=-Math.PI/2,startAngle=0+ANGLE_OFFSET,endAngle=startAngle+this.progress*Math.PI*2,x=this.centerX,y=this.centerY,innerRadius=this.innerRadius-this.arcWidth-1,outerRadius=this.outerRadius-this.arcWidth-1;if(innerRadius<0)return;return ctx.fillStyle=this.fillColor,ctx.strokeStyle=this.outlineColor,ctx.beginPath(),ctx.arc(x,y,innerRadius,startAngle,endAngle,!1),ctx.arc(x,y,outerRadius,endAngle,startAngle,!0),ctx.closePath(),ctx.stroke(),ctx.fill(),this},_drawInfo:function(){var pointList,lineHeight;return pointList=[[this.infoLineStartX,this.infoLineStartY],[this.infoLineMidX,this.infoLineMidY],[this.infoLineEndX,this.infoLineEndY]],this._drawSegments(pointList,!1),this.infoText.innerHTML=this.info,lineHeight=this.infoText.offsetHeight,this.infoText.style.top=this.infoLineEndY+absPos(this.canvas)[1]-lineHeight/2+"px",this},_drawSegments:function(pointList,close){var ctx=this.context;ctx.beginPath(),ctx.moveTo(pointList[0][0],pointList[0][1]);for(var i=1;i<pointList.length;++i)ctx.lineTo(pointList[i][0],pointList[i][1]);close&&ctx.closePath(),ctx.stroke()}},window.ProgressCircle=ProgressCircle}(window,document),function($){var VcChart=function(element,options){this.el=element,this.$el=$(this.el);var $this=this;$this.options=$.extend({color:"wpb_button",units:"",width:"",label_selector:".vc_pie_chart_value",back_selector:".vc_pie_chart_back",responsive:!0},options),$this.init()};VcChart.prototype={constructor:VcChart,_progress_v:0,animated:!1,colors:{wpb_button:"rgba(247, 247, 247, 1)","btn-primary":"rgba(0, 136, 204, 1)","btn-info":"rgba(88, 185, 218, 1)","btn-success":"rgba(106, 177, 101, 1)","btn-warning":"rgba(255, 153, 0, 1)","btn-danger":"rgba(255, 103, 91, 1)","btn-inverse":"rgba(85, 85, 85, 1)"},init:function(){this.setupColor(),this.value=this.$el.data("pie-value")/100,this.label_value=this.$el.data("pie-label-value")||this.$el.data("pie-value"),this.$wrapper=$(".vc_pie_wrapper",this.$el),this.$label=$(this.options.label_selector,this.$el),this.$back=$(this.options.back_selector,this.$el),this.$canvas=this.$el.find("canvas"),this.arcWidth=this.$el.data("pie-width")*2,this.draw(),this.setWayPoint(),this.options.responsive===!0&&this.setResponsive(),UNCODE.isMobile&&(this._progress_v=this.value)},setupColor:function(){typeof this.options.color!="undefined"?this.color=this.options.color:this.color="rgba(247, 247, 247, 0.2)"},setResponsive:function(){var that=this;UNCODE.isMobile||$(window).resize(function(){that.animated===!0&&that.circle.stop(),that.draw(!0)})},draw:function(redraw){var w=this.$el.addClass("vc_ready").width()*2,border_w=this.arcWidth,radius;w||(w=this.$el.parents(":visible").first().width()-2),radius=w/2,this.$wrapper.css({width:w/2+"px"}),this.$label.css({width:w/2,height:w/2,"line-height":w/2+"px"}),this.$back.css({width:w/2,height:w/2}),this.$canvas.attr({width:w+"px",height:w+"px"}),this.$el.addClass("vc_ready"),this.circle=new ProgressCircle({canvas:this.$canvas.get(0),minRadius:radius,arcWidth:border_w}),redraw===!0&&this.animated===!0&&(this._progress_v=this.value,this.circle.addEntry({fillColor:this.color,progressListener:$.proxy(this.setProgress,this)}).start())},setProgress:function(){if(this._progress_v>=this.value)return this.circle.stop(),this.animated=!0,this.$label.html(this.label_value+this.options.units),this._progress_v;this._progress_v+=.01;if(!isNaN(this.label_value)){var label_value=this._progress_v/this.value*this.label_value,val=Math.round(label_value)+this.options.units;this.$label.html(val)}else this.$label.html(this.label_value+this.options.units);return this._progress_v},animate:function(){this.animated!==!0&&this.circle.addEntry({fillColor:this.color,progressListener:$.proxy(this.setProgress,this)}).start(10)},setWayPoint:function(){typeof $.fn.waypoint!="undefined"&&!UNCODE.isMobile?this.$el.waypoint($.proxy(this.animate,this),{offset:"85%"}):this.animate()}},$.fn.vcChat=function(option,value){return this.each(function(){var $this=$(this),data=$this.data("vc_chart"),options=typeof option=="object"?option:{color:$this.data("pie-color"),units:$this.data("pie-units")};typeof option=="undefined"&&$this.data("vc_chart",data=new VcChart(this,options)),typeof option=="string"&&data[option](value)})},typeof window["vc_pieChart"]!="function"&&(window.vc_pieChart=function(){$(".vc_pie_chart:visible:not(.vc_ready)").vcChat()}),$(document).ready(function(){!window.vc_iframe&&vc_pieChart()})}(window.jQuery),uncode_progress_bar(),function($){"use strict";$.fn.counterUp=function(options){var settings=$.extend({time:400,delay:10},options);return this.each(function(){var $this=$(this),$settings=settings,counterUpper=function(){var nums=[],divisions=$settings.time/$settings.delay,numReal=$this.attr("data-val"),num=numReal,isComma=/[0-9]+,[0-9]+/.test(num);num=num.replace(/,/g,"");var isInt=/^[0-9]+$/.test(num),isFloat=/^[0-9]+\.[0-9]+$/.test(num),decimalPlaces=isFloat?(num.split(".")[1]||[]).length:0;for(var i=divisions;i>=1;i--){var newNum=parseInt(num/divisions*i);isFloat&&(newNum=parseFloat(num/divisions*i).toFixed(decimalPlaces));if(isComma)while(/(\d+)(\d{3})/.test(newNum.toString()))newNum=newNum.toString().replace(/(\d+)(\d{3})/,"$1,$2");nums.unshift(newNum)}nums.push(numReal),$this.data("counterup-nums",nums),$this.text("0");var f=function(){$this.data("counterup-nums")!=null&&($this.text($this.data("counterup-nums").shift()),$this.data("counterup-nums").length?setTimeout($this.data("counterup-func"),$settings.delay):(delete $this.data("counterup-nums"),$this.data("counterup-nums",null),$this.data("counterup-func",null)))};$this.data("counterup-func",f),setTimeout($this.data("counterup-func"),$settings.delay)};new Waypoint({element:this,handler:function(){counterUpper(),this.destroy()},offset:"100%"})})}}(jQuery),function(factory){"use strict";typeof define=="function"&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){"use strict";function parseDateString(dateString){if(dateString instanceof Date)return dateString;if(String(dateString).match(matchers))return String(dateString).match(/^[0-9]*$/)&&(dateString=Number(dateString)),String(dateString).match(/\-/)&&(dateString=String(dateString).replace(/\-/g,"/")),new Date(dateString);throw new Error("Couldn't cast `"+dateString+"` to a date object.")}function strftime(offsetObject){return function(format){var directives=format.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(directives)for(var i=0,len=directives.length;i<len;++i){var directive=directives[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),regexp=new RegExp(directive[0]),modifier=directive[1]||"",plural=directive[3]||"",value=null;directive=directive[2],DIRECTIVE_KEY_MAP.hasOwnProperty(directive)&&(value=DIRECTIVE_KEY_MAP[directive],value=Number(offsetObject[value])),value!==null&&(modifier==="!"&&(value=pluralize(plural,value)),modifier===""&&value<10&&(value="0"+value.toString()),format=format.replace(regexp,value.toString()))}return format=format.replace(/%%/,"%"),format}}function pluralize(format,count){var plural="s",singular="";return format&&(format=format.replace(/(:|;|\s)/gi,"").split(/\,/),format.length===1?plural=format[0]:(singular=format[0],plural=format[1])),Math.abs(count)===1?singular:plural}var PRECISION=100,instances=[],matchers=[];matchers.push(/^[0-9]*$/.source),matchers.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),matchers.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),matchers=new RegExp(matchers.join("|"));var DIRECTIVE_KEY_MAP={Y:"years",m:"months",w:"weeks",d:"days",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},Countdown=function(el,finalDate,callback){this.el=el,this.$el=$(el),this.interval=null,this.offset={},this.instanceNumber=instances.length,instances.push(this),this.$el.data("countdown-instance",this.instanceNumber),callback&&(this.$el.on("update.countdown",callback),this.$el.on("stoped.countdown",callback),this.$el.on("finish.countdown",callback)),this.setFinalDate(finalDate),this.start()};$.extend(Countdown.prototype,{start:function(){this.interval!==null&&clearInterval(this.interval);var self=this;this.update(),this.interval=setInterval(function(){self.update.call(self)},PRECISION)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},pause:function(){this.stop.call(this)},resume:function(){this.start.call(this)},remove:function(){this.stop(),instances[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(value){this.finalDate=parseDateString(value)},update:function(){if(this.$el.closest("html").length===0){this.remove();return}this.totalSecsLeft=this.finalDate.getTime()-(new Date).getTime(),this.totalSecsLeft=Math.ceil(this.totalSecsLeft/1e3),this.totalSecsLeft=this.totalSecsLeft<0?0:this.totalSecsLeft,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30),years:Math.floor(this.totalSecsLeft/60/60/24/365)},this.totalSecsLeft===0?(this.stop(),this.dispatchEvent("finish")):this.dispatchEvent("update")},dispatchEvent:function(eventName){var event=$.Event(eventName+".countdown");event.finalDate=this.finalDate,event.offset=$.extend({},this.offset),event.strftime=strftime(this.offset),this.$el.trigger(event)}}),$.fn.countdown=function(){var argumentsArray=Array.prototype.slice.call(arguments,0);return this.each(function(){var instanceNumber=$(this).data("countdown-instance");if(instanceNumber!==undefined){var instance=instances[instanceNumber],method=argumentsArray[0];Countdown.prototype.hasOwnProperty(method)?instance[method].apply(instance,argumentsArray.slice(1)):String(method).match(/^[$A-Z_][0-9A-Z_$]*$/i)===null?(instance.setFinalDate.call(instance,method),instance.start()):$.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,method))}else new Countdown(this,argumentsArray[0],argumentsArray[1])})}}),function(factory){typeof define=="function"&&define.amd?define(["jquery"],factory):typeof exports=="object"?module.exports=factory(require("jquery")):factory(jQuery)}(function($){var eventNamespace="waitForImages";$.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},$.expr[":"].uncached=function(obj){return $(obj).is('img[src][src!=""]')?!obj.complete:!1},$.fn.waitForImages=function(){var allImgsLength=0,allImgsLoaded=0,deferred=$.Deferred(),finishedCallback,eachCallback,waitForAll;$.isPlainObject(arguments[0])?(waitForAll=arguments[0].waitForAll,eachCallback=arguments[0].each,finishedCallback=arguments[0].finished):arguments.length===1&&$.type(arguments[0])==="boolean"?waitForAll=arguments[0]:(finishedCallback=arguments[0],eachCallback=arguments[1],waitForAll=arguments[2]),finishedCallback=finishedCallback||$.noop,eachCallback=eachCallback||$.noop,waitForAll=!!waitForAll;if(!$.isFunction(finishedCallback)||!$.isFunction(eachCallback))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var obj=$(this),allImgs=[],hasImgProperties=$.waitForImages.hasImageProperties||[],hasImageAttributes=$.waitForImages.hasImageAttributes||[],matchUrl=/url\(\s*(['"]?)(.*?)\1\s*\)/g;waitForAll?obj.find("*").addBack().each(function(){var element=$(this);element.is("img:uncached")&&allImgs.push({src:element.attr("src"),element:element[0]}),$.each(hasImgProperties,function(i,property){var propertyValue=element.css(property),match;if(!propertyValue)return!0;while(match=matchUrl.exec(propertyValue))allImgs.push({src:match[2],element:element[0]})}),$.each(hasImageAttributes,function(i,attribute){var attributeValue=element.attr(attribute),attributeValues;if(!attributeValue)return!0;attributeValues=attributeValue.split(","),$.each(attributeValues,function(i,value){value=$.trim(value).split(" ")[0],allImgs.push({src:value,element:element[0]})})})}):obj.find("img:uncached").each(function(){allImgs.push({src:this.src,element:this})}),allImgsLength=allImgs.length,allImgsLoaded=0,allImgsLength===0&&(finishedCallback.call(obj[0]),deferred.resolveWith(obj[0])),$.each(allImgs,function(i,img){var image=new Image,events="load."+eventNamespace+" error."+eventNamespace;$(image).one(events,function me(event){var eachArguments=[allImgsLoaded,allImgsLength,event.type=="load"];allImgsLoaded++,eachCallback.apply(img.element,eachArguments),deferred.notifyWith(img.element,eachArguments),$(this).off(events,me);if(allImgsLoaded==allImgsLength)return finishedCallback.call(obj[0]),deferred.resolveWith(obj[0]),!1}),image.src=img.src})}),deferred.promise()}}),function($){$.fn.textfill=function(options){function _debug(){if(!Opts.debug||typeof console=="undefined"||typeof console.debug=="undefined")return;console.debug.apply(console,arguments)}function _warn(){if(typeof console=="undefined"||typeof console.warn=="undefined")return;console.warn.apply(console,arguments)}function _debug_sizing(prefix,ourText,maxHeight,maxWidth,minFontPixels,maxFontPixels){function _m(v1,v2){var marker=" / ";return v1>v2?marker=" > ":v1==v2&&(marker=" = "),marker}_debug("[TextFill] "+prefix+" { "+"font-size: "+ourText.css("font-size")+","+"Height: "+ourText.height()+"px "+_m(ourText.height(),maxHeight)+maxHeight+"px,"+"Width: "+ourText.width()+_m(ourText.width(),maxWidth)+maxWidth+","+"minFontPixels: "+minFontPixels+"px, "+"maxFontPixels: "+maxFontPixels+"px }")}function _sizing(prefix,ourText,func,max,maxHeight,maxWidth,minFontPixels,maxFontPixels){_debug_sizing(prefix,ourText,maxHeight,maxWidth,minFontPixels,maxFontPixels);while(minFontPixels<maxFontPixels-1){var fontSize=Math.floor((minFontPixels+maxFontPixels)/2);ourText.css("font-size",fontSize);if(func.call(ourText)<=max){minFontPixels=fontSize;if(func.call(ourText)==max)break}else maxFontPixels=fontSize;_debug_sizing(prefix,ourText,maxHeight,maxWidth,minFontPixels,maxFontPixels)}return ourText.css("font-size",maxFontPixels),func.call(ourText)<=max&&(minFontPixels=maxFontPixels,_debug_sizing(prefix+"* ",ourText,maxHeight,maxWidth,minFontPixels,maxFontPixels)),minFontPixels}var defaults={debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1},Opts=$.extend(defaults,options);return _debug("[TextFill] Start Debug"),this.each(function(){var ourText=$(Opts.innerTag+":visible:first",this),maxHeight=Opts.explicitHeight||$(this).height(),maxWidth=Opts.explicitWidth||$(this).width(),oldFontSize=ourText.css("font-size"),lineHeight=parseFloat(ourText.css("line-height"))/parseFloat(oldFontSize);_debug("[TextFill] Inner text: "+ourText.text()),_debug("[TextFill] All options: ",Opts),_debug("[TextFill] Maximum sizes: { Height: "+maxHeight+"px, "+"Width: "+maxWidth+"px"+" }");var minFontPixels=Opts.minFontPixels,maxFontPixels=Opts.maxFontPixels<=0?maxHeight:Opts.maxFontPixels,fontSizeHeight=undefined;Opts.widthOnly||(fontSizeHeight=_sizing("Height",ourText,$.fn.height,maxHeight,maxHeight,maxWidth,minFontPixels,maxFontPixels));var fontSizeWidth=undefined;fontSizeWidth=_sizing("Width",ourText,$.fn.width,maxWidth,maxHeight,maxWidth,minFontPixels,maxFontPixels);if(Opts.widthOnly)ourText.css({"font-size":fontSizeWidth,"white-space":"nowrap"}),Opts.changeLineHeight&&ourText.parent().css("line-height",lineHeight*fontSizeWidth+"px");else{var fontSizeFinal=Math.min(fontSizeHeight,fontSizeWidth);ourText.css("font-size",fontSizeFinal),Opts.changeLineHeight&&ourText.parent().css("line-height",lineHeight*fontSizeFinal+"px")}_debug("[TextFill] Finished { Old font-size: "+oldFontSize+", "+"New font-size: "+ourText.css("font-size")+" }"),ourText.width()>maxWidth||ourText.height()>maxHeight&&!Opts.widthOnly?(ourText.css("font-size",oldFontSize),Opts.fail&&Opts.fail(this),_debug("[TextFill] Failure { Current Width: "+ourText.width()+", "+"Maximum Width: "+maxWidth+", "+"Current Height: "+ourText.height()+", "+"Maximum Height: "+maxHeight+" }")):Opts.success?Opts.success(this):Opts.callback&&(_warn("callback is deprecated, use success, instead"),Opts.callback(this))}),Opts.complete&&Opts.complete(this),_debug("[TextFill] End Debug"),this}}(window.jQuery),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Share=e()}}(function(){function getStyles(config){}var define,module,exports,ShareUtils;!("classList"in document.documentElement)&&Object.defineProperty&&typeof HTMLElement!="undefined"&&Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var ret,self,update;return update=function(fn){return function(value){var classes,index;classes=self.className.split(/\s+/),index=classes.indexOf(value),fn(classes,index,value),self.className=classes.join(" ")}},self=this,ret={add:update(function(classes,index,value){~index||classes.push(value)}),remove:update(function(classes,index){~index&&classes.splice(index,1)}),toggle:update(function(classes,index,value){~index?classes.splice(index,1):classes.push(value)}),contains:function(value){return!!~self.className.split(/\s+/).indexOf(value)},item:function(i){return self.className.split(/\s+/)[i]||null}},Object.defineProperty(ret,"length",{get:function(){return self.className.split(/\s+/).length}}),ret}}),String.prototype.to_rfc3986=function(){var tmp;return tmp=encodeURIComponent(this),tmp.replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16)})},ShareUtils=function(){function ShareUtils(){}return ShareUtils.prototype.extend=function(to,from,overwrite){var hasProp,prop;for(prop in from){hasProp=to[prop]!==undefined;if(hasProp&&typeof from[prop]=="object")this.extend(to[prop],from[prop],overwrite);else if(overwrite||!hasProp)to[prop]=from[prop]}},ShareUtils.prototype.hide=function(el){return el.style.display="none"},ShareUtils.prototype.show=function(el){return el.style.display="block"},ShareUtils.prototype.has_class=function(el,class_name){return el.classList.contains(class_name)},ShareUtils.prototype.add_class=function(el,class_name){return el.classList.add(class_name)},ShareUtils.prototype.remove_class=function(el,class_name){return el.classList.remove(class_name)},ShareUtils.prototype.is_encoded=function(str){return str=str.to_rfc3986(),decodeURIComponent(str)!==str},ShareUtils.prototype.encode=function(str){return typeof str=="undefined"||this.is_encoded(str)?str:str.to_rfc3986()},ShareUtils.prototype.popup=function(url,params){var k,popup,qs,v;return params==null&&(params={}),popup={width:500,height:350},popup.top=screen.height/2-popup.height/2,popup.left=screen.width/2-popup.width/2,qs=function(){var _results;_results=[];for(k in params)v=params[k],_results.push(""+k+"="+this.encode(v));return _results}.call(this).join("&"),qs&&(qs="?"+qs),window.open(url+qs,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+popup.left+",top="+popup.top+",width="+popup.width+",height="+popup.height)},ShareUtils}();var Share,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};return Share=function(_super){function Share(element,options){return this.element=element,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:["http","https"].indexOf(window.location.href.split(":")[0])===-1?"https://":"//",url:window.location.href.replace("&","%26"),caption:null,title:this.default_title(),image:this.default_image(),description:this.default_description(),ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,title:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},reddit:{enabled:!0,url:null,title:null},linkedin:{enabled:!0,url:null,title:null,description:null},xing:{enabled:!0,url:null,title:null,image:null,description:null},whatsapp:{enabled:!0,description:null,url:null},email:{enabled:!0,title:null,description:null,url:null}}},this.setup(element,options),this}return __extends(Share,_super),Share.prototype.setup=function(element,opts){var index,instance,instances,_i,_len;instances=document.querySelectorAll(element),this.extend(this.config,opts,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.ui.icon_font&&this.inject_icons(),this.config.ui.button_font&&this.inject_fonts(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk();for(index=_i=0,_len=instances.length;_i<_len;index=++_i)instance=instances[index],this.setup_instance(element,index)},Share.prototype.setup_instance=function(element,index){var button,instance,label,network,networks,_i,_len,_results,_this=this;instance=document.querySelectorAll(element)[index],this.hide(instance),this.add_class(instance,"sharer-"+index),instance=document.querySelectorAll(element)[index],this.inject_css(instance),this.inject_html(instance),this.show(instance),label=instance.getElementsByTagName("label")[0],button=instance.getElementsByClassName("social")[0],networks=instance.getElementsByTagName("li"),this.add_class(button,"networks-"+this.config.enabled_networks),label.addEventListener("click",function(){return _this.event_toggle(button)}),_this=this,_results=[];for(index=_i=0,_len=networks.length;_i<_len;index=++_i)network=networks[index],_results.push(network.addEventListener("click",function(){return _this.event_network(instance,this),_this.event_close(button)}));return _results},Share.prototype.event_toggle=function(button){return this.has_class(button,"active")?this.event_close(button):this.event_open(button)},Share.prototype.event_open=function(button){return this.has_class(button,"load")&&this.remove_class(button,"load"),this.add_class(button,"active")},Share.prototype.event_close=function(button){return this.remove_class(button,"active")},Share.prototype.event_network=function(instance,network){var name;return name=network.getAttribute("data-network"),this.hook("before",name,instance),this["network_"+name](),this.hook("after",name,instance)},Share.prototype.open=function(){return this["public"]("open")},Share.prototype.close=function(){return this["public"]("close")},Share.prototype.toggle=function(){return this["public"]("toggle")},Share.prototype["public"]=function(action){var button,index,instance,_i,_len,_ref,_results;_ref=document.querySelectorAll(this.element),_results=[];for(index=_i=0,_len=_ref.length;_i<_len;index=++_i)instance=_ref[index],button=instance.getElementsByClassName("social")[0],_results.push(this["event_"+action](button));return _results},Share.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},Share.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.title,url:this.config.networks.twitter.url})},Share.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},Share.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},Share.prototype.network_linkedin=function(){return this.popup("https://www.linkedin.com/shareArticle",{url:this.config.networks.linkedin.url,title:this.config.networks.linkedin.title,summary:this.config.networks.linkedin.description})},Share.prototype.network_xing=function(){return this.popup("https://www.xing.com/spi/shares/new",{url:this.config.networks.xing.url,image:this.config.networks.xing.image,title:this.config.networks.xing.title,summary:this.config.networks.xing.description})},Share.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.url+"%0A%0A"+this.config.networks.email.description})},Share.prototype.inject_icons=function(){},Share.prototype.inject_fonts=function(){},Share.prototype.inject_stylesheet=function(url){var link;if(!this.el.head.querySelector('link[href="'+url+'"]'))return link=document.createElement("link"),link.setAttribute("rel","stylesheet"),link.setAttribute("href",url),this.el.head.appendChild(link)},Share.prototype.inject_css=function(instance){var css,meta,selector,style;selector="."+instance.getAttribute("class").split(" ").join(".");if(!this.el.head.querySelector("meta[name='sharer"+selector+"']"))return this.config.selector=selector,css=getStyles(this.config),style=document.createElement("style"),style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),this.el.head.appendChild(style),delete this.config.selector,meta=document.createElement("meta"),meta.setAttribute("name","sharer"+selector),this.el.head.appendChild(meta)},Share.prototype.inject_html=function(instance){return instance.innerHTML="<label class='social-export'><span>"+this.config.ui.button_text+"</span></label><div class='social load "+this.config.ui.flyout+"'><ul><li class='social-facebook' data-network='facebook' tabindex='0'></li><li class='social-twitter' data-network='twitter' tabindex='0'></li><li class='social-pinterest' data-network='pinterest' tabindex='0'></li><li class='social-linkedin' data-network='linkedin' tabindex='0'></li><li class='social-xing' data-network='xing' tabindex='0'></li><li class='social-paper-plane' data-network='email' tabindex='0'></li></ul></div>"},Share.prototype.inject_facebook_sdk=function(){var fb_root,script;if(!window.FB&&this.config.networks.facebook.app_id&&!this.el.body.querySelector("#fb-root"))return script=document.createElement("script"),script.text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",fb_root=document.createElement("div"),fb_root.id="fb-root",this.el.body.appendChild(fb_root),this.el.body.appendChild(script)},Share.prototype.hook=function(type,network,instance){var fn,opts;fn=this.config.networks[network][type],typeof fn=="function"&&(opts=fn.call(this.config.networks[network],instance),opts!==void 0&&(opts=this.normalize_filter_config_updates(opts),this.extend(this.config.networks[network],opts,!0),this.normalize_network_configuration()))},Share.prototype.default_title=function(){var content;if(content=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))return encodeURIComponent(content.getAttribute("content"));if(content=document.querySelector("title"))return encodeURIComponent(content.innerText)},Share.prototype.default_image=function(){var content;if(content=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))return content.getAttribute("content")},Share.prototype.default_description=function(){var content;return(content=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?encodeURIComponent(content.getAttribute("content")):""},Share.prototype.set_global_configuration=function(){var display,network,option,options,_ref,_results;_ref=this.config.networks,_results=[];for(network in _ref){options=_ref[network];for(option in options)this.config.networks[network][option]==null&&(this.config.networks[network][option]=this.config[option]);this.config.networks[network].enabled?(display="block",this.config.enabled_networks+=1):display="none",_results.push(this.config.networks[network].display=display)}return _results},Share.prototype.normalize_network_configuration=function(){this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description));if(typeof this.config.networks.facebook.app_id=="number")return this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString()},Share.prototype.normalize_filter_config_updates=function(opts){return this.config.networks.facebook.app_id!==opts.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please-in-out update your Facebook filters accordingly."),delete opts.app_id),this.config.networks.facebook.load_sdk!==opts.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please-in-out update your Facebook filters accordingly."),delete opts.app_id),opts},Share}(ShareUtils),Share}),function(){var $,win;$=this.jQuery||window.jQuery,win=$(window),$.fn.stick_in_parent=function(opts){var doc,elm,enable_bottoming,fn,i,inner_scrolling,len,manual_spacer,offset_top,outer_width,parent_selector,recalc_every,sticky_class;opts==null&&(opts={}),sticky_class=opts.sticky_class,inner_scrolling=opts.inner_scrolling,recalc_every=opts.recalc_every,parent_selector=opts.parent,offset_top=opts.offset_top,manual_spacer=opts.spacer,enable_bottoming=opts.bottoming,offset_top==null&&(offset_top=0),parent_selector==null&&(parent_selector=void 0),inner_scrolling==null&&(inner_scrolling=!0),sticky_class==null&&(sticky_class="is_stuck"),doc=$(document),enable_bottoming==null&&(enable_bottoming=!0),outer_width=function(el){var _el,computed,w;return window.getComputedStyle?(_el=el[0],computed=window.getComputedStyle(el[0]),w=parseFloat(computed.getPropertyValue("width"))+parseFloat(computed.getPropertyValue("margin-left"))+parseFloat(computed.getPropertyValue("margin-right")),computed.getPropertyValue("box-sizing")!=="border-box"&&(w+=parseFloat(computed.getPropertyValue("border-left-width"))+parseFloat(computed.getPropertyValue("border-right-width"))+parseFloat(computed.getPropertyValue("padding-left"))+parseFloat(computed.getPropertyValue("padding-right"))),w):el.outerWidth(!0)},fn=function(elm,padding_bottom,parent_top,parent_height,top,height,el_float,detached){var bottomed,detach,fixed,last_pos,last_scroll_height,offset,parent,recalc,recalc_and_tick,recalc_counter,spacer,tick;if(elm.data("sticky_kit"))return;elm.data("sticky_kit",!0),last_scroll_height=doc.height(),parent=elm.parent(),parent_selector!=null&&(parent=parent.closest(parent_selector));if(!parent.length)throw"failed to find stick parent";fixed=!1,bottomed=!1,spacer=manual_spacer!=null?manual_spacer&&elm.closest(manual_spacer):$("<div />"),spacer&&spacer.css("position",elm.css("position")),recalc=function(){var border_top,padding_top,restore;if(detached)return;last_scroll_height=doc.height(),border_top=parseInt(parent.css("border-top-width"),10),padding_top=parseInt(parent.css("padding-top"),10),padding_bottom=parseInt(parent.css("padding-bottom"),10),parent_top=parent.offset().top+border_top+padding_top,parent_height=parent.height(),fixed&&(fixed=!1,bottomed=!1,manual_spacer==null&&(elm.insertAfter(spacer),spacer.detach()),elm.css({position:"",top:"",width:"",bottom:""}).removeClass(sticky_class),restore=!0),top=elm.offset().top-(parseInt(elm.css("margin-top"),10)||0)-offset_top,height=elm.outerHeight(!0),el_float=elm.css("float"),spacer&&spacer.css({width:outer_width(elm),height:height,display:elm.css("display"),"vertical-align":elm.css("vertical-align"),"float":el_float});if(restore)return tick()},recalc();if(height===parent_height)return;return last_pos=void 0,offset=offset_top,recalc_counter=recalc_every,tick=function(){var css,delta,recalced,scroll,will_bottom,win_height;if(detached)return;recalced=!1,recalc_counter!=null&&(recalc_counter-=1,recalc_counter<=0&&(recalc_counter=recalc_every,recalc(),recalced=!0)),!recalced&&doc.height()!==last_scroll_height&&(recalc(),recalced=!0),scroll=win.scrollTop(),last_pos!=null&&(delta=scroll-last_pos),last_pos=scroll,fixed?(enable_bottoming&&(will_bottom=scroll+height+offset>parent_height+parent_top,bottomed&&!will_bottom&&(bottomed=!1,elm.css({position:"fixed",bottom:"",top:offset}).trigger("sticky_kit:unbottom"))),scroll<top&&(fixed=!1,offset=offset_top,manual_spacer==null&&((el_float==="left"||el_float==="right")&&elm.insertAfter(spacer),spacer.detach()),css={position:"",width:"",top:""},elm.css(css).removeClass(sticky_class).trigger("sticky_kit:unstick")),inner_scrolling&&(win_height=win.height(),height+offset_top>win_height&&(bottomed||(offset-=delta,offset=Math.max(win_height-height,offset),offset=Math.min(offset_top,offset),fixed&&elm.css({top:offset+"px"}))))):scroll>top&&(fixed=!0,css={position:"fixed",top:offset},css.width=elm.css("box-sizing")==="border-box"?elm.outerWidth()+"px":elm.width()+"px",elm.css(css).addClass(sticky_class),manual_spacer==null&&(elm.after(spacer),(el_float==="left"||el_float==="right")&&spacer.append(elm)),elm.trigger("sticky_kit:stick"));if(fixed&&enable_bottoming){will_bottom==null&&(will_bottom=scroll+height+offset>parent_height+parent_top);if(!bottomed&&will_bottom)return bottomed=!0,parent.css("position")==="static"&&parent.css({position:"relative"}),elm.css({position:"absolute",bottom:padding_bottom,top:"auto"}).trigger("sticky_kit:bottom")}},recalc_and_tick=function(){return recalc(),tick()},detach=function(){detached=!0,win.off("touchmove",tick),win.off("scroll",tick),win.off("resize",recalc_and_tick),$(document.body).off("sticky_kit:recalc",recalc_and_tick),elm.off("sticky_kit:detach",detach),elm.removeData("sticky_kit"),elm.css({position:"",bottom:"",top:"",width:""}),parent.position("position","");if(fixed)return manual_spacer==null&&((el_float==="left"||el_float==="right")&&elm.insertAfter(spacer),spacer.remove()),elm.removeClass(sticky_class)},win.on("touchmove",tick),win.on("scroll",tick),win.on("resize",recalc_and_tick),$(document.body).on("sticky_kit:recalc",recalc_and_tick),elm.on("sticky_kit:detach",detach),setTimeout(tick,0)};for(i=0,len=this.length;i<len;i++)elm=this[i],fn($(elm));return this}}.call(this),BootstrapTabHistory={options:{defaultAnchorYOffset:0,defaultChanger:"replace",defaultUpdateURL:!1,showTabsBasedOnAnchor:!0}},function(){"use strict";function backfillHistoryState(){var newState=null;jQuery("li.active > [data-tab-history], .panel-title.active [data-tab-history]").each(function(){var $activeTabElement=jQuery(this),selector=getTabSelector($activeTabElement);if(selector){var tabGroup=getTabGroup($activeTabElement);tabGroup&&(newState=createNewHistoryState(newState||history.state,tabGroup,selector))}}),newState&&history.replaceState(newState,"",null)}function createNewHistoryState(existingState,tabGroup,selector){var newState=jQuery.extend(!0,{},existingState,{bootstrapTabHistory:{}});return newState.bootstrapTabHistory[tabGroup]=selector,newState}function getTabGroup($tab){return parseTruthyAttributeValue($tab.data("tab-history"))}function getTabSelector($tab){return $tab.data("target")||$tab.attr("href")}function onShownTab(shownEvt){if(!showingTabsBasedOnState){var $activatedTab=jQuery(shownEvt.target);$activatedTab.hasClass("panel-collapse")&&($activatedTab=$activatedTab.closest(".panel").find("a"));var selector=getTabSelector($activatedTab);if(selector){var tabGroup=getTabGroup($activatedTab);if(tabGroup){var historyChanger=$activatedTab.data("tab-history-changer")||BootstrapTabHistory.options.defaultChanger,newState=createNewHistoryState(history.state,tabGroup,selector),updateURL=function($activatedTab){if(selector[0]==="#"){var elementUpdateURLOption=parseTruthyAttributeValue($activatedTab.data("tab-history-update-url"));return elementUpdateURLOption===undefined?BootstrapTabHistory.options.defaultUpdateURL:elementUpdateURLOption}return!1}($activatedTab);switch(historyChanger){case"push":history.pushState(newState,"",updateURL?selector:null);break;case"replace":history.replaceState(newState,"",updateURL?selector:null);break;default:throw new Error("Unknown tab-history-changer: "+historyChanger)}}}}}function onPopState(){var bootstrapTabHistory=history.state&&history.state.bootstrapTabHistory;bootstrapTabHistory&&showTabsBasedOnState(bootstrapTabHistory)}function parseTruthyAttributeValue(value){return value?value:value===""?!0:value}function showTabsBasedOnAnchor(){if(BootstrapTabHistory.options.showTabsBasedOnAnchor){var anchor=window.location&&window.location.hash;if(anchor){var $tabElement=showTabForSelector(anchor);if($tabElement&&window.addEventListener&&window.removeEventListener){var anchorYOffset=function($tabElement){var elementSetting=$tabElement.data("tab-history-anchor-y-offset");return elementSetting===undefined?BootstrapTabHistory.options.defaultAnchorYOffset:elementSetting}($tabElement);if(anchorYOffset||anchorYOffset===0){var scrollListener=function resetAnchorScroll(){window.removeEventListener("scroll",scrollListener),window.scrollTo(0,anchorYOffset)};window.addEventListener("scroll",scrollListener)}}}}}function showTabForSelector(selector){var $tabElement=function(selector){var $ret=null;return jQuery('[data-toggle="tab"], [data-toggle="pill"], [data-toggle="collapse"]').each(function(){var $potentialTab=jQuery(this);return $potentialTab.attr("href")!==selector&&$potentialTab.data("target")!==selector||!getTabGroup($potentialTab)?null:($ret=$potentialTab,!1)}),$ret}(selector);return $tabElement&&$tabElement.trigger("click"),$tabElement}function showTabsBasedOnState(bootstrapTabHistory){showingTabsBasedOnState=!0;try{for(var k in bootstrapTabHistory)bootstrapTabHistory.hasOwnProperty(k)&&showTabForSelector(bootstrapTabHistory[k])}finally{showingTabsBasedOnState=!1}}jQuery(function(){if(history&&history.pushState&&history.replaceState){var bootstrapTabHistory=history.state&&history.state.bootstrapTabHistory;bootstrapTabHistory?showTabsBasedOnState(bootstrapTabHistory):showTabsBasedOnAnchor(),backfillHistoryState(),jQuery(document).on("shown.bs.tab show.bs.collapse",onShownTab),jQuery(window).on("popstate",onPopState)}else showTabsBasedOnAnchor()});var showingTabsBasedOnState=!1}(),function($){function hasScrollBar(){return $("body").height()>$(window).height()}var JustifiedGallery=function($gallery,settings){this.settings=settings,this.checkSettings(),this.imgAnalyzerTimeout=null,this.entries=null,this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0},this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.yield={every:2,flushed:0},this.border=settings.border>=0?settings.border:settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges(),this.offY=this.border,this.rows=0,this.spinner={phase:0,timeSlot:150,$el:$('<div class="spinner"><span></span><span></span><span></span></div>'),intervalId:null},this.checkWidthIntervalId=null,this.galleryWidth=$gallery.width(),this.$gallery=$gallery};JustifiedGallery.prototype.getSuffix=function(width,height){var longestSide,i;longestSide=width>height?width:height;for(i=0;i<this.suffixRanges.length;i++)if(longestSide<=this.suffixRanges[i])return this.settings.sizeRangeSuffixes[this.suffixRanges[i]];return this.settings.sizeRangeSuffixes[this.suffixRanges[i-1]]},JustifiedGallery.prototype.removeSuffix=function(str,suffix){return str.substring(0,str.length-suffix.length)},JustifiedGallery.prototype.endsWith=function(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1},JustifiedGallery.prototype.getUsedSuffix=function(str){for(var si in this.settings.sizeRangeSuffixes)if(this.settings.sizeRangeSuffixes.hasOwnProperty(si)){if(this.settings.sizeRangeSuffixes[si].length===0)continue;if(this.endsWith(str,this.settings.sizeRangeSuffixes[si]))return this.settings.sizeRangeSuffixes[si]}return""},JustifiedGallery.prototype.newSrc=function(imageSrc,imgWidth,imgHeight,image){var newImageSrc;if(this.settings.thumbnailPath)newImageSrc=this.settings.thumbnailPath(imageSrc,imgWidth,imgHeight,image);else{var matchRes=imageSrc.match(this.settings.extension),ext=matchRes!==null?matchRes[0]:"";newImageSrc=imageSrc.replace(this.settings.extension,""),newImageSrc=this.removeSuffix(newImageSrc,this.getUsedSuffix(newImageSrc)),newImageSrc+=this.getSuffix(imgWidth,imgHeight)+ext}return newImageSrc},JustifiedGallery.prototype.showImg=function($entry,callback){this.settings.cssAnimation?($entry.addClass("entry-visible"),callback&&callback()):($entry.stop().fadeTo(this.settings.imagesAnimationDuration,1,callback),$entry.find("> img, > a > img").stop().fadeTo(this.settings.imagesAnimationDuration,1,callback))},JustifiedGallery.prototype.extractImgSrcFromImage=function($image){var imageSrc=typeof $image.data("safe-src")!="undefined"?$image.data("safe-src"):$image.attr("src");return $image.data("jg.originalSrc",imageSrc),imageSrc},JustifiedGallery.prototype.imgFromEntry=function($entry){var $img=$entry.find("> img");return $img.length===0&&($img=$entry.find("> a > img")),$img.length===0&&($img=$entry.find(".t-entry-visual-cont img")),$img.length===0?null:$img},JustifiedGallery.prototype.captionFromEntry=function($entry){var $caption=$entry.find("> .caption");return $caption.length===0?null:$caption},JustifiedGallery.prototype.displayEntry=function($entry,x,y,imgWidth,imgHeight,rowHeight){$entry.width(imgWidth),$entry.height(Math.floor(rowHeight)),$entry.css("top",Math.floor(y)),$entry.css("left",x);var $image=this.imgFromEntry($entry);if($image!==null){$image.css("width",imgWidth),$image.css("height",imgHeight),$image.css("margin-left",-imgWidth/2),$image.css("margin-top",-imgHeight/2);var imageSrc=$image.attr("src"),newImageSrc=this.newSrc(imageSrc,imgWidth,imgHeight,$image[0]);$image.one("error",function(){$image.attr("src",$image.data("jg.originalSrc"))});var loadNewImage=function(){imageSrc!==newImageSrc&&$image.attr("src",newImageSrc)};$entry.data("jg.loaded")==="skipped"?this.onImageEvent(imageSrc,$.proxy(function(){this.showImg($entry,loadNewImage),$entry.data("jg.loaded",!0)},this)):this.showImg($entry,loadNewImage)}else this.showImg($entry);this.displayEntryCaption($entry)},JustifiedGallery.prototype.displayEntryCaption=function($entry){var $image=this.imgFromEntry($entry);if($image!==null&&this.settings.captions){var $imgCaption=this.captionFromEntry($entry);if($imgCaption===null){var caption=$image.attr("alt");this.isValidCaption(caption)||(caption=$entry.attr("title")),this.isValidCaption(caption)&&($imgCaption=$('<div class="caption">'+caption+"</div>"),$entry.append($imgCaption),$entry.data("jg.createdCaption",!0))}$imgCaption!==null&&(this.settings.cssAnimation||$imgCaption.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),this.addCaptionEventsHandlers($entry))}else this.removeCaptionEventsHandlers($entry)},JustifiedGallery.prototype.isValidCaption=function(caption){return typeof caption!="undefined"&&caption.length>0},JustifiedGallery.prototype.onEntryMouseEnterForCaption=function(eventObject){var $caption=this.captionFromEntry($(eventObject.currentTarget));this.settings.cssAnimation?$caption.addClass("caption-visible").removeClass("caption-hidden"):$caption.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity)},JustifiedGallery.prototype.onEntryMouseLeaveForCaption=function(eventObject){var $caption=this.captionFromEntry($(eventObject.currentTarget));this.settings.cssAnimation?$caption.removeClass("caption-visible").removeClass("caption-hidden"):$caption.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity)},JustifiedGallery.prototype.addCaptionEventsHandlers=function($entry){var captionMouseEvents=$entry.data("jg.captionMouseEvents");typeof captionMouseEvents=="undefined"&&(captionMouseEvents={mouseenter:$.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:$.proxy(this.onEntryMouseLeaveForCaption,this)},$entry.on("mouseenter",undefined,undefined,captionMouseEvents.mouseenter),$entry.on("mouseleave",undefined,undefined,captionMouseEvents.mouseleave),$entry.data("jg.captionMouseEvents",captionMouseEvents))},JustifiedGallery.prototype.removeCaptionEventsHandlers=function($entry){var captionMouseEvents=$entry.data("jg.captionMouseEvents");typeof captionMouseEvents!="undefined"&&($entry.off("mouseenter",undefined,captionMouseEvents.mouseenter),$entry.off("mouseleave",undefined,captionMouseEvents.mouseleave),$entry.removeData("jg.captionMouseEvents"))},JustifiedGallery.prototype.prepareBuildingRow=function(isLastRow){var i,$entry,imgAspectRatio,newImgW,newImgH,justify=!0,minHeight=0,availableWidth=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,rowHeight=Math.floor(availableWidth/this.buildingRow.aspectRatio),defaultRowHeight=this.settings.rowHeight,justifiable=this.buildingRow.width/availableWidth>this.settings.justifyThreshold;if(isLastRow&&this.settings.lastRow==="hide"&&!justifiable){for(i=0;i<this.buildingRow.entriesBuff.length;i++)$entry=this.buildingRow.entriesBuff[i],this.settings.cssAnimation?$entry.removeClass("entry-visible"):($entry.stop().fadeTo(0,.1),$entry.find("> img, > a > img").fadeTo(0,0));return-1}isLastRow&&!justifiable&&this.settings.lastRow!=="justify"&&this.settings.lastRow!=="hide"&&(justify=!1,this.rows>0&&(defaultRowHeight=(this.offY-this.border-this.settings.margins*this.rows)/this.rows,justify=defaultRowHeight*this.buildingRow.aspectRatio/availableWidth>this.settings.justifyThreshold));for(i=0;i<this.buildingRow.entriesBuff.length;i++){$entry=this.buildingRow.entriesBuff[i],imgAspectRatio=$entry.data("jg.width")/$entry.data("jg.height"),justify?(newImgW=i===this.buildingRow.entriesBuff.length-1?availableWidth:rowHeight*imgAspectRatio,newImgH=rowHeight):(newImgW=defaultRowHeight*imgAspectRatio,newImgH=defaultRowHeight),availableWidth-=Math.round(newImgW),$entry.data("jg.jwidth",Math.round(newImgW)),$entry.data("jg.jheight",Math.ceil(newImgH));if(i===0||minHeight>newImgH)minHeight=newImgH}return this.buildingRow.height=minHeight,justify},JustifiedGallery.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[],this.buildingRow.aspectRatio=0,this.buildingRow.width=0},JustifiedGallery.prototype.flushRow=function(isLastRow){var settings=this.settings,$entry,buildingRowRes,offX=this.border,i;buildingRowRes=this.prepareBuildingRow(isLastRow);if(isLastRow&&settings.lastRow==="hide"&&buildingRowRes===-1){this.clearBuildingRow();return}this.maxRowHeight&&(this.maxRowHeight.isPercentage&&this.maxRowHeight.value*settings.rowHeight<this.buildingRow.height?this.buildingRow.height=this.maxRowHeight.value*settings.rowHeight:this.maxRowHeight.value>=settings.rowHeight&&this.maxRowHeight.value<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight.value));if(settings.lastRow==="center"||settings.lastRow==="right"){var availableWidth=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*settings.margins;for(i=0;i<this.buildingRow.entriesBuff.length;i++)$entry=this.buildingRow.entriesBuff[i],availableWidth-=$entry.data("jg.jwidth");settings.lastRow==="center"?offX+=availableWidth/2:settings.lastRow==="right"&&(offX+=availableWidth)}for(i=0;i<this.buildingRow.entriesBuff.length;i++)$entry=this.buildingRow.entriesBuff[i],this.displayEntry($entry,offX,this.offY,$entry.data("jg.jwidth"),$entry.data("jg.jheight"),this.buildingRow.height),offX+=$entry.data("jg.jwidth")+settings.margins;this.galleryHeightToSet=this.offY+this.buildingRow.height+this.border,this.$gallery.height(this.galleryHeightToSet+this.getSpinnerHeight());if(!isLastRow||this.buildingRow.height<=settings.rowHeight&&buildingRowRes)this.offY+=this.buildingRow.height+settings.margins,this.rows+=1,this.clearBuildingRow(),this.$gallery.trigger("jg.rowflush")};var scrollBarOn=!1;JustifiedGallery.prototype.checkWidth=function(){this.checkWidthIntervalId=setInterval($.proxy(function(){var galleryWidth=parseFloat(this.$gallery.width());hasScrollBar()===scrollBarOn?Math.abs(galleryWidth-this.galleryWidth)>this.settings.refreshSensitivity&&(this.galleryWidth=galleryWidth,this.rewind(),this.startImgAnalyzer(!0)):(scrollBarOn=hasScrollBar(),this.galleryWidth=galleryWidth)},this),this.settings.refreshTime)},JustifiedGallery.prototype.isSpinnerActive=function(){return this.spinner.intervalId!==null},JustifiedGallery.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight()},JustifiedGallery.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId),this.spinner.intervalId=null,this.$gallery.height(this.$gallery.height()-this.getSpinnerHeight()),this.spinner.$el.detach()},JustifiedGallery.prototype.startLoadingSpinnerAnimation=function(){var spinnerContext=this.spinner,$spinnerPoints=spinnerContext.$el.find("span");clearInterval(spinnerContext.intervalId),this.$gallery.append(spinnerContext.$el),this.$gallery.height(this.offY+this.buildingRow.height+this.getSpinnerHeight()),spinnerContext.intervalId=setInterval(function(){spinnerContext.phase<$spinnerPoints.length?$spinnerPoints.eq(spinnerContext.phase).fadeTo(spinnerContext.timeSlot,1):$spinnerPoints.eq(spinnerContext.phase-$spinnerPoints.length).fadeTo(spinnerContext.timeSlot,0),spinnerContext.phase=(spinnerContext.phase+1)%($spinnerPoints.length*2)},spinnerContext.timeSlot)},JustifiedGallery.prototype.rewind=function(){this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.offY=this.border,this.rows=0,this.clearBuildingRow()},JustifiedGallery.prototype.updateEntries=function(norewind){var newEntries;return norewind&&this.lastFetchedEntry!=null?newEntries=$(this.lastFetchedEntry).nextAll(this.settings.selector).toArray():(this.entries=[],newEntries=this.$gallery.children(this.settings.selector).toArray()),newEntries.length>0&&($.isFunction(this.settings.sort)?newEntries=this.sortArray(newEntries):this.settings.randomize&&(newEntries=this.shuffleArray(newEntries)),this.lastFetchedEntry=newEntries[newEntries.length-1],this.settings.filter?newEntries=this.filterArray(newEntries):this.resetFilters(newEntries)),this.entries=this.entries.concat(newEntries),!0},JustifiedGallery.prototype.insertToGallery=function(entries){var that=this;$.each(entries,function(){$(this).appendTo(that.$gallery)})},JustifiedGallery.prototype.shuffleArray=function(a){var i,j,temp;for(i=a.length-1;i>0;i--)j=Math.floor(Math.random()*(i+1)),temp=a[i],a[i]=a[j],a[j]=temp;return this.insertToGallery(a),a},JustifiedGallery.prototype.sortArray=function(a){return a.sort(this.settings.sort),this.insertToGallery(a),a},JustifiedGallery.prototype.resetFilters=function(a){for(var i=0;i<a.length;i++)$(a[i]).removeClass("jg-filtered")},JustifiedGallery.prototype.filterArray=function(a){var settings=this.settings;if($.type(settings.filter)==="string")return a.filter(function(el){var $el=$(el);return $el.is(settings.filter)?($el.removeClass("jg-filtered"),!0):($el.addClass("jg-filtered").removeClass("jg-visible"),!1)});if($.isFunction(settings.filter)){var filteredArr=a.filter(settings.filter);for(var i=0;i<a.length;i++)filteredArr.indexOf(a[i])==-1?$(a[i]).addClass("jg-filtered").removeClass("jg-visible"):$(a[i]).removeClass("jg-filtered");return filteredArr}},JustifiedGallery.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId),$.each(this.entries,$.proxy(function(_,entry){var $entry=$(entry);$entry.css("width",""),$entry.css("height",""),$entry.css("top",""),$entry.css("left",""),$entry.data("jg.loaded",undefined),$entry.removeClass("jg-entry");var $img=this.imgFromEntry($entry);$img.css("width",""),$img.css("height",""),$img.css("margin-left",""),$img.css("margin-top",""),$img.attr("src",$img.data("jg.originalSrc")),$img.data("jg.originalSrc",undefined),this.removeCaptionEventsHandlers($entry);var $caption=this.captionFromEntry($entry);$entry.data("jg.createdCaption")?($entry.data("jg.createdCaption",undefined),$caption!==null&&$caption.remove()):$caption!==null&&$caption.fadeTo(0,1)},this)),this.$gallery.css("height",""),this.$gallery.removeClass("justified-gallery"),this.$gallery.data("jg.controller",undefined)},JustifiedGallery.prototype.analyzeImages=function(isForResize){for(var i=this.lastAnalyzedIndex+1;i<this.entries.length;i++){var $entry=$(this.entries[i]);if($entry.data("jg.loaded")===!0||$entry.data("jg.loaded")==="skipped"){var availableWidth=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,imgAspectRatio=$entry.data("jg.width")/$entry.data("jg.height");if(availableWidth/(this.buildingRow.aspectRatio+imgAspectRatio)<this.settings.rowHeight){this.flushRow(!1);if(++this.yield.flushed>=this.yield.every){this.startImgAnalyzer(isForResize);return}}this.buildingRow.entriesBuff.push($entry),this.buildingRow.aspectRatio+=imgAspectRatio,this.buildingRow.width+=imgAspectRatio*this.settings.rowHeight,this.lastAnalyzedIndex=i}else if($entry.data("jg.loaded")!=="error")return}this.buildingRow.entriesBuff.length>0&&this.flushRow(!0),this.isSpinnerActive()&&this.stopLoadingSpinnerAnimation(),this.stopImgAnalyzerStarter(),this.$gallery.trigger(isForResize?"jg.resize":"jg.complete"),this.$gallery.height(this.galleryHeightToSet)},JustifiedGallery.prototype.stopImgAnalyzerStarter=function(){this.yield.flushed=0,this.imgAnalyzerTimeout!==null&&clearTimeout(this.imgAnalyzerTimeout)},JustifiedGallery.prototype.startImgAnalyzer=function(isForResize){var that=this;this.stopImgAnalyzerStarter(),this.imgAnalyzerTimeout=setTimeout(function(){that.analyzeImages(isForResize)},.001)},JustifiedGallery.prototype.onImageEvent=function(imageSrc,onLoad,onError){if(!onLoad&&!onError)return;var memImage=new Image,$memImage=$(memImage);onLoad&&$memImage.one("load",function(){$memImage.off("load error"),onLoad(memImage)}),onError&&$memImage.one("error",function(){$memImage.off("load error"),onError(memImage)}),memImage.src=imageSrc},JustifiedGallery.prototype.init=function(){var imagesToLoad=!1,skippedImages=!1,that=this;$.each(this.entries,function(index,entry){var $entry=$(entry),$image=that.imgFromEntry($entry);$entry.addClass("jg-entry");if($entry.data("jg.loaded")!==!0&&$entry.data("jg.loaded")!=="skipped"){that.settings.rel!==null&&$entry.attr("rel",that.settings.rel),that.settings.target!==null&&$entry.attr("target",that.settings.target);if($image!==null){var imageSrc=that.extractImgSrcFromImage($image);$image.attr("src",imageSrc);if(that.settings.waitThumbnailsLoad===!1){var width=parseFloat($image.attr("width")),height=parseFloat($image.attr("height"));if(!isNaN(width)&&!isNaN(height))return $entry.data("jg.width",width),$entry.data("jg.height",height),$entry.data("jg.loaded","skipped"),skippedImages=!0,that.startImgAnalyzer(!1),!0}$entry.data("jg.loaded",!1),imagesToLoad=!0,that.isSpinnerActive()||that.startLoadingSpinnerAnimation(),that.onImageEvent(imageSrc,function(loadImg){$entry.data("jg.width",loadImg.width),$entry.data("jg.height",loadImg.height),$entry.data("jg.loaded",!0),that.startImgAnalyzer(!1)},function(){$entry.data("jg.loaded","error"),that.startImgAnalyzer(!1)})}else $entry.data("jg.loaded",!0),$entry.data("jg.width",$entry.width()|parseFloat($entry.css("width"))|1),$entry.data("jg.height",$entry.height()|parseFloat($entry.css("height"))|1)}}),!imagesToLoad&&!skippedImages&&this.startImgAnalyzer(!1),this.checkWidth()},JustifiedGallery.prototype.checkOrConvertNumber=function(settingContainer,settingName){$.type(settingContainer[settingName])==="string"&&(settingContainer[settingName]=parseFloat(settingContainer[settingName]));if($.type(settingContainer[settingName])!=="number")throw settingName+" must be a number";if(isNaN(settingContainer[settingName]))throw"invalid number for "+settingName},JustifiedGallery.prototype.checkSizeRangesSuffixes=function(){if($.type(this.settings.sizeRangeSuffixes)!=="object")throw"sizeRangeSuffixes must be defined and must be an object";var suffixRanges=[];for(var rangeIdx in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(rangeIdx)&&suffixRanges.push(rangeIdx);var newSizeRngSuffixes={0:""};for(var i=0;i<suffixRanges.length;i++)if($.type(suffixRanges[i])==="string")try{var numIdx=parseInt(suffixRanges[i].replace(/^[a-z]+/,""),10);newSizeRngSuffixes[numIdx]=this.settings.sizeRangeSuffixes[suffixRanges[i]]}catch(e){throw"sizeRangeSuffixes keys must contains correct numbers ("+e+")"}else newSizeRngSuffixes[suffixRanges[i]]=this.settings.sizeRangeSuffixes[suffixRanges[i]];this.settings.sizeRangeSuffixes=newSizeRngSuffixes},JustifiedGallery.prototype.retrieveMaxRowHeight=function(){var newMaxRowHeight={};if($.type(this.settings.maxRowHeight)==="string")this.settings.maxRowHeight.match(/^[0-9]+%$/)?(newMaxRowHeight.value=parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100,newMaxRowHeight.isPercentage=!1):(newMaxRowHeight.value=parseFloat(this.settings.maxRowHeight),newMaxRowHeight.isPercentage=!0);else{if($.type(this.settings.maxRowHeight)!=="number"){if(this.settings.maxRowHeight===!1||this.settings.maxRowHeight===null||typeof this.settings.maxRowHeight=="undefined")return null;throw"maxRowHeight must be a number or a percentage"}newMaxRowHeight.value=this.settings.maxRowHeight,newMaxRowHeight.isPercentage=!1}if(isNaN(newMaxRowHeight.value))throw"invalid number for maxRowHeight";return newMaxRowHeight.isPercentage&&newMaxRowHeight.value<100&&(newMaxRowHeight.value=100),newMaxRowHeight},JustifiedGallery.prototype.checkSettings=function(){this.checkSizeRangesSuffixes(),this.checkOrConvertNumber(this.settings,"rowHeight"),this.checkOrConvertNumber(this.settings,"margins"),this.checkOrConvertNumber(this.settings,"border");var lastRowModes=["justify","nojustify","left","center","right","hide"];if(lastRowModes.indexOf(this.settings.lastRow)===-1)throw"lastRow must be one of: "+lastRowModes.join(", ");this.checkOrConvertNumber(this.settings,"justifyThreshold");if(this.settings.justifyThreshold<0||this.settings.justifyThreshold>1)throw"justifyThreshold must be in the interval [0,1]";if($.type(this.settings.cssAnimation)!=="boolean")throw"cssAnimation must be a boolean";if($.type(this.settings.captions)!=="boolean")throw"captions must be a boolean";this.checkOrConvertNumber(this.settings.captionSettings,"animationDuration"),this.checkOrConvertNumber(this.settings.captionSettings,"visibleOpacity");if(this.settings.captionSettings.visibleOpacity<0||this.settings.captionSettings.visibleOpacity>1)throw"captionSettings.visibleOpacity must be in the interval [0, 1]";this.checkOrConvertNumber(this.settings.captionSettings,"nonVisibleOpacity");if(this.settings.captionSettings.nonVisibleOpacity<0||this.settings.captionSettings.nonVisibleOpacity>1)throw"captionSettings.nonVisibleOpacity must be in the interval [0, 1]";this.checkOrConvertNumber(this.settings,"imagesAnimationDuration"),this.checkOrConvertNumber(this.settings,"refreshTime"),this.checkOrConvertNumber(this.settings,"refreshSensitivity");if($.type(this.settings.randomize)!=="boolean")throw"randomize must be a boolean";if($.type(this.settings.selector)!=="string")throw"selector must be a string";if(this.settings.sort!==!1&&!$.isFunction(this.settings.sort))throw"sort must be false or a comparison function";if(this.settings.filter!==!1&&!$.isFunction(this.settings.filter)&&$.type(this.settings.filter)!=="string")throw"filter must be false, a string or a filter function"},JustifiedGallery.prototype.retrieveSuffixRanges=function(){var suffixRanges=[];for(var rangeIdx in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(rangeIdx)&&suffixRanges.push(parseInt(rangeIdx,10));return suffixRanges.sort(function(a,b){return a>b?1:a<b?-1:0}),suffixRanges},JustifiedGallery.prototype.updateSettings=function(newSettings){this.settings=$.extend({},this.settings,newSettings),this.checkSettings(),this.border=this.settings.border>=0?this.settings.border:this.settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges()},$.fn.justifiedGallery=function(arg){return this.each(function(index,gallery){var $gallery=$(gallery);$gallery.addClass("justified-gallery");var controller=$gallery.data("jg.controller");if(typeof controller=="undefined"){if(typeof arg!="undefined"&&arg!==null&&$.type(arg)!=="object"){if(arg==="destroy")return;throw"The argument must be an object"}controller=new JustifiedGallery($gallery,$.extend({},$.fn.justifiedGallery.defaults,arg)),$gallery.data("jg.controller",controller)}else if(arg!=="norewind"){if(arg==="destroy"){controller.destroy();return}controller.updateSettings(arg),controller.rewind()}if(!controller.updateEntries(arg==="norewind"))return;controller.init()})},$.fn.justifiedGallery.defaults={sizeRangeSuffixes:{},thumbnailPath:undefined,rowHeight:120,maxRowHeight:!1,margins:1,border:-1,lastRow:"nojustify",justifyThreshold:.9,waitThumbnailsLoad:!0,captions:!0,cssAnimation:!0,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:.7,nonVisibleOpacity:0},rel:null,target:null,extension:/\.[^.\\/]+$/,refreshTime:200,refreshSensitivity:0,randomize:!1,sort:!1,filter:!1,selector:"a, div:not(.spinner)"}}(jQuery),function(window,document,Math){function IScroll(el,options){this.wrapper=typeof el=="string"?document.querySelector(el):el,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!utils.hasPointer,disableTouch:utils.hasPointer||!utils.hasTouch,disableMouse:utils.hasPointer||utils.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:typeof window.onmousedown=="undefined"};for(var i in options)this.options[i]=options[i];this.translateZ=this.options.HWCompositing&&utils.hasPerspective?" translateZ(0)":"",this.options.useTransition=utils.hasTransition&&this.options.useTransition,this.options.useTransform=utils.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?utils.ease[this.options.bounceEasing]||utils.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),!this.options.useTransition&&!this.options.useTransform&&(/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative")),this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function createDefaultScrollbar(direction,interactive,type){var scrollbar=document.createElement("div"),indicator=document.createElement("div");return type===!0&&(scrollbar.style.cssText="position:absolute;z-index:9999",indicator.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),indicator.className="iScrollIndicator",direction=="h"?(type===!0&&(scrollbar.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",indicator.style.height="100%"),scrollbar.className="iScrollHorizontalScrollbar"):(type===!0&&(scrollbar.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",indicator.style.width="100%"),scrollbar.className="iScrollVerticalScrollbar"),scrollbar.style.cssText+=";overflow:hidden",interactive||(scrollbar.style.pointerEvents="none"),scrollbar.appendChild(indicator),scrollbar}function Indicator(scroller,options){this.wrapper=typeof options.el=="string"?document.querySelector(options.el):options.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=scroller,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in options)this.options[i]=options[i];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(utils.addEvent(this.indicator,"touchstart",this),utils.addEvent(window,"touchend",this)),this.options.disablePointer||(utils.addEvent(this.indicator,utils.prefixPointerEvent("pointerdown"),this),utils.addEvent(window,utils.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(utils.addEvent(this.indicator,"mousedown",this),utils.addEvent(window,"mouseup",this)));if(this.options.fade){this.wrapperStyle[utils.style.transform]=this.scroller.translateZ;var durationProp=utils.style.transitionDuration;if(!durationProp)return;this.wrapperStyle[durationProp]=utils.isBadAndroid?"0.0001ms":"0ms";var self=this;utils.isBadAndroid&&rAF(function(){self.wrapperStyle[durationProp]==="0.0001ms"&&(self.wrapperStyle[durationProp]="0s")}),this.wrapperStyle.opacity="0"}}var rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)},utils=function(){function _prefixStyle(style){return _vendor===!1?!1:_vendor===""?style:_vendor+style.charAt(0).toUpperCase()+style.substr(1)}var me={},_elementStyle=document.createElement("div").style,_vendor=function(){var vendors=["t","webkitT","MozT","msT","OT"],transform,i=0,l=vendors.length;for(;i<l;i++){transform=vendors[i]+"ransform";if(transform in _elementStyle)return vendors[i].substr(0,vendors[i].length-1)}return!1}();me.getTime=Date.now||function getTime(){return(new Date).getTime()},me.extend=function(target,obj){for(var i in obj)target[i]=obj[i]},me.addEvent=function(el,type,fn,capture){el.addEventListener(type,fn,!!capture)},me.removeEvent=function(el,type,fn,capture){el.removeEventListener(type,fn,!!capture)},me.prefixPointerEvent=function(pointerEvent){return window.MSPointerEvent?"MSPointer"+pointerEvent.charAt(7).toUpperCase()+pointerEvent.substr(8):pointerEvent},me.momentum=function(current,start,time,lowerMargin,wrapperSize,deceleration){var distance=current-start,speed=Math.abs(distance)/time,destination,duration;return deceleration=deceleration===undefined?6e-4:deceleration,destination=current+speed*speed/(2*deceleration)*(distance<0?-1:1),duration=speed/deceleration,destination<lowerMargin?(destination=wrapperSize?lowerMargin-wrapperSize/2.5*(speed/8):lowerMargin,distance=Math.abs(destination-current),duration=distance/speed):destination>0&&(destination=wrapperSize?wrapperSize/2.5*(speed/8):0,distance=Math.abs(current)+destination,duration=distance/speed),{destination:Math.round(destination),duration:duration}};var _transform=_prefixStyle("transform");return me.extend(me,{hasTransform:_transform!==!1,hasPerspective:_prefixStyle("perspective")in _elementStyle,hasTouch:"ontouchstart"in window,hasPointer:!!window.PointerEvent||!!window.MSPointerEvent,hasTransition:_prefixStyle("transition")in _elementStyle}),me.isBadAndroid=function(){var appVersion=window.navigator.appVersion;if(/Android/.test(appVersion)&&!/Chrome\/\d/.test(appVersion)){var safariVersion=appVersion.match(/Safari\/(\d+.\d)/);return safariVersion&&typeof safariVersion=="object"&&safariVersion.length>=2?parseFloat(safariVersion[1])<535.19:!0}return!1}(),me.extend(me.style={},{transform:_transform,transitionTimingFunction:_prefixStyle("transitionTimingFunction"),transitionDuration:_prefixStyle("transitionDuration"),transitionDelay:_prefixStyle("transitionDelay"),transformOrigin:_prefixStyle("transformOrigin")}),me.hasClass=function(e,c){var re=new RegExp("(^|\\s)"+c+"(\\s|$)");return re.test(e.className)},me.addClass=function(e,c){if(me.hasClass(e,c))return;var newclass=e.className.split(" ");newclass.push(c),e.className=newclass.join(" ")},me.removeClass=function(e,c){if(!me.hasClass(e,c))return;var re=new RegExp("(^|\\s)"+c+"(\\s|$)","g");e.className=e.className.replace(re," ")},me.offset=function(el){var left=-el.offsetLeft,top=-el.offsetTop;while(el=el.offsetParent)left-=el.offsetLeft,top-=el.offsetTop;return{left:left,top:top}},me.preventDefaultException=function(el,exceptions){for(var i in exceptions)if(exceptions[i].test(el[i]))return!0;return!1},me.extend(me.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),me.extend(me.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(k){return k*(2-k)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(k){return Math.sqrt(1- --k*k)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(k){var b=4;return(k-=1)*k*((b+1)*k+b)+1}},bounce:{style:"",fn:function(k){return(k/=1)<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375}},elastic:{style:"",fn:function(k){var f=.22,e=.4;return k===0?0:k==1?1:e*Math.pow(2,-10*k)*Math.sin((k-f/4)*2*Math.PI/f)+1}}}),me.tap=function(e,eventName){var ev=document.createEvent("Event");ev.initEvent(eventName,!0,!0),ev.pageX=e.pageX,ev.pageY=e.pageY,e.target.dispatchEvent(ev)},me.click=function(e){var target=e.target,ev;/(SELECT|INPUT|TEXTAREA)/i.test(target.tagName)||(ev=document.createEvent(window.MouseEvent?"MouseEvents":"Event"),ev.initEvent("click",!0,!0),ev.view=e.view||window,ev.detail=1,ev.screenX=target.screenX||0,ev.screenY=target.screenY||0,ev.clientX=target.clientX||0,ev.clientY=target.clientY||0,ev.ctrlKey=!!e.ctrlKey,ev.altKey=!!e.altKey,ev.shiftKey=!!e.shiftKey,ev.metaKey=!!e.metaKey,ev.button=0,ev.relatedTarget=null,ev._constructed=!0,target.dispatchEvent(ev))},me}();IScroll.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){if(e.target!=this.scroller||!this.isInTransition)return;this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd"))},_start:function(e){if(utils.eventType[e.type]!=1){var button;e.which?button=e.button:button=e.button<2?0:e.button==4?1:2;if(button!==0)return}if(!this.enabled||this.initiated&&utils.eventType[e.type]!==this.initiated)return;this.options.preventDefault&&!utils.isBadAndroid&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var point=e.touches?e.touches[0]:e,pos;this.initiated=utils.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=utils.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,pos=this.getComputedPosition(),this._translate(Math.round(pos.x),Math.round(pos.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=point.pageX,this.pointY=point.pageY,this._execEvent("beforeScrollStart")},_move:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated)return;this.options.preventDefault&&e.preventDefault();var point=e.touches?e.touches[0]:e,deltaX=point.pageX-this.pointX,deltaY=point.pageY-this.pointY,timestamp=utils.getTime(),newX,newY,absDistX,absDistY;this.pointX=point.pageX,this.pointY=point.pageY,this.distX+=deltaX,this.distY+=deltaY,absDistX=Math.abs(this.distX),absDistY=Math.abs(this.distY);if(timestamp-this.endTime>300&&absDistX<10&&absDistY<10)return;!this.directionLocked&&!this.options.freeScroll&&(absDistX>absDistY+this.options.directionLockThreshold?this.directionLocked="h":absDistY>=absDistX+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n");if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")e.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}deltaY=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")e.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}deltaX=0}deltaX=this.hasHorizontalScroll?deltaX:0,deltaY=this.hasVerticalScroll?deltaY:0,newX=this.x+deltaX,newY=this.y+deltaY;if(newX>0||newX<this.maxScrollX)newX=this.options.bounce?this.x+deltaX/3:newX>0?0:this.maxScrollX;if(newY>0||newY<this.maxScrollY)newY=this.options.bounce?this.y+deltaY/3:newY>0?0:this.maxScrollY;this.directionX=deltaX>0?-1:deltaX<0?1:0,this.directionY=deltaY>0?-1:deltaY<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(newX,newY),timestamp-this.startTime>300&&(this.startTime=timestamp,this.startX=this.x,this.startY=this.y)},_end:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated)return;this.options.preventDefault&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var point=e.changedTouches?e.changedTouches[0]:e,momentumX,momentumY,duration=utils.getTime()-this.startTime,newX=Math.round(this.x),newY=Math.round(this.y),distanceX=Math.abs(newX-this.startX),distanceY=Math.abs(newY-this.startY),time=0,easing="";this.isInTransition=0,this.initiated=0,this.endTime=utils.getTime();if(this.resetPosition(this.options.bounceTime))return;this.scrollTo(newX,newY);if(!this.moved){this.options.tap&&utils.tap(e,this.options.tap),this.options.click&&utils.click(e),this._execEvent("scrollCancel");return}if(this._events.flick&&duration<200&&distanceX<100&&distanceY<100){this._execEvent("flick");return}this.options.momentum&&duration<300&&(momentumX=this.hasHorizontalScroll?utils.momentum(this.x,this.startX,duration,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:newX,duration:0},momentumY=this.hasVerticalScroll?utils.momentum(this.y,this.startY,duration,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:newY,duration:0},newX=momentumX.destination,newY=momentumY.destination,time=Math.max(momentumX.duration,momentumY.duration),this.isInTransition=1);if(this.options.snap){var snap=this._nearestSnap(newX,newY);this.currentPage=snap,time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(newX-snap.x),1e3),Math.min(Math.abs(newY-snap.y),1e3)),300),newX=snap.x,newY=snap.y,this.directionX=0,this.directionY=0,easing=this.options.bounceEasing}if(newX!=this.x||newY!=this.y){if(newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY)easing=utils.ease.quadratic;this.scrollTo(newX,newY,time,easing);return}this._execEvent("scrollEnd")},_resize:function(){var that=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){that.refresh()},this.options.resizePolling)},resetPosition:function(time){var x=this.x,y=this.y;return time=time||0,!this.hasHorizontalScroll||this.x>0?x=0:this.x<this.maxScrollX&&(x=this.maxScrollX),!this.hasVerticalScroll||this.y>0?y=0:this.y<this.maxScrollY&&(y=this.maxScrollY),x==this.x&&y==this.y?!1:(this.scrollTo(x,y,time,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var rf=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=utils.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(type,fn){this._events[type]||(this._events[type]=[]),this._events[type].push(fn)},off:function(type,fn){if(!this._events[type])return;var index=this._events[type].indexOf(fn);index>-1&&this._events[type].splice(index,1)},_execEvent:function(type){if(!this._events[type])return;var i=0,l=this._events[type].length;if(!l)return;for(;i<l;i++)this._events[type][i].apply(this,[].slice.call(arguments,1))},scrollBy:function(x,y,time,easing){x=this.x+x,y=this.y+y,time=time||0,this.scrollTo(x,y,time,easing)},scrollTo:function(x,y,time,easing){easing=easing||utils.ease.circular,this.isInTransition=this.options.useTransition&&time>0;var transitionType=this.options.useTransition&&easing.style;!time||transitionType?(transitionType&&(this._transitionTimingFunction(easing.style),this._transitionTime(time)),this._translate(x,y)):this._animate(x,y,time,easing.fn)},scrollToElement:function(el,time,offsetX,offsetY,easing){el=el.nodeType?el:this.scroller.querySelector(el);if(!el)return;var pos=utils.offset(el);pos.left-=this.wrapperOffset.left,pos.top-=this.wrapperOffset.top,offsetX===!0&&(offsetX=Math.round(el.offsetWidth/2-this.wrapper.offsetWidth/2)),offsetY===!0&&(offsetY=Math.round(el.offsetHeight/2-this.wrapper.offsetHeight/2)),pos.left-=offsetX||0,pos.top-=offsetY||0,pos.left=pos.left>0?0:pos.left<this.maxScrollX?this.maxScrollX:pos.left,pos.top=pos.top>0?0:pos.top<this.maxScrollY?this.maxScrollY:pos.top,time=time===undefined||time===null||time==="auto"?Math.max(Math.abs(this.x-pos.left),Math.abs(this.y-pos.top)):time,this.scrollTo(pos.left,pos.top,time,easing)},_transitionTime:function(time){if(!this.options.useTransition)return;time=time||0;var durationProp=utils.style.transitionDuration;if(!durationProp)return;this.scrollerStyle[durationProp]=time+"ms";if(!time&&utils.isBadAndroid){this.scrollerStyle[durationProp]="0.0001ms";var self=this;rAF(function(){self.scrollerStyle[durationProp]==="0.0001ms"&&(self.scrollerStyle[durationProp]="0s")})}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(time)},_transitionTimingFunction:function(easing){this.scrollerStyle[utils.style.transitionTimingFunction]=easing;if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTimingFunction(easing)},_translate:function(x,y){if((" "+this.wrapper.className+" ").replace(/[\n\t]/g," ").indexOf(" no-scrolloverflow ")>-1)return!1;this.options.useTransform?this.scrollerStyle[utils.style.transform]="translate("+x+"px,"+y+"px)"+this.translateZ:(x=Math.round(x),y=Math.round(y),this.scrollerStyle.left=x+"px",this.scrollerStyle.top=y+"px"),this.x=x,this.y=y;if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition();var uncodevent=new CustomEvent("fp-slide-scroll");window.dispatchEvent(uncodevent)},_initEvents:function(remove){var eventType=remove?utils.removeEvent:utils.addEvent,target=this.options.bindToWrapper?this.wrapper:window;eventType(window,"orientationchange",this),eventType(window,"resize",this),this.options.click&&eventType(this.wrapper,"click",this,!0),this.options.disableMouse||(eventType(this.wrapper,"mousedown",this),eventType(target,"mousemove",this),eventType(target,"mousecancel",this),eventType(target,"mouseup",this)),utils.hasPointer&&!this.options.disablePointer&&(eventType(this.wrapper,utils.prefixPointerEvent("pointerdown"),this),eventType(target,utils.prefixPointerEvent("pointermove"),this),eventType(target,utils.prefixPointerEvent("pointercancel"),this),eventType(target,utils.prefixPointerEvent("pointerup"),this)),utils.hasTouch&&!this.options.disableTouch&&(eventType(this.wrapper,"touchstart",this),eventType(target,"touchmove",this),eventType(target,"touchcancel",this),eventType(target,"touchend",this)),eventType(this.scroller,"transitionend",this),eventType(this.scroller,"webkitTransitionEnd",this),eventType(this.scroller,"oTransitionEnd",this),eventType(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var matrix=window.getComputedStyle(this.scroller,null),x,y;return this.options.useTransform?(matrix=matrix[utils.style.transform].split(")")[0].split(", "),x=+(matrix[12]||matrix[4]),y=+(matrix[13]||matrix[5])):(x=+matrix.left.replace(/[^-\d.]/g,""),y=+matrix.top.replace(/[^-\d.]/g,"")),{x:x,y:y}},_initIndicators:function(){function _indicatorsMap(fn){if(that.indicators)for(var i=that.indicators.length;i--;)fn.call(that.indicators[i])}var interactive=this.options.interactiveScrollbars,customStyle=typeof this.options.scrollbars!="string",indicators=[],indicator,that=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(indicator={el:createDefaultScrollbar("v",interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:!0,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(indicator.el),indicators.push(indicator)),this.options.scrollX&&(indicator={el:createDefaultScrollbar("h",interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:!0,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(indicator.el),indicators.push(indicator))),this.options.indicators&&(indicators=indicators.concat(this.options.indicators));for(var i=indicators.length;i--;)this.indicators.push(new Indicator(this,indicators[i]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){_indicatorsMap(function(){this.fade()})}),this.on("scrollCancel",function(){_indicatorsMap(function(){this.fade()})}),this.on("scrollStart",function(){_indicatorsMap(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){_indicatorsMap(function(){this.fade(1,!0)})})),this.on("refresh",function(){_indicatorsMap(function(){this.refresh()})}),this.on("destroy",function(){_indicatorsMap(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){utils.addEvent(this.wrapper,"wheel",this),utils.addEvent(this.wrapper,"mousewheel",this),utils.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,utils.removeEvent(this.wrapper,"wheel",this),utils.removeEvent(this.wrapper,"mousewheel",this),utils.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(!this.enabled)return;var wheelDeltaX,wheelDeltaY,newX,newY,that=this;this.wheelTimeout===undefined&&that._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){that.options.snap||that._execEvent("scrollEnd"),that.wheelTimeout=undefined},400);if("deltaX"in e)e.deltaMode===1?(wheelDeltaX=-e.deltaX*this.options.mouseWheelSpeed,wheelDeltaY=-e.deltaY*this.options.mouseWheelSpeed):(wheelDeltaX=-e.deltaX,wheelDeltaY=-e.deltaY);else if("wheelDeltaX"in e)wheelDeltaX=e.wheelDeltaX/120*this.options.mouseWheelSpeed,wheelDeltaY=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)wheelDeltaX=wheelDeltaY=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;wheelDeltaX=wheelDeltaY=-e.detail/3*this.options.mouseWheelSpeed}wheelDeltaX*=this.options.invertWheelDirection,wheelDeltaY*=this.options.invertWheelDirection,this.hasVerticalScroll||(wheelDeltaX=wheelDeltaY,wheelDeltaY=0);if(this.options.snap){newX=this.currentPage.pageX,newY=this.currentPage.pageY,wheelDeltaX>0?newX--:wheelDeltaX<0&&newX++,wheelDeltaY>0?newY--:wheelDeltaY<0&&newY++,this.goToPage(newX,newY);return}newX=this.x+Math.round(this.hasHorizontalScroll?wheelDeltaX:0),newY=this.y+Math.round(this.hasVerticalScroll?wheelDeltaY:0),this.directionX=wheelDeltaX>0?-1:wheelDeltaX<0?1:0,this.directionY=wheelDeltaY>0?-1:wheelDeltaY<0?1:0,newX>0?newX=0:newX<this.maxScrollX&&(newX=this.maxScrollX),newY>0?newY=0:newY<this.maxScrollY&&(newY=this.maxScrollY),this.scrollTo(newX,newY,0)},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var i=0,l,m=0,n,cx,cy,x=0,y,stepX=this.options.snapStepX||this.wrapperWidth,stepY=this.options.snapStepY||this.wrapperHeight,el;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight)return;if(this.options.snap===!0){cx=Math.round(stepX/2),cy=Math.round(stepY/2);while(x>-this.scrollerWidth){this.pages[i]=[],l=0,y=0;while(y>-this.scrollerHeight)this.pages[i][l]={x:Math.max(x,this.maxScrollX),y:Math.max(y,this.maxScrollY),width:stepX,height:stepY,cx:x-cx,cy:y-cy},y-=stepY,l++;x-=stepX,i++}}else{el=this.options.snap,l=el.length,n=-1;for(;i<l;i++){if(i===0||el[i].offsetLeft<=el[i-1].offsetLeft)m=0,n++;this.pages[m]||(this.pages[m]=[]),x=Math.max(-el[i].offsetLeft,this.maxScrollX),y=Math.max(-el[i].offsetTop,this.maxScrollY),cx=x-Math.round(el[i].offsetWidth/2),cy=y-Math.round(el[i].offsetHeight/2),this.pages[m][n]={x:x,y:y,width:el[i].offsetWidth,height:el[i].offsetHeight,cx:cx,cy:cy},x>this.maxScrollX&&m++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}),this.on("flick",function(){var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,time)})},_nearestSnap:function(x,y){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,l=this.pages.length,m=0;if(Math.abs(x-this.absStartX)<this.snapThresholdX&&Math.abs(y-this.absStartY)<this.snapThresholdY)return this.currentPage;x>0?x=0:x<this.maxScrollX&&(x=this.maxScrollX),y>0?y=0:y<this.maxScrollY&&(y=this.maxScrollY);for(;i<l;i++)if(x>=this.pages[i][0].cx){x=this.pages[i][0].x;break}l=this.pages[i].length;for(;m<l;m++)if(y>=this.pages[0][m].cy){y=this.pages[0][m].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,i<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),x=this.pages[i][0].x),m==this.currentPage.pageY&&(m+=this.directionY,m<0?m=0:m>=this.pages[0].length&&(m=this.pages[0].length-1),y=this.pages[0][m].y),{x:x,y:y,pageX:i,pageY:m}},goToPage:function(x,y,time,easing){easing=easing||this.options.bounceEasing,x>=this.pages.length?x=this.pages.length-1:x<0&&(x=0),y>=this.pages[x].length?y=this.pages[x].length-1:y<0&&(y=0);var posX=this.pages[x][y].x,posY=this.pages[x][y].y;time=time===undefined?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(posX-this.x),1e3),Math.min(Math.abs(posY-this.y),1e3)),300):time,this.currentPage={x:posX,y:posY,pageX:x,pageY:y},this.scrollTo(posX,posY,time,easing)},next:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x++,x>=this.pages.length&&this.hasVerticalScroll&&(x=0,y++),this.goToPage(x,y,time,easing)},prev:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x--,x<0&&this.hasVerticalScroll&&(x=0,y--),this.goToPage(x,y,time,easing)},_initKeys:function(e){var keys={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},i;if(typeof this.options.keyBindings=="object")for(i in this.options.keyBindings)typeof this.options.keyBindings[i]=="string"&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in keys)this.options.keyBindings[i]=this.options.keyBindings[i]||keys[i];utils.addEvent(window,"keydown",this),this.on("destroy",function(){utils.removeEvent(window,"keydown",this)})},_key:function(e){if(!this.enabled)return;var snap=this.options.snap,newX=snap?this.currentPage.pageX:this.x,newY=snap?this.currentPage.pageY:this.y,now=utils.getTime(),prevTime=this.keyTime||0,acceleration=.25,pos;this.options.useTransition&&this.isInTransition&&(pos=this.getComputedPosition(),this._translate(Math.round(pos.x),Math.round(pos.y)),this.isInTransition=!1),this.keyAcceleration=now-prevTime<200?Math.min(this.keyAcceleration+acceleration,50):0;switch(e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?newX+=snap?1:this.wrapperWidth:newY+=snap?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?newX-=snap?1:this.wrapperWidth:newY-=snap?1:this.wrapperHeight;break;case this.options.keyBindings.end:newX=snap?this.pages.length-1:this.maxScrollX,newY=snap?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:newX=0,newY=0;break;case this.options.keyBindings.left:newX+=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:newY+=snap?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:newX-=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:newY-=snap?1:5+this.keyAcceleration>>0;break;default:return}if(snap){this.goToPage(newX,newY);return}newX>0?(newX=0,this.keyAcceleration=0):newX<this.maxScrollX&&(newX=this.maxScrollX,this.keyAcceleration=0),newY>0?(newY=0,this.keyAcceleration=0):newY<this.maxScrollY&&(newY=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(newX,newY,0),this.keyTime=now},_animate:function(destX,destY,duration,easingFn){function step(){var now=utils.getTime(),newX,newY,easing;if(now>=destTime){that.isAnimating=!1,that._translate(destX,destY),that.resetPosition(that.options.bounceTime)||that._execEvent("scrollEnd");return}now=(now-startTime)/duration,easing=easingFn(now),newX=(destX-startX)*easing+startX,newY=(destY-startY)*easing+startY,that._translate(newX,newY),that.isAnimating&&rAF(step)}var that=this,startX=this.x,startY=this.y,startTime=utils.getTime(),destTime=startTime+duration;this.isAnimating=!0,step()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},Indicator.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(utils.removeEvent(this.indicator,"touchstart",this),utils.removeEvent(this.indicator,utils.prefixPointerEvent("pointerdown"),this),utils.removeEvent(this.indicator,"mousedown",this),utils.removeEvent(window,"touchmove",this),utils.removeEvent(window,utils.prefixPointerEvent("pointermove"),this),utils.removeEvent(window,"mousemove",this),utils.removeEvent(window,"touchend",this),utils.removeEvent(window,utils.prefixPointerEvent("pointerup"),this),utils.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var point=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=point.pageX,this.lastPointY=point.pageY,this.startTime=utils.getTime(),this.options.disableTouch||utils.addEvent(window,"touchmove",this),this.options.disablePointer||utils.addEvent(window,utils.prefixPointerEvent("pointermove"),this),this.options.disableMouse||utils.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var point=e.touches?e.touches[0]:e,deltaX,deltaY,newX,newY,timestamp=utils.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,deltaX=point.pageX-this.lastPointX,this.lastPointX=point.pageX,deltaY=point.pageY-this.lastPointY,this.lastPointY=point.pageY,newX=this.x+deltaX,newY=this.y+deltaY,this._pos(newX,newY),e.preventDefault(),e.stopPropagation()},_end:function(e){if(!this.initiated)return;this.initiated=!1,e.preventDefault(),e.stopPropagation(),utils.removeEvent(window,"touchmove",this),utils.removeEvent(window,utils.prefixPointerEvent("pointermove"),this),utils.removeEvent(window,"mousemove",this);if(this.scroller.options.snap){var snap=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-snap.x),1e3),Math.min(Math.abs(this.scroller.y-snap.y),1e3)),300);if(this.scroller.x!=snap.x||this.scroller.y!=snap.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=snap,this.scroller.scrollTo(snap.x,snap.y,time,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")},transitionTime:function(time){time=time||0;var durationProp=utils.style.transitionDuration;if(!durationProp)return;this.indicatorStyle[durationProp]=time+"ms";if(!time&&utils.isBadAndroid){this.indicatorStyle[durationProp]="0.0001ms";var self=this;rAF(function(){self.indicatorStyle[durationProp]==="0.0001ms"&&(self.indicatorStyle[durationProp]="0s")})}},transitionTimingFunction:function(easing){this.indicatorStyle[utils.style.transitionTimingFunction]=easing},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(utils.addClass(this.wrapper,"iScrollBothScrollbars"),utils.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(utils.removeClass(this.wrapper,"iScrollBothScrollbars"),utils.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var r=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(x<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=Math.max(this.indicatorWidth+x,8),this.indicatorStyle.width=this.width+"px"),x=this.minBoundaryX):x>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",x=this.maxPosX+this.indicatorWidth-this.width):x=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),y<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=Math.max(this.indicatorHeight+y*3,8),this.indicatorStyle.height=this.height+"px"),y=this.minBoundaryY):y>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=Math.max(this.indicatorHeight-(y-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",y=this.maxPosY+this.indicatorHeight-this.height):y=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=x,this.y=y,this.scroller.options.useTransform?this.indicatorStyle[utils.style.transform]="translate("+x+"px,"+y+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=x+"px",this.indicatorStyle.top=y+"px")},_pos:function(x,y){x<0?x=0:x>this.maxPosX&&(x=this.maxPosX),y<0?y=0:y>this.maxPosY&&(y=this.maxPosY),x=this.options.listenX?Math.round(x/this.sizeRatioX):this.scroller.x,y=this.options.listenY?Math.round(y/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(x,y)},fade:function(val,hold){if(hold&&!this.visible)return;clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?"1":"0",this.wrapperStyle[utils.style.transitionDuration]=time+"ms",this.fadeTimeout=setTimeout(function(val){this.wrapperStyle.opacity=val,this.visible=+val}.bind(this,val),delay)}},IScroll.utils=utils,typeof module!="undefined"&&module.exports?module.exports=IScroll:typeof define=="function"&&define.amd?define(function(){return IScroll}):window.IScroll=IScroll}(window,document,Math),function(global,factory){"use strict";typeof define=="function"&&define.amd?define(["jquery"],function($){return factory($,global,global.document,global.Math)}):typeof exports=="object"&&exports?module.exports=factory(require("jquery"),global,global.document,global.Math):factory(jQuery,global,global.document,global.Math)}(typeof window!="undefined"?window:this,function($,window,document,Math,undefined){"use strict";var WRAPPER="fullpage-wrapper",WRAPPER_SEL="."+WRAPPER,SCROLLABLE="fp-scrollable",SCROLLABLE_SEL="."+SCROLLABLE,RESPONSIVE="fp-responsive",NO_TRANSITION="fp-notransition",DESTROYED="fp-destroyed",ENABLED="fp-enabled",VIEWING_PREFIX="fp-viewing",ACTIVE="active",ACTIVE_SEL="."+ACTIVE,COMPLETELY="fp-completely",COMPLETELY_SEL="."+COMPLETELY,SECTION_DEFAULT_SEL=".section",SECTION="fp-section",SECTION_SEL="."+SECTION,SECTION_ACTIVE_SEL=SECTION_SEL+ACTIVE_SEL,SECTION_FIRST_SEL=SECTION_SEL+":first",SECTION_LAST_SEL=SECTION_SEL+":last",TABLE_CELL="fp-tableCell",TABLE_CELL_SEL="."+TABLE_CELL,AUTO_HEIGHT="fp-auto-height",AUTO_HEIGHT_SEL=".fp-auto-height",NORMAL_SCROLL="fp-normal-scroll",NORMAL_SCROLL_SEL=".fp-normal-scroll",SECTION_NAV="fp-nav",SECTION_NAV_SEL="#"+SECTION_NAV,SECTION_NAV_TOOLTIP="fp-tooltip",SECTION_NAV_TOOLTIP_SEL="."+SECTION_NAV_TOOLTIP,SHOW_ACTIVE_TOOLTIP="fp-show-active",SLIDE_DEFAULT_SEL=".slide",SLIDE="fp-slide",SLIDE_SEL="."+SLIDE,SLIDE_ACTIVE_SEL=SLIDE_SEL+ACTIVE_SEL,SLIDES_WRAPPER="fp-slides",SLIDES_WRAPPER_SEL="."+SLIDES_WRAPPER,SLIDES_CONTAINER="fp-slidesContainer",SLIDES_CONTAINER_SEL="."+SLIDES_CONTAINER,TABLE="fp-table",SLIDES_NAV="fp-slidesNav",SLIDES_NAV_SEL="."+SLIDES_NAV,SLIDES_NAV_LINK_SEL=SLIDES_NAV_SEL+" a",SLIDES_ARROW="fp-controlArrow",SLIDES_ARROW_SEL="."+SLIDES_ARROW,SLIDES_PREV="fp-prev",SLIDES_PREV_SEL="."+SLIDES_PREV,SLIDES_ARROW_PREV=SLIDES_ARROW+" "+SLIDES_PREV,SLIDES_ARROW_PREV_SEL=SLIDES_ARROW_SEL+SLIDES_PREV_SEL,SLIDES_NEXT="fp-next",SLIDES_NEXT_SEL="."+SLIDES_NEXT,SLIDES_ARROW_NEXT=SLIDES_ARROW+" "+SLIDES_NEXT,SLIDES_ARROW_NEXT_SEL=SLIDES_ARROW_SEL+SLIDES_NEXT_SEL,$window=$(window),$document=$(document),iscrollOptions={scrollbars:!0,mouseWheel:!0,hideScrollbars:!1,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!0,bounce:!1};$.fn.fullpage=function(options){function setAutoScrolling(value,type){value||silentScroll(0),setVariableState("autoScrolling",value,type);var element=$(SECTION_ACTIVE_SEL);options.autoScrolling&&!options.scrollBar?($htmlBody.css({overflow:"hidden !important",height:"100%"}),container.css({"-ms-touch-action":"none","touch-action":"none"}),element.length&&silentScroll(element.position().top)):($htmlBody.css({overflow:"visible !important",height:"initial"}),container.css({"-ms-touch-action":"","touch-action":""}),element.length&&$htmlBody.scrollTop(element.position().top))}function setRecordHistory(value,type){setVariableState("recordHistory",value,type)}function setScrollingSpeed(value,type){setVariableState("scrollingSpeed",value,type)}function setFitToSection(value,type){setVariableState("fitToSection",value,type)}function setLockAnchors(value){options.lockAnchors=value}function setMouseWheelScrolling(value){value?(addMouseWheelHandler(),addMiddleWheelHandler()):(removeMouseWheelHandler(),removeMiddleWheelHandler())}function setAllowScrolling(value,directions){typeof directions!="undefined"?(directions=directions.replace(/ /g,"").split(","),$.each(directions,function(index,direction){setIsScrollAllowed(value,direction,"m")})):value?(setMouseWheelScrolling(!0),addTouchHandler()):(setMouseWheelScrolling(!1),removeTouchHandler())}function setKeyboardScrolling(value,directions){typeof directions!="undefined"?(directions=directions.replace(/ /g,"").split(","),$.each(directions,function(index,direction){setIsScrollAllowed(value,direction,"k")})):options.keyboardScrolling=value}function moveSectionUp(){var prev=$(SECTION_ACTIVE_SEL).prev(SECTION_SEL);!prev.length&&(options.loopTop||options.continuousVertical)&&(prev=$(SECTION_SEL).last()),prev.length&&scrollPage(prev,null,!0)}function moveSectionDown(){var next=$(SECTION_ACTIVE_SEL).next(SECTION_SEL);!next.length&&(options.loopBottom||options.continuousVertical)&&(next=$(SECTION_SEL).first()),next.length&&scrollPage(next,null,!1)}function silentMoveTo(sectionAnchor,slideAnchor){setScrollingSpeed(0,"internal"),moveTo(sectionAnchor,slideAnchor),setScrollingSpeed(originals.scrollingSpeed,"internal")}function moveTo(sectionAnchor,slideAnchor){var destiny=getSectionByAnchor(sectionAnchor);typeof slideAnchor!="undefined"?scrollPageAndSlide(sectionAnchor,slideAnchor):destiny.length>0&&scrollPage(destiny)}function moveSlideRight(section){moveSlide("right",section)}function moveSlideLeft(section){moveSlide("left",section)}function reBuild(resizing){if(container.hasClass(DESTROYED))return;isResizing=!0,windowsHeight=$window.height(),$(SECTION_SEL).each(function(){var slidesWrap=$(this).find(SLIDES_WRAPPER_SEL),slides=$(this).find(SLIDE_SEL);options.verticalCentered&&$(this).find(TABLE_CELL_SEL).css("height",getTableHeight($(this))+"px"),$(this).css("height",windowsHeight+"px"),options.scrollOverflow&&(slides.length?slides.each(function(){createScrollBar($(this))}):createScrollBar($(this))),slides.length>1&&landscapeScroll(slidesWrap,slidesWrap.find(SLIDE_ACTIVE_SEL))});var activeSection=$(SECTION_ACTIVE_SEL),sectionIndex=activeSection.index(SECTION_SEL);sectionIndex&&silentMoveTo(sectionIndex+1),isResizing=!1,$.isFunction(options.afterResize)&&resizing&&options.afterResize.call(container),$.isFunction(options.afterReBuild)&&!resizing&&options.afterReBuild.call(container)}function setResponsive(active){var isResponsive=$body.hasClass(RESPONSIVE);active?isResponsive||(setAutoScrolling(!1,"internal"),setFitToSection(!1,"internal"),$(SECTION_NAV_SEL).hide(),$body.addClass(RESPONSIVE),$.isFunction(options.afterResponsive)&&options.afterResponsive.call(container,active)):isResponsive&&(setAutoScrolling(originals.autoScrolling,"internal"),setFitToSection(originals.autoScrolling,"internal"),$(SECTION_NAV_SEL).show(),$body.removeClass(RESPONSIVE),$.isFunction(options.afterResponsive)&&options.afterResponsive.call(container,active))}function init(){options.css3&&(options.css3=support3d()),options.scrollBar=options.scrollBar||options.hybrid,setOptionsFromDOM(),prepareDom(),setAllowScrolling(!0),setAutoScrolling(options.autoScrolling,"internal"),responsive(),setBodyClass()}function bindEvents(){$window.on("hashchange",hashChangeHandler).blur(blurHandler).resize(resizeHandler),$document.keydown(keydownHandler).keyup(keyUpHandler).on("click touchstart",SECTION_NAV_SEL+" a",sectionBulletHandler).on("click touchstart",SLIDES_NAV_LINK_SEL,slideBulletHandler).on("click",SECTION_NAV_TOOLTIP_SEL,tooltipTextHandler),$(SECTION_SEL).on("click touchstart",SLIDES_ARROW_SEL,slideArrowHandler),options.normalScrollElements&&($document.on("mouseenter",options.normalScrollElements,function(){setMouseWheelScrolling(!1)}),$document.on("mouseleave",options.normalScrollElements,function(){setMouseWheelScrolling(!0)}))}function setOptionsFromDOM(){var sections=container.find(options.sectionSelector);options.anchors.length||(options.anchors=sections.filter("[data-anchor]").map(function(){return $(this).data("anchor").toString()}).get()),options.navigationTooltips.length||(options.navigationTooltips=sections.filter("[data-tooltip]").map(function(){return $(this).data("tooltip").toString()}).get())}function prepareDom(){container.css({height:"100%",position:"relative"}),container.addClass(WRAPPER),$("html").addClass(ENABLED),windowsHeight=$window.height(),container.removeClass(DESTROYED),addInternalSelectors(),$(SECTION_SEL).each(function(index){var section=$(this),slides=section.find(SLIDE_SEL),numSlides=slides.length;styleSection(section,index),styleMenu(section,index),numSlides>0?styleSlides(section,slides,numSlides):options.verticalCentered&&addTableClass(section)}),options.fixedElements&&options.css3&&$(options.fixedElements).appendTo($body),options.navigation&&addVerticalNavigation(),enableYoutubeAPI(),options.scrollOverflow?(document.readyState==="complete"&&createScrollBarHandler(),$window.on("load",createScrollBarHandler)):afterRenderActions()}function styleSlides(section,slides,numSlides){var sliderWidth=numSlides*100,slideWidth=100/numSlides;slides.wrapAll('<div class="'+SLIDES_CONTAINER+'" />'),slides.parent().wrap('<div class="'+SLIDES_WRAPPER+'" />'),section.find(SLIDES_CONTAINER_SEL).css("width",sliderWidth+"%"),numSlides>1&&(options.controlArrows&&createSlideArrows(section),options.slidesNavigation&&addSlidesNavigation(section,numSlides)),slides.each(function(index){$(this).css("width",slideWidth+"%"),options.verticalCentered&&addTableClass($(this))});var startingSlide=section.find(SLIDE_ACTIVE_SEL);startingSlide.length&&($(SECTION_ACTIVE_SEL).index(SECTION_SEL)!==0||$(SECTION_ACTIVE_SEL).index(SECTION_SEL)===0&&startingSlide.index()!==0)?silentLandscapeScroll(startingSlide,"internal"):slides.eq(0).addClass(ACTIVE)}function styleSection(section,index){!index&&$(SECTION_ACTIVE_SEL).length===0&&section.addClass(ACTIVE),startingSection=$(SECTION_ACTIVE_SEL),section.css("height",windowsHeight+"px"),options.paddingTop&&section.css("padding-top",options.paddingTop),options.paddingBottom&&section.css("padding-bottom",options.paddingBottom),typeof options.sectionsColor[index]!="undefined"&&section.css("background-color",options.sectionsColor[index]),typeof options.anchors[index]!="undefined"&&section.attr("data-anchor",options.anchors[index])}function styleMenu(section,index){typeof options.anchors[index]!="undefined"&&section.hasClass(ACTIVE)&&activateMenuAndNav(options.anchors[index],index),options.menu&&options.css3&&$(options.menu).closest(WRAPPER_SEL).length&&$(options.menu).appendTo($body)}function addInternalSelectors(){container.find(options.sectionSelector).addClass(SECTION),container.find(options.slideSelector).addClass(SLIDE)}function createSlideArrows(section){section.find(SLIDES_WRAPPER_SEL).after('<div class="'+SLIDES_ARROW_PREV+'"></div><div class="'+SLIDES_ARROW_NEXT+'"></div>'),options.controlArrowColor!="#fff"&&(section.find(SLIDES_ARROW_NEXT_SEL).css("border-color","transparent transparent transparent "+options.controlArrowColor),section.find(SLIDES_ARROW_PREV_SEL).css("border-color","transparent "+options.controlArrowColor+" transparent transparent")),options.loopHorizontal||section.find(SLIDES_ARROW_PREV_SEL).hide()}function addVerticalNavigation(){$body.append('<div id="'+SECTION_NAV+'"><ul></ul></div>');var nav=$(SECTION_NAV_SEL);nav.addClass(function(){return options.showActiveTooltip?SHOW_ACTIVE_TOOLTIP+" "+options.navigationPosition:options.navigationPosition});for(var i=0;i<$(SECTION_SEL).length;i++){var link="";options.anchors.length&&(link=options.anchors[i]);var li='<li><a href="#'+link+'"><span></span></a>',tooltip=options.navigationTooltips[i];typeof tooltip!="undefined"&&tooltip!==""&&(li+='<div class="'+SECTION_NAV_TOOLTIP+" "+options.navigationPosition+'">'+tooltip+"</div>"),li+="</li>",nav.find("ul").append(li)}$(SECTION_NAV_SEL).css("margin-top","-"+$(SECTION_NAV_SEL).height()/2+"px"),$(SECTION_NAV_SEL).find("li").eq($(SECTION_ACTIVE_SEL).index(SECTION_SEL)).find("a").addClass(ACTIVE)}function createScrollBarHandler(){$(SECTION_SEL).each(function(){var slides=$(this).find(SLIDE_SEL);slides.length?slides.each(function(){createScrollBar($(this))}):createScrollBar($(this))}),afterRenderActions()}function enableYoutubeAPI(){container.find('iframe[src*="youtube.com/embed/"]').each(function(){addURLParam($(this),"enablejsapi=1")})}function addURLParam(element,newParam){var originalSrc=element.attr("src");element.attr("src",originalSrc+getUrlParamSign(originalSrc)+newParam)}function getUrlParamSign(url){return/\?/.test(url)?"&":"?"}function afterRenderActions(){var section=$(SECTION_ACTIVE_SEL);section.addClass(COMPLETELY),options.scrollOverflowHandler.afterRender&&options.scrollOverflowHandler.afterRender(section),lazyLoad(section),playMedia(section),options.scrollOverflowHandler.afterLoad(),isDestinyTheStartingSection()&&$.isFunction(options.afterLoad)&&options.afterLoad.call(section,section.data("anchor"),section.index(SECTION_SEL)+1),$.isFunction(options.afterRender)&&options.afterRender.call(container)}function isDestinyTheStartingSection(){var anchors=window.location.hash.replace("#","").split("/"),destinationSection=getSectionByAnchor(decodeURIComponent(anchors[0]));return!destinationSection.length||destinationSection.length&&destinationSection.index()===startingSection.index()}function scrollHandler(){var currentSection;if(!options.autoScrolling||options.scrollBar){var currentScroll=$window.scrollTop(),scrollDirection=getScrollDirection(currentScroll),visibleSectionIndex=0,screen_mid=currentScroll+$window.height()/2,isAtBottom=$body.height()-$window.height()===currentScroll,sections=document.querySelectorAll(SECTION_SEL);if(isAtBottom)visibleSectionIndex=sections.length-1;else if(!currentScroll)visibleSectionIndex=0;else for(var i=0;i<sections.length;++i){var section=sections[i];section.offsetTop<=screen_mid&&(visibleSectionIndex=i)}isCompletelyInViewPort(scrollDirection)&&($(SECTION_ACTIVE_SEL).hasClass(COMPLETELY)||$(SECTION_ACTIVE_SEL).addClass(COMPLETELY).siblings().removeClass(COMPLETELY)),currentSection=$(sections).eq(visibleSectionIndex);if(!currentSection.hasClass(ACTIVE)){isScrolling=!0;var leavingSection=$(SECTION_ACTIVE_SEL),leavingSectionIndex=leavingSection.index(SECTION_SEL)+1,yMovement=getYmovement(currentSection),anchorLink=currentSection.data("anchor"),sectionIndex=currentSection.index(SECTION_SEL)+1,activeSlide=currentSection.find(SLIDE_ACTIVE_SEL),slideIndex,slideAnchorLink;activeSlide.length&&(slideAnchorLink=activeSlide.data("anchor"),slideIndex=activeSlide.index()),canScroll&&(currentSection.addClass(ACTIVE).siblings().removeClass(ACTIVE),$.isFunction(options.onLeave)&&options.onLeave.call(leavingSection,leavingSectionIndex,sectionIndex,yMovement),$.isFunction(options.afterLoad)&&options.afterLoad.call(currentSection,anchorLink,sectionIndex),stopMedia(leavingSection),lazyLoad(currentSection),playMedia(currentSection),activateMenuAndNav(anchorLink,sectionIndex-1),options.anchors.length&&(lastScrolledDestiny=anchorLink),setState(slideIndex,slideAnchorLink,anchorLink,sectionIndex)),clearTimeout(scrollId),scrollId=setTimeout(function(){isScrolling=!1},100)}options.fitToSection&&(clearTimeout(scrollId2),scrollId2=setTimeout(function(){options.fitToSection&&fitToSection()},options.fitToSectionDelay))}}function fitToSection(){canScroll&&(isResizing=!0,scrollPage($(SECTION_ACTIVE_SEL)),isResizing=!1)}function isCompletelyInViewPort(movement){var top=$(SECTION_ACTIVE_SEL).position().top,bottom=top+$window.height();return movement=="up"?bottom>=$window.scrollTop()+$window.height():top<=$window.scrollTop()}function getScrollDirection(currentScroll){var direction=currentScroll>lastScroll?"down":"up";return lastScroll=currentScroll,previousDestTop=currentScroll,direction}function scrolling(type,scrollable){if(!isScrollAllowed.m[type])return;var check=type==="down"?"bottom":"top",scrollSection=type==="down"?moveSectionDown:moveSectionUp;if(scrollable.length>0){if(!options.scrollOverflowHandler.isScrolled(check,scrollable))return!0;scrollSection()}else scrollSection()}function preventBouncing(event){var e=event.originalEvent;!checkParentForNormalScrollElement(event.target)&&options.autoScrolling&&isReallyTouch(e)&&isScrollAllowed.m.up&&event.preventDefault()}function touchMoveHandler(event){var e=event.originalEvent,activeSection=$(e.target).closest(SECTION_SEL);if(!checkParentForNormalScrollElement(event.target)&&isReallyTouch(e)){options.autoScrolling&&event.preventDefault();var scrollable=options.scrollOverflowHandler.scrollable(activeSection),touchEvents=getEventsPage(e);touchEndY=touchEvents.y,touchEndX=touchEvents.x,activeSection.find(SLIDES_WRAPPER_SEL).length&&Math.abs(touchStartX-touchEndX)>Math.abs(touchStartY-touchEndY)?!slideMoving&&Math.abs(touchStartX-touchEndX)>$window.outerWidth()/100*options.touchSensitivity&&(touchStartX>touchEndX?isScrollAllowed.m.right&&moveSlideRight(activeSection):isScrollAllowed.m.left&&moveSlideLeft(activeSection)):options.autoScrolling&&canScroll&&Math.abs(touchStartY-touchEndY)>$window.height()/100*options.touchSensitivity&&(touchStartY>touchEndY?scrolling("down",scrollable):touchEndY>touchStartY&&scrolling("up",scrollable))}}function checkParentForNormalScrollElement(el,hop){hop=hop||0;var parent=$(el).parent();return hop<options.normalScrollElementTouchThreshold&&parent.is(options.normalScrollElements)?!0:hop==options.normalScrollElementTouchThreshold?!1:checkParentForNormalScrollElement(parent,++hop)}function isReallyTouch(e){return typeof e.pointerType=="undefined"||e.pointerType!="mouse"}function touchStartHandler(event){var e=event.originalEvent;options.fitToSection&&$htmlBody.stop();if(isReallyTouch(e)){var touchEvents=getEventsPage(e);touchStartY=touchEvents.y,touchStartX=touchEvents.x}}function getAverage(elements,number){var sum=0,lastElements=elements.slice(Math.max(elements.length-number,1));for(var i=0;i<lastElements.length;i++)sum+=lastElements[i];return Math.ceil(sum/number)}function MouseWheelHandler(e){var curTime=(new Date).getTime(),isNormalScroll=$(COMPLETELY_SEL).hasClass(NORMAL_SCROLL);if(options.autoScrolling&&!controlPressed&&!isNormalScroll){e=e||window.event;var value=e.wheelDelta||-e.deltaY||-e.detail,delta=Math.max(-1,Math.min(1,value)),horizontalDetection=typeof e.wheelDeltaX!="undefined"||typeof e.deltaX!="undefined",isScrollingVertically=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!horizontalDetection;scrollings.length>149&&scrollings.shift(),scrollings.push(Math.abs(value)),options.scrollBar&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var activeSection=$(SECTION_ACTIVE_SEL),scrollable=options.scrollOverflowHandler.scrollable(activeSection),timeDiff=curTime-prevTime;prevTime=curTime,timeDiff>200&&(scrollings=[]);if(canScroll){var averageEnd=getAverage(scrollings,10),averageMiddle=getAverage(scrollings,70),isAccelerating=averageEnd>=averageMiddle;isAccelerating&&isScrollingVertically&&(delta<0?scrolling("down",scrollable):scrolling("up",scrollable))}return!1}options.fitToSection&&$htmlBody.stop()}function moveSlide(direction,section){var activeSection=typeof section=="undefined"?$(SECTION_ACTIVE_SEL):section,slides=activeSection.find(SLIDES_WRAPPER_SEL),numSlides=slides.find(SLIDE_SEL).length;if(!slides.length||slideMoving||numSlides<2)return;var currentSlide=slides.find(SLIDE_ACTIVE_SEL),destiny=null;direction==="left"?destiny=currentSlide.prev(SLIDE_SEL):destiny=currentSlide.next(SLIDE_SEL);if(!destiny.length){if(!options.loopHorizontal)return;direction==="left"?destiny=currentSlide.siblings(":last"):destiny=currentSlide.siblings(":first")}slideMoving=!0,landscapeScroll(slides,destiny,direction)}function keepSlidesPosition(){$(SLIDE_ACTIVE_SEL).each(function(){silentLandscapeScroll($(this),"internal")})}function getDestinationPosition(element){var elemPosition=element.position(),position=elemPosition.top,isScrollingDown=elemPosition.top>previousDestTop,sectionBottom=position-windowsHeight+element.outerHeight(),bigSectionsDestination=options.bigSectionsDestination,containerH=container.outerHeight(),containerPosition=container.offset();!$masthead.hasClass("menu-transparent")&&$("body").hasClass("uncode-fp-menu-shrink")&&!element.is(":first-child")&&(position+=18);if(containerH+menuHeight+bodyBorder+adminBarHeight-windowsHeight<position||isResizing&&element.is(":last-child"))position=sectionBottom+menuHeight+bodyBorder*2+adminBarHeight;return previousDestTop=position,position}function scrollPage(element,callback,isMovementUp){if(typeof element=="undefined")return;var dtop=getDestinationPosition(element),slideAnchorLink,slideIndex,v={element:element,callback:callback,isMovementUp:isMovementUp,dtop:dtop,yMovement:getYmovement(element),anchorLink:element.data("anchor"),sectionIndex:element.index(SECTION_SEL),activeSlide:element.find(SLIDE_ACTIVE_SEL),activeSection:$(SECTION_ACTIVE_SEL),leavingSection:$(SECTION_ACTIVE_SEL).index(SECTION_SEL)+1,localIsResizing:isResizing};if(v.activeSection.is(element)&&!isResizing||options.scrollBar&&$window.scrollTop()===v.dtop&&!element.hasClass(AUTO_HEIGHT))return;v.activeSlide.length&&(slideAnchorLink=v.activeSlide.data("anchor"),slideIndex=v.activeSlide.index()),options.autoScrolling&&options.continuousVertical&&typeof v.isMovementUp!="undefined"&&(!v.isMovementUp&&v.yMovement=="up"||v.isMovementUp&&v.yMovement=="down")&&(v=createInfiniteSections(v));if($.isFunction(options.onLeave)&&!v.localIsResizing&&options.onLeave.call(v.activeSection,v.leavingSection,v.sectionIndex+1,v.yMovement)===!1)return;v.localIsResizing||stopMedia(v.activeSection),options.scrollOverflowHandler.beforeLeave(),element.addClass(ACTIVE).siblings().removeClass(ACTIVE),lazyLoad(element),options.scrollOverflowHandler.onLeave(),canScroll=!1,setState(slideIndex,slideAnchorLink,v.anchorLink,v.sectionIndex),performMovement(v),lastScrolledDestiny=v.anchorLink,activateMenuAndNav(v.anchorLink,v.sectionIndex)}function performMovement(v){if(options.css3&&options.autoScrolling&&!options.scrollBar){var translate3d="translate3d(0px, -"+Math.round(v.dtop)+"px, 0px)";transformContainer(translate3d,!0),options.scrollingSpeed?(clearTimeout(afterSectionLoadsId),afterSectionLoadsId=setTimeout(function(){afterSectionLoads(v)},options.scrollingSpeed)):afterSectionLoads(v)}else{var scrollSettings=getScrollSettings(v);$(scrollSettings.element).animate(scrollSettings.options,options.scrollingSpeed,options.easing).promise().done(function(){options.scrollBar?setTimeout(function(){afterSectionLoads(v)},30):afterSectionLoads(v)})}}function getScrollSettings(v){var scroll={};return options.autoScrolling&&!options.scrollBar?(scroll.options={top:-v.dtop},scroll.element=WRAPPER_SEL):(scroll.options={scrollTop:v.dtop},scroll.element="html, body"),scroll}function createInfiniteSections(v){return v.isMovementUp?$(SECTION_ACTIVE_SEL).before(v.activeSection.nextAll(SECTION_SEL)):$(SECTION_ACTIVE_SEL).after(v.activeSection.prevAll(SECTION_SEL).get().reverse()),silentScroll($(SECTION_ACTIVE_SEL).position().top),keepSlidesPosition(),v.wrapAroundElements=v.activeSection,v.dtop=v.element.position().top,v.yMovement=getYmovement(v.element),v}function continuousVerticalFixSectionOrder(v){if(!v.wrapAroundElements||!v.wrapAroundElements.length)return;v.isMovementUp?$(SECTION_FIRST_SEL).before(v.wrapAroundElements):$(SECTION_LAST_SEL).after(v.wrapAroundElements),silentScroll($(SECTION_ACTIVE_SEL).position().top),keepSlidesPosition()}function afterSectionLoads(v){continuousVerticalFixSectionOrder(v),$.isFunction(options.afterLoad)&&!v.localIsResizing&&options.afterLoad.call(v.element,v.anchorLink,v.sectionIndex+1),options.scrollOverflowHandler.afterLoad(),v.localIsResizing||playMedia(v.element),v.element.addClass(COMPLETELY).siblings().removeClass(COMPLETELY),canScroll=!0,$.isFunction(v.callback)&&v.callback.call(this)}function setSrc(element,attribute){element.attr(attribute,element.data(attribute)).removeAttr("data-"+attribute)}function lazyLoad(destiny){if(!options.lazyLoading)return;var panel=getSlideOrSection(destiny),element;panel.find("img[data-src], img[data-srcset], source[data-src], audio[data-src], iframe[data-src]").each(function(){element=$(this),$.each(["src","srcset"],function(index,type){var attribute=element.attr("data-"+type);typeof attribute!="undefined"&&attribute&&setSrc(element,type)}),element.is("source")&&element.closest("video").get(0).load()})}function playMedia(destiny){var panel=getSlideOrSection(destiny);panel.find("video, audio").each(function(){var element=$(this).get(0);element.hasAttribute("data-autoplay")&&typeof element.play=="function"&&element.play()}),panel.find('iframe[src*="youtube.com/embed/"]').each(function(){var element=$(this).get(0);element.hasAttribute("data-autoplay")&&playYoutube(element),element.onload=function(){element.hasAttribute("data-autoplay")&&playYoutube(element)}})}function playYoutube(element){element.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function stopMedia(destiny){var panel=getSlideOrSection(destiny);panel.find("video, audio").each(function(){var element=$(this).get(0);!element.hasAttribute("data-keepplaying")&&typeof element.pause=="function"&&element.pause()}),panel.find('iframe[src*="youtube.com/embed/"]').each(function(){var element=$(this).get(0);/youtube\.com\/embed\//.test($(this).attr("src"))&&!element.hasAttribute("data-keepplaying")&&$(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function getSlideOrSection(destiny){var slide=destiny.find(SLIDE_ACTIVE_SEL);return slide.length&&(destiny=$(slide)),destiny}function scrollToAnchor(){var value=window.location.hash.replace("#","").split("/"),sectionAnchor=decodeURIComponent(value[0]),slideAnchor=decodeURIComponent(value[1]);sectionAnchor&&(options.animateAnchor?scrollPageAndSlide(sectionAnchor,slideAnchor):silentMoveTo(sectionAnchor,slideAnchor))}function hashChangeHandler(){if(!isScrolling&&!options.lockAnchors){var value=window.location.hash.replace("#","").split("/"),sectionAnchor=decodeURIComponent(value[0]),slideAnchor=decodeURIComponent(value[1]),isFirstSlideMove=typeof lastScrolledDestiny=="undefined",isFirstScrollMove=typeof lastScrolledDestiny=="undefined"&&typeof slideAnchor=="undefined"&&!slideMoving;sectionAnchor.length&&(sectionAnchor&&sectionAnchor!==lastScrolledDestiny&&!isFirstSlideMove||isFirstScrollMove||!slideMoving&&lastScrolledSlide!=slideAnchor)&&scrollPageAndSlide(sectionAnchor,slideAnchor)}}function keydownHandler(e){clearTimeout(keydownId);var activeElement=$(":focus");if(!activeElement.is("textarea")&&!activeElement.is("input")&&!activeElement.is("select")&&activeElement.attr("contentEditable")!=="true"&&activeElement.attr("contentEditable")!==""&&options.keyboardScrolling&&options.autoScrolling){var keyCode=e.which,keyControls=[40,38,32,33,34];$.inArray(keyCode,keyControls)>-1&&e.preventDefault(),controlPressed=e.ctrlKey,keydownId=setTimeout(function(){onkeydown(e)},150)}}function tooltipTextHandler(){$(this).prev().trigger("click")}function keyUpHandler(e){isWindowFocused&&(controlPressed=e.ctrlKey)}function mouseDownHandler(e){e.which==2&&(oldPageY=e.pageY,container.on("mousemove",mouseMoveHandler))}function mouseUpHandler(e){e.which==2&&container.off("mousemove")}function slideArrowHandler(){var section=$(this).closest(SECTION_SEL);$(this).hasClass(SLIDES_PREV)?isScrollAllowed.m.left&&moveSlideLeft(section):isScrollAllowed.m.right&&moveSlideRight(section)}function blurHandler(){isWindowFocused=!1,controlPressed=!1}function sectionBulletHandler(e){e.preventDefault();var index=$(this).parent().index();scrollPage($(SECTION_SEL).eq(index))}function slideBulletHandler(e){e.preventDefault();var slides=$(this).closest(SECTION_SEL).find(SLIDES_WRAPPER_SEL),destiny=slides.find(SLIDE_SEL).eq($(this).closest("li").index());landscapeScroll(slides,destiny)}function onkeydown(e){var shiftPressed=e.shiftKey;if(!canScroll&&[37,39].indexOf(e.which)<0)return;switch(e.which){case 38:case 33:isScrollAllowed.k.up&&moveSectionUp();break;case 32:if(shiftPressed&&isScrollAllowed.k.up){moveSectionUp();break};case 40:case 34:isScrollAllowed.k.down&&moveSectionDown();break;case 36:isScrollAllowed.k.up&&moveTo(1);break;case 35:isScrollAllowed.k.down&&moveTo($(SECTION_SEL).length);break;case 37:isScrollAllowed.k.left&&moveSlideLeft();break;case 39:isScrollAllowed.k.right&&moveSlideRight();break;default:return}}function mouseMoveHandler(e){canScroll&&(e.pageY<oldPageY&&isScrollAllowed.m.up?moveSectionUp():e.pageY>oldPageY&&isScrollAllowed.m.down&&moveSectionDown()),oldPageY=e.pageY}function landscapeScroll(slides,destiny,direction){var section=slides.closest(SECTION_SEL),v={slides:slides,destiny:destiny,direction:direction,destinyPos:destiny.position(),slideIndex:destiny.index(),section:section,sectionIndex:section.index(SECTION_SEL),anchorLink:section.data("anchor"),slidesNav:section.find(SLIDES_NAV_SEL),slideAnchor:getAnchor(destiny),prevSlide:section.find(SLIDE_ACTIVE_SEL),prevSlideIndex:section.find(SLIDE_ACTIVE_SEL).index(),localIsResizing:isResizing};v.xMovement=getXmovement(v.prevSlideIndex,v.slideIndex),v.direction=v.direction?v.direction:v.xMovement,v.localIsResizing||(canScroll=!1);if(options.onSlideLeave&&!v.localIsResizing&&v.xMovement!=="none"&&$.isFunction(options.onSlideLeave)&&options.onSlideLeave.call(v.prevSlide,v.anchorLink,v.sectionIndex+1,v.prevSlideIndex,v.xMovement,v.slideIndex)===!1){slideMoving=!1;return}destiny.addClass(ACTIVE).siblings().removeClass(ACTIVE),v.localIsResizing||(stopMedia(v.prevSlide),lazyLoad(destiny)),!options.loopHorizontal&&options.controlArrows&&(section.find(SLIDES_ARROW_PREV_SEL).toggle(v.slideIndex!==0),section.find(SLIDES_ARROW_NEXT_SEL).toggle(!destiny.is(":last-child"))),section.hasClass(ACTIVE)&&!v.localIsResizing&&setState(v.slideIndex,v.slideAnchor,v.anchorLink,v.sectionIndex),performHorizontalMove(slides,v,!0)}function afterSlideLoads(v){activeSlidesNavigation(v.slidesNav,v.slideIndex),v.localIsResizing||($.isFunction(options.afterSlideLoad)&&options.afterSlideLoad.call(v.destiny,v.anchorLink,v.sectionIndex+1,v.slideAnchor,v.slideIndex),canScroll=!0,playMedia(v.destiny)),slideMoving=!1}function performHorizontalMove(slides,v,fireCallback){var destinyPos=v.destinyPos;if(options.css3){var translate3d="translate3d(-"+Math.round(destinyPos.left)+"px, 0px, 0px)";addAnimation(slides.find(SLIDES_CONTAINER_SEL)).css(getTransforms(translate3d),v),afterSlideLoadsId=setTimeout(function(){fireCallback&&afterSlideLoads(v)},options.scrollingSpeed,options.easing)}else slides.animate({scrollLeft:Math.round(destinyPos.left)},options.scrollingSpeed,options.easing,function(){fireCallback&&afterSlideLoads(v)})}function activeSlidesNavigation(slidesNav,slideIndex){slidesNav.find(ACTIVE_SEL).removeClass(ACTIVE),slidesNav.find("li").eq(slideIndex).find("a").addClass(ACTIVE)}function resizeHandler(){responsive();if(isTouchDevice){var activeElement=$(document.activeElement);if(!activeElement.is("textarea")&&!activeElement.is("input")&&!activeElement.is("select")){var currentHeight=$window.height();Math.abs(currentHeight-previousHeight)>20*Math.max(previousHeight,currentHeight)/100&&(reBuild(!0),previousHeight=currentHeight)}}else clearTimeout(resizeId),resizeId=setTimeout(function(){reBuild(!0)},350)}function responsive(){var widthLimit=options.responsive||options.responsiveWidth,heightLimit=options.responsiveHeight,isBreakingPointWidth=widthLimit&&$window.outerWidth()<widthLimit,isBreakingPointHeight=heightLimit&&$window.height()<heightLimit;widthLimit&&heightLimit?setResponsive(isBreakingPointWidth||isBreakingPointHeight):widthLimit?setResponsive(isBreakingPointWidth):heightLimit&&setResponsive(isBreakingPointHeight)}function addAnimation(container,element){var transition="all "+options.scrollingSpeed+"ms "+options.easingcss3;return container.removeClass(NO_TRANSITION),container.css({"-webkit-transition":transition,transition:transition})}function removeAnimation(element){return element.addClass(NO_TRANSITION)}function activateNavDots(name,sectionIndex){options.navigation&&($(SECTION_NAV_SEL).find(ACTIVE_SEL).removeClass(ACTIVE),name?$(SECTION_NAV_SEL).find('a[href="#'+name+'"]').addClass(ACTIVE):$(SECTION_NAV_SEL).find("li").eq(sectionIndex).find("a").addClass(ACTIVE))}function activateMenuElement(name){options.menu&&($(options.menu).find(ACTIVE_SEL).removeClass(ACTIVE),$(options.menu).find('[data-menuanchor="'+name+'"]').addClass(ACTIVE))}function activateMenuAndNav(anchor,index){activateMenuElement(anchor),activateNavDots(anchor,index)}function getYmovement(destiny){var fromIndex=$(SECTION_ACTIVE_SEL).index(SECTION_SEL),toIndex=destiny.index(SECTION_SEL);return fromIndex==toIndex?"none":fromIndex>toIndex?"up":"down"}function getXmovement(fromIndex,toIndex){return fromIndex==toIndex?"none":fromIndex>toIndex?"left":"right"}function createScrollBar(element){if(element.hasClass("fp-noscroll"))return;element.css("overflow","hidden");var scrollOverflowHandler=options.scrollOverflowHandler,wrap=scrollOverflowHandler.wrapContent(),section=element.closest(SECTION_SEL),scrollable=scrollOverflowHandler.scrollable(element),contentHeight;scrollable.length?contentHeight=scrollOverflowHandler.scrollHeight(element):(contentHeight=element.get(0).scrollHeight,options.verticalCentered&&(contentHeight=element.find(TABLE_CELL_SEL).get(0).scrollHeight));var scrollHeight=windowsHeight-parseInt(section.css("padding-bottom"))-parseInt(section.css("padding-top"));contentHeight>scrollHeight?scrollable.length?scrollOverflowHandler.update(element,scrollHeight):(options.verticalCentered?element.find(TABLE_CELL_SEL).wrapInner(wrap):element.wrapInner(wrap),scrollOverflowHandler.create(element,scrollHeight)):scrollOverflowHandler.remove(element),element.css("overflow","")}function addTableClass(element){element.hasClass(TABLE)||element.addClass(TABLE).wrapInner('<div class="'+TABLE_CELL+'" style="height:'+getTableHeight(element)+'px;" />')}function getTableHeight(element){var sectionHeight=windowsHeight;if(options.paddingTop||options.paddingBottom){var section=element;section.hasClass(SECTION)||(section=element.closest(SECTION_SEL));var paddings=parseInt(section.css("padding-top"))+parseInt(section.css("padding-bottom"));sectionHeight=windowsHeight-paddings}return sectionHeight}function transformContainer(translate3d,animated){animated?addAnimation(container):removeAnimation(container),container.css(getTransforms(translate3d)),setTimeout(function(){container.removeClass(NO_TRANSITION)},10)}function getSectionByAnchor(sectionAnchor){if(!sectionAnchor)return[];var section=container.find(SECTION_SEL+'[data-anchor="'+sectionAnchor+'"]');return section.length||(section=$(SECTION_SEL).eq(sectionAnchor-1)),section}function getSlideByAnchor(slideAnchor,section){var slides=section.find(SLIDES_WRAPPER_SEL),slide=slides.find(SLIDE_SEL+'[data-anchor="'+slideAnchor+'"]');return slide.length||(slide=slides.find(SLIDE_SEL).eq(slideAnchor)),slide}function scrollPageAndSlide(destiny,slide){var section=getSectionByAnchor(destiny);if(!section.length)return;typeof slide=="undefined"&&(slide=0),destiny!==lastScrolledDestiny&&!section.hasClass(ACTIVE)?scrollPage(section,function(){scrollSlider(section,slide)}):scrollSlider(section,slide)}function scrollSlider(section,slideAnchor){if(typeof slideAnchor!="undefined"){var slides=section.find(SLIDES_WRAPPER_SEL),destiny=getSlideByAnchor(slideAnchor,section);destiny.length&&landscapeScroll(slides,destiny)}}function addSlidesNavigation(section,numSlides){section.append('<div class="'+SLIDES_NAV+'"><ul></ul></div>');var nav=section.find(SLIDES_NAV_SEL);nav.addClass(options.slidesNavPosition);for(var i=0;i<numSlides;i++)nav.find("ul").append('<li><a href="#"><span></span></a></li>');nav.css("margin-left","-"+nav.width()/2+"px"),nav.find("li").first().find("a").addClass(ACTIVE)}function setState(slideIndex,slideAnchor,anchorLink,sectionIndex){var sectionHash="";options.anchors.length&&!options.lockAnchors&&(slideIndex?(typeof anchorLink!="undefined"&&(sectionHash=anchorLink),typeof slideAnchor=="undefined"&&(slideAnchor=slideIndex),lastScrolledSlide=slideAnchor,setUrlHash(sectionHash+"/"+slideAnchor)):typeof slideIndex!="undefined"?(lastScrolledSlide=slideAnchor,setUrlHash(anchorLink)):setUrlHash(anchorLink)),setBodyClass()}function setUrlHash(url){if(typeof SiteParameters.slide_footer!="undefined"&&url==SiteParameters.slide_footer)return!1;if(!options.recordHistory)return!1;location.hash=url}function getAnchor(element){var anchor=element.data("anchor"),index=element.index();return typeof anchor=="undefined"&&(anchor=index),anchor}function setBodyClass(){var section=$(SECTION_ACTIVE_SEL),slide=section.find(SLIDE_ACTIVE_SEL),sectionAnchor=getAnchor(section),slideAnchor=getAnchor(slide),text=String(sectionAnchor);slide.length&&(text=text+"-"+slideAnchor),text=text.replace("/","-").replace("#","");var classRe=new RegExp("\\b\\s?"+VIEWING_PREFIX+"-[^\\s]+\\b","g");$body[0].className=$body[0].className.replace(classRe,""),$body.addClass(VIEWING_PREFIX+"-"+text)}function support3d(){var el=document.createElement("p"),has3d,transforms={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(el,null);for(var t in transforms)el.style[t]!==undefined&&(el.style[t]="translate3d(1px,1px,1px)",has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]));return document.body.removeChild(el),has3d!==undefined&&has3d.length>0&&has3d!=="none"}function removeMouseWheelHandler(){document.addEventListener?(document.removeEventListener("mousewheel",MouseWheelHandler,!1),document.removeEventListener("wheel",MouseWheelHandler,!1),document.removeEventListener("MozMousePixelScroll",MouseWheelHandler,!1)):document.detachEvent("onmousewheel",MouseWheelHandler)}function addMouseWheelHandler(){var prefix="",_addEventListener;window.addEventListener?_addEventListener="addEventListener":(_addEventListener="attachEvent",prefix="on");var support="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",passiveEvent=g_supportsPassive?{passive:!1}:!1;support=="DOMMouseScroll"?document[_addEventListener](prefix+"MozMousePixelScroll",MouseWheelHandler,passiveEvent):document[_addEventListener](prefix+support,MouseWheelHandler,passiveEvent)}function addMiddleWheelHandler(){container.on("mousedown",mouseDownHandler).on("mouseup",mouseUpHandler)}function removeMiddleWheelHandler(){container.off("mousedown",mouseDownHandler).off("mouseup",mouseUpHandler)}function addTouchHandler(){if(isTouchDevice||isTouch)options.autoScrolling&&$body.off(events.touchmove).on(events.touchmove,preventBouncing),$(WRAPPER_SEL).off(events.touchstart).on(events.touchstart,touchStartHandler).off(events.touchmove).on(events.touchmove,touchMoveHandler)}function removeTouchHandler(){(isTouchDevice||isTouch)&&$(WRAPPER_SEL).off(events.touchstart).off(events.touchmove)}function getMSPointer(){var pointer;return window.PointerEvent?pointer={down:"pointerdown",move:"pointermove"}:pointer={down:"MSPointerDown",move:"MSPointerMove"},pointer}function getEventsPage(e){var events=[];return events.y=typeof e.pageY!="undefined"&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,events.x=typeof e.pageX!="undefined"&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,isTouch&&isReallyTouch(e)&&options.scrollBar&&(events.y=e.touches[0].pageY,events.x=e.touches[0].pageX),events}function silentLandscapeScroll(activeSlide,noCallbacks){setScrollingSpeed(0,"internal"),typeof noCallbacks!="undefined"&&(isResizing=!0),landscapeScroll(activeSlide.closest(SLIDES_WRAPPER_SEL),activeSlide),typeof noCallbacks!="undefined"&&(isResizing=!1),setScrollingSpeed(originals.scrollingSpeed,"internal")}function silentScroll(top){var roundedTop=Math.round(top);if(options.css3&&options.autoScrolling&&!options.scrollBar){var translate3d="translate3d(0px, -"+roundedTop+"px, 0px)";transformContainer(translate3d,!1)}else options.autoScrolling&&!options.scrollBar?container.css("top",-roundedTop):$htmlBody.scrollTop(roundedTop)}function getTransforms(translate3d){return{"-webkit-transform":translate3d,"-moz-transform":translate3d,"-ms-transform":translate3d,transform:translate3d}}function setIsScrollAllowed(value,direction,type){switch(direction){case"up":isScrollAllowed[type].up=value;break;case"down":isScrollAllowed[type].down=value;break;case"left":isScrollAllowed[type].left=value;break;case"right":isScrollAllowed[type].right=value;break;case"all":type=="m"?setAllowScrolling(value):setKeyboardScrolling(value)}}function destroy(all){setAutoScrolling(!1,"internal"),setAllowScrolling(!1),setKeyboardScrolling(!1),container.addClass(DESTROYED),clearTimeout(afterSlideLoadsId),clearTimeout(afterSectionLoadsId),clearTimeout(resizeId),clearTimeout(scrollId),clearTimeout(scrollId2),$window.off("scroll",scrollHandler).off("hashchange",hashChangeHandler).off("resize",resizeHandler),$document.off("click touchstart",SECTION_NAV_SEL+" a").off("mouseenter",SECTION_NAV_SEL+" li").off("mouseleave",SECTION_NAV_SEL+" li").off("click touchstart",SLIDES_NAV_LINK_SEL).off("mouseover",options.normalScrollElements).off("mouseout",options.normalScrollElements),$(SECTION_SEL).off("click touchstart",SLIDES_ARROW_SEL),clearTimeout(afterSlideLoadsId),clearTimeout(afterSectionLoadsId),all&&destroyStructure()}function destroyStructure(){silentScroll(0),container.find("img[data-src], source[data-src], audio[data-src], iframe[data-src]").each(function(){setSrc($(this),"src")}),container.find("img[data-srcset]").each(function(){setSrc($(this),"srcset")}),$(SECTION_NAV_SEL+", "+SLIDES_NAV_SEL+", "+SLIDES_ARROW_SEL).remove(),$(SECTION_SEL).css({height:"","background-color":"",padding:""}),$(SLIDE_SEL).css({width:""}),container.css({height:"",position:"","-ms-touch-action":"","touch-action":""}),$htmlBody.css({overflow:"",height:""}),$("html").removeClass(ENABLED),$body.removeClass(RESPONSIVE),$.each($body.get(0).className.split(/\s+/),function(index,className){className.indexOf(VIEWING_PREFIX)===0&&$body.removeClass(className)}),$(SECTION_SEL+", "+SLIDE_SEL).each(function(){options.scrollOverflowHandler.remove($(this)),$(this).removeClass(TABLE+" "+ACTIVE)}),removeAnimation(container),container.find(TABLE_CELL_SEL+", "+SLIDES_CONTAINER_SEL+", "+SLIDES_WRAPPER_SEL).each(function(){$(this).replaceWith(this.childNodes)}),container.css({"-webkit-transition":"none",transition:"none"}),$htmlBody.scrollTop(0);var usedSelectors=[SECTION,SLIDE,SLIDES_CONTAINER];$.each(usedSelectors,function(index,value){$("."+value).removeClass(value)})}function setVariableState(variable,value,type){options[variable]=value,type!=="internal"&&(originals[variable]=value)}function displayWarnings(){var extensions=["fadingEffect","continuousHorizontal","scrollHorizontally","interlockedSlides","resetSliders","responsiveSlides","offsetSections","dragAndMove","scrollOverflowReset","parallax"];$.each(extensions,function(index,extension){options[extension]&&showError("warn","fullpage.js extensions require jquery.fullpage.extensions.min.js file instead of the usual jquery.fullpage.js. Requested: "+extension)}),$.each(options.anchors,function(index,name){var nameAttr=$document.find("[name]").filter(function(){return $(this).attr("name")&&$(this).attr("name").toLowerCase()==name.toLowerCase()}),idAttr=$document.find("[id]").filter(function(){return $(this).attr("id")&&$(this).attr("id").toLowerCase()==name.toLowerCase()});if(idAttr.length||nameAttr.length)showError("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE)."),idAttr.length&&showError("error",'"'+name+'" is is being used by another element `id` property'),nameAttr.length&&showError("error",'"'+name+'" is is being used by another element `name` property')})}function showError(type,text){console&&console[type]&&console[type]("fullPage: "+text)}if($("html").hasClass(ENABLED)){displayWarnings();return}var $htmlBody=$("html, body"),$body=$("body"),FP=$.fn.fullpage;options=$.extend({menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:null,scrollOverflow:!1,scrollOverflowReset:!1,scrollOverflowHandler:iscrollHandler,scrollOverflowOptions:null,touchSensitivity:5,normalScrollElementTouchThreshold:5,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},sectionSelector:SECTION_DEFAULT_SEL,slideSelector:SLIDE_DEFAULT_SEL,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,lazyLoading:!0},options);var slideMoving=!1,isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),isTouch="ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,container=$(this),windowsHeight=$window.height(),isResizing=!1,isWindowFocused=!0,lastScrolledDestiny,lastScrolledSlide,canScroll=!0,scrollings=[],controlPressed,startingSection,isScrollAllowed={};isScrollAllowed.m={up:!0,down:!0,left:!0,right:!0},isScrollAllowed.k=$.extend(!0,{},isScrollAllowed.m);var MSPointer=getMSPointer(),events={touchmove:"ontouchmove"in window?"touchmove":MSPointer.move,touchstart:"ontouchstart"in window?"touchstart":MSPointer.down},g_supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){g_supportsPassive=!0}});window.addEventListener("testPassive",null,opts),window.removeEventListener("testPassive",null,opts)}catch(e){}var resizeId,afterSectionLoadsId,afterSlideLoadsId,scrollId,scrollId2,keydownId,originals=$.extend(!0,{},options),$masthead=$("#masthead"),hideMenu=!$("body").hasClass("vmenu")&&$("body").hasClass("uncode-fp-menu-hide")?!0:!1,menuHeight=$masthead.hasClass("menu-transparent")||hideMenu?0:UNCODE.menuHeight,bodyBorder=UNCODE.bodyBorder,adminBarHeight=UNCODE.adminBarHeight;displayWarnings(),iscrollOptions.click=isTouch,iscrollOptions=$.extend(iscrollOptions,options.scrollOverflowOptions),$.extend($.easing,{easeInOutCubic:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b}}),$(this).length&&(FP.setAutoScrolling=setAutoScrolling,FP.setRecordHistory=setRecordHistory,FP.setScrollingSpeed=setScrollingSpeed,FP.setFitToSection=setFitToSection,FP.setLockAnchors=setLockAnchors,FP.setMouseWheelScrolling=setMouseWheelScrolling,FP.setAllowScrolling=setAllowScrolling,FP.setKeyboardScrolling=setKeyboardScrolling,FP.moveSectionUp=moveSectionUp,FP.moveSectionDown=moveSectionDown,FP.silentMoveTo=silentMoveTo,FP.moveTo=moveTo,FP.moveSlideRight=moveSlideRight,FP.moveSlideLeft=moveSlideLeft,FP.fitToSection=fitToSection,FP.reBuild=reBuild,FP.setResponsive=setResponsive,FP.destroy=destroy,init(),bindEvents());var isScrolling=!1,lastScroll=0,touchStartY=0,touchStartX=0,touchEndY=0,touchEndX=0,prevTime=(new Date).getTime(),previousDestTop=0,oldPageY=0,previousHeight=windowsHeight},typeof IScroll!="undefined"&&(IScroll.prototype.wheelOn=function(){this.wrapper.addEventListener("wheel",this),this.wrapper.addEventListener("mousewheel",this),this.wrapper.addEventListener("DOMMouseScroll",this)},IScroll.prototype.wheelOff=function(){this.wrapper.removeEventListener("wheel",this),this.wrapper.removeEventListener("mousewheel",this),this.wrapper.removeEventListener("DOMMouseScroll",this)});var iscrollHandler={refreshId:null,iScrollInstances:[],toggleWheel:function(value){var scrollable=$(SECTION_ACTIVE_SEL).find(SCROLLABLE_SEL);scrollable.each(function(){var iScrollInstance=$(this).data("iscrollInstance");typeof iScrollInstance!="undefined"&&iScrollInstance&&(value?iScrollInstance.wheelOn():iScrollInstance.wheelOff())})},onLeave:function(){iscrollHandler.toggleWheel(!1)},beforeLeave:function(){iscrollHandler.onLeave()},afterLoad:function(){iscrollHandler.toggleWheel(!0)},create:function(element,scrollHeight){var scrollable=element.find(SCROLLABLE_SEL);scrollable.height(scrollHeight),scrollable.each(function(){var $this=$(this),iScrollInstance=$this.data("iscrollInstance");iScrollInstance&&$.each(iscrollHandler.iScrollInstances,function(){$(this).destroy()}),iScrollInstance=new IScroll($this.get(0),iscrollOptions),iscrollHandler.iScrollInstances.push(iScrollInstance),iScrollInstance.wheelOff(),$this.data("iscrollInstance",iScrollInstance)})},isScrolled:function(type,scrollable){var scroller=scrollable.data("iscrollInstance");if(!scroller)return!0;if(type==="top")return scroller.y>=0&&!scrollable.scrollTop();if(type==="bottom")return 0-scroller.y+scrollable.scrollTop()+1+scrollable.innerHeight()>=scrollable[0].scrollHeight},scrollable:function(activeSection){return activeSection.find(SLIDES_WRAPPER_SEL).length?activeSection.find(SLIDE_ACTIVE_SEL).find(SCROLLABLE_SEL):activeSection.find(SCROLLABLE_SEL)},scrollHeight:function(element){return element.find(SCROLLABLE_SEL).children().first().get(0).scrollHeight},remove:function(element){var scrollable=element.find(SCROLLABLE_SEL);if(scrollable.length){var iScrollInstance=scrollable.data("iscrollInstance");iScrollInstance.destroy(),scrollable.data("iscrollInstance",null)}element.find(SCROLLABLE_SEL).children().first().children().first().unwrap().unwrap()},update:function(element,scrollHeight){clearTimeout(iscrollHandler.refreshId),iscrollHandler.refreshId=setTimeout(function(){$.each(iscrollHandler.iScrollInstances,function(){$(this).get(0).refresh()})},150),element.find(SCROLLABLE_SEL).css("height",scrollHeight+"px").parent().css("height",scrollHeight+"px")},wrapContent:function(){return'<div class="'+SCROLLABLE+'"><div class="fp-scroller"></div></div>'}}}),+function($){"use strict";var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.transitioning=null,this.options.parent&&(this.$parent=$(this.options.parent)),this.options.toggle&&this.toggle()};Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var startEvent=$.Event("show.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var actives=this.$parent&&this.$parent.find("> .panel > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide"),hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0),this.transitioning=1;var complete=function(e){if(e&&e.target!=this.$element[0])return;this.$element.removeClass("collapsing").addClass("collapse in")[dimension]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])},Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var complete=function(e){if(e&&e.target!=this.$element[0])return;this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=="object"&&option);!data&&options.toggle&&option=="show"&&(option=!option),data||$this.data("bs.collapse",data=new Collapse(this,options)),typeof option=="string"&&data[option]()})},$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this),href,target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),_target=href.replace(/^#/,"");if($('[data-id="'+_target+'"]').length)var $target=$('[data-id="'+_target+'"]');else var $target=$(target);var data=$target.data("bs.collapse"),option=data?"toggle":$this.data(),parent=$this.attr("data-parent"),$parent=parent&&$(parent);if(!data||!data.transitioning)$parent&&$parent.find('[data-toggle="collapse"][data-parent="'+parent+'"]').not($this).addClass("collapsed"),$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed");$target.collapse(option)})}(jQuery),+function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));if($this.parent("li").hasClass("active"))return;var previous=$ul.find(".active:last a")[0],e=$.Event("show.bs.tab",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;var _target=selector.replace(/^#/,"");if($('[data-id="'+_target+'"]').length)var $target=$('[data-id="'+_target+'"]');else var $target=$(selector);this.activate($this.parent("li"),$ul),this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),element.addClass("active"),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu")&&element.closest("li.dropdown").addClass("active"),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");transition?$active.one($.support.transition.end,next).emulateTransitionEnd(150):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),typeof option=="string"&&data[option]()})},$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this},$(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),$(this).tab("show")})}(jQuery),+function($){"use strict";var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",element,options)};Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$(this.options.viewport.selector||this.options.viewport);var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click")this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focusin",eventOut=trigger=="hover"?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&typeof options.delay=="number"&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout),self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){self.hoverState=="in"&&self.show()},self.options.delay.show)},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout),self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){self.hoverState=="out"&&self.hide()},self.options.delay.hide)},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);if(e.isDefaultPrevented())return;var that=this,$tip=this.tip();this.setContent(),this.options.animation&&$tip.addClass("fade");var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement),this.options.container?$tip.appendTo($(document).find(this.options.container)):$tip.insertAfter(this.$element);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,$parent=this.$element.parent(),parentDim=this.getPosition($parent);placement=placement=="bottom"&&pos.top+pos.height+actualHeight-parentDim.scroll>parentDim.height?"top":placement=="top"&&pos.top-parentDim.scroll-actualHeight<0?"bottom":placement=="right"&&pos.right+actualWidth>parentDim.width?"left":placement=="left"&&pos.left-actualWidth<parentDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement),this.hoverState=null;var complete=function(){that.$element.trigger("shown.bs."+that.type)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;placement=="top"&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var arrowDelta=delta.left?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight,arrowPosition=delta.left?"left":"top",arrowOffsetPosition=delta.left?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],arrowPosition)},Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(){function complete(){that.hoverState!="in"&&$tip.detach(),that.$element.trigger("hidden.bs."+that.type)}var that=this,$tip=this.tip(),e=$.Event("hide.bs."+this.type);this.$element.trigger(e);if(e.isDefaultPrevented())return;return $tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete(),this.hoverState=null,this},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||typeof $e.attr("data-original-title")!="string")&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0],isBody=el.tagName=="BODY";return $.extend({},typeof el.getBoundingClientRect=="function"?el.getBoundingClientRect():null,{scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop(),width:isBody?$(window).width():$element.outerWidth(),height:isBody?$(window).height():$element.outerHeight()},isBody?{top:0,left:0}:$element.offset())},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.width&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title),title},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options=typeof option=="object"&&option;if(!data&&option=="destroy")return;data||$this.data("bs.tooltip",data=new Tooltip(this,options)),typeof option=="string"&&data[option]()})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(el.style[name]!==undefined)return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one($.support.transition.end,function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd()})}(jQuery)